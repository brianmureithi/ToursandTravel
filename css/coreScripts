function tripInit(){app.itineraryMap=new ItineraryMap;app.itineraryMap.initMap()}function BindPriceGridPanel(n,t,i){var r=new $.DatesAndRatesPricePanel(n,t,DatesAndRatesWebservice.CurrentData,i)}function HideOptionsIfEmpty(){var n=$("#calendarExtentions").data("hasoptions")==="True";n||$("#calendarExtentions").hide()}function requestAQuote(){console.log("sending request to server");var n=$("#preRegisterForm"),t=$('input[name="__RequestVerificationToken"]',n).val();$.ajax({url:"/api/sitecore/quoterequest/requestaquotecondensedjs",async:!0,type:"POST",dataType:"JSON",contentType:"application/x-www-form-urlencoded; charset=utf-8",data:{AgreeToRecieveDealsOffersGuides:$("#PreRegister_Subscription").prop("checked")==!0,FirstName:$("#PreRegister_FirstName").val(),LastName:$("#PreRegister_LastName").val(),Email:$("#PreRegister_Email").val(),OperatingProductId:$("#PreRegister_OperatingProductId").val(),RegionId:$("#PreRegister_RegionId").val(),__RequestVerificationToken:t},success:function(){console.log("success");n.find(".lightbox-popup").show()}})}function getInitialYearByOperatingProductGUID(n){var t;return $.each(app.datesAndTimes.tripData,function(){n===$(this)[0].id&&(t=$(this)[0].departureMonths[0])}),t}function setInitialDate(n,t){var r=new Date,n=!n?r.getFullYear():n,t=!!t||t===0?t:r.getMonth(),i;app.datesAndTimes.lastVisitedYear=n;app.datesAndTimes.lastVisitedMonth=t;i=getNextAvailableDate(n,t+1);!i[0]||!i[1]?(i=getPrevAvailableDate(n,t+1),i[0]!=!1&&i[1]!=!1&&($("#datesAndTimesCalendar").datepicker("setDate",new Date(i[0],i[1]-1,1)),app.datesAndTimes.year=i[0],app.datesAndTimes.month=i[1])):($("#datesAndTimesCalendar").datepicker("setDate",new Date(i[0],i[1]-1,1)),app.datesAndTimes.year=i[0],app.datesAndTimes.month=i[1])}function getTripAvailabilityArray(){var r,n=[],t,i;return r=app.datesAndTimes.tripData,$.each(r,function(t,i){$.each(i.departures,function(t,i){var r=i.startDate.split(/[^0-9]/),f=new Date(r[0],r[1]-1,r[2]),u=f.getFullYear(),e=f.getMonth()+1;n[u]=n[u]||[];n[u][e]=1})}),n.length>0&&(t=n.length-1,i=n[t].length-1,i==12?(t++,i=1):i++,n[t]=n[t]||[],n[t][i]=1),app.datesAndTimes.tripAvailabilityArray=n,app.datesAndTimes.tripAvailabilityArray}function getNextAvailableDate(n,t){for(var r,u,f=getTripAvailabilityArray(),i=n;i<f.length;i++)if(r=i,r!=n&&(t=0),u=getAvailabilityInYear(i,t),u!=!1)break;return[r,u]}function getAvailabilityInYear(n,t){var i=getTripAvailabilityArray(),r=!1;return i[n]!=undefined&&(i[n][t]!=undefined?(nextYear=n,r=t):getNextInArray(i[n],t)!==!1&&(nextYear=n,r=getNextInArray(i[n],t))),r}function getNextInArray(n,t){var i=!1,r=!1;return $.each(n,function(n,u){if(u===1&&r===!0)return i=n,!1;n==t&&(r=!0)}),i}function getPrevAvailableDate(n,t){for(var r,u,f=getTripAvailabilityArray(),i=n;i>2015;i--)if(r=i,r!=n&&(t=12),u=getPrevAvailabilityInYear(i,t),u!=!1)break;return[r,u]}function getPrevAvailabilityInYear(n,t){var i=getTripAvailabilityArray(),r=!1;return i[n]!=undefined&&(i[n][t]!=undefined?(nextYear=n,r=t):getPrevInArray(i[n],t)!==!1&&(nextYear=n,r=getPrevInArray(i[n],t))),r}function getPrevInArray(n,t){var i=!1;return $.each(n,function(n,r){if(n==t)return!1;r===1&&(i=n)}),i}function getQueryVariable(n){for(var u=window.location.search.substring(1),r=u.split("&"),i,t=0;t<r.length;t++)if(i=r[t].split("="),i[0]==n)return i[1];return!1}function addLoadingOverlay(){$(".dateSelector__calender .loadingOverlay").stop().fadeTo(250,1)}function removeLoadingOverlay(){$(".dateSelector__calender .loadingOverlay").stop().fadeOut(250)}function getCalendarData(n,t){app.datesAndTimes.year=n;app.datesAndTimes.month=t;UpdateDepartures()}function UpdateDepartures(){DatesAndRatesWebservice.getDepartures()}function preloadCalendarData(n,t){app.datesAndTimes.year=n;app.datesAndTimes.month=t;DatesAndRatesWebservice.loadDepartures(UpdateDepartures)}function getMonthFromString(n){return new Date(Date.parse(n+" 1, 2012")).getMonth()+1}function hasDefiniteDeparturesOnly(){var n=!1;return $.each(app.datesAndTimes.tripData,function(t,i){if(i.isDefiniteDepartutesCheckboxVisible)return n=!0,!0}),n}function paintPrintData(n){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i;$(".pricePrintTable").html("");i=$(".pricePrintTable");i.append("<tr class='header'><td>Departs<\/td><td>Returns<\/td><td>Twin land only<\/td><td>Single land only<\/td><\/tr>");$.each(n,function(n,i){$.each(i.departures,function(n,r){if(app.page_id.toLowerCase()=="{"+i.id+"}".toLowerCase()){var u=r.startDate.split(/[^0-9]/),f=new Date(u[0],u[1]-1,u[2]),h=f.getFullYear(),c=t[f.getMonth()],l=f.getDate(),e=r.endDate.split(/[^0-9]/),o=new Date(e[0],e[1]-1,e[2]),a=o.getFullYear(),v=t[o.getMonth()],y=o.getDate(),p=r.button.departure.adultTwinRoomPriceCombined,w=r.button.departure.adultSingleRoomPriceCombined,s=r.button.departure.currency,b=$(".pricePrintTable");b.append("<tr><td>"+l+" "+c+" "+h+"<\/td>\n<td>"+y+" "+v+" "+a+"<\/td>\n<td>"+p+" "+s+"<\/td>\n<td>"+w+" "+s+"<\/td>\n<\/tr>")}})})}function paintCellData(n){var t=n[0].departures[0],i=n[0].departures[n[0].departures.length-1],f;$.each(n,function(n,r){var u=r.departures[0],f=r.departures[r.departures.length-1];new Date(t.startDate)>new Date(u.startDate)&&(t=u);new Date(i.startDate)<new Date(f.startDate)&&(i=f)});for(var u=0,r=new Date(new Date(t.startDate).setDate(1)),e=new Date(new Date(i.startDate).setDate(2));r<e;)r.setMonth(r.getMonth()+1),u++;$("#datesAndTimesCalendar").datepicker("option","numberOfMonths",u);currentBrochureIndex=0;$.each(n,function(n,t){t.id==operatingProductID&&(currentBrochureIndex=n);$.each(t.departures,function(t,i){var s=i.startDate.split(/[^0-9]/),e=new Date(s[0],s[1]-1,s[2]),a=e.getFullYear(),v=e.getMonth()+1,y=e.getDate(),h=i.endDate.split(/[^0-9]/),o=new Date(h[0],h[1]-1,h[2]),rt=o.getFullYear(),ut=o.getMonth()+1,ft=o.getDate(),u=$('#datesAndTimesCalendar td[data-month="'+(v-1)+'"][data-year="'+a+'"] ').eq(y-1),p=i.button.state===0||!1,w=i.button.state===2||i.button.state===1||!1,b=i.discountText=="Early payment"?!0:!1,k=i.discountText=="Last Minute Deal"?!0:!1,d=i.button.state===3||!1,g=i.button.state===4||!1,nt=i.isAlternate,tt=i.definite,r=[],l;p&&(r[r.length]="departureDateAvailable");w&&(r[r.length]="onRequestOnly");b&&(r[r.length]="earlyPaymentDiscount");tt&&(r[r.length]="definiteDeparture");k&&(r[r.length]="lastMinuteDiscount");g&&(r[r.length]="cancelled");d&&(r[r.length]="closed");nt&&(r[r.length]="similarTrip",u.data("tripId",i.button.tripId),u.data("tripName",i.tripName),u.data("alternateLevel",i.alternateLevel));u.attr("data-brochure_index",n);r[r.length]="departureTooltip";r=r.join(" ");u.children(":not(:first-child)").length>0&&u.children(":not(:first-child)").remove();u.addClass(r);var it=$.DatesAndRatesPricePanel.getCalendarModel(t,n,DatesAndRatesWebservice.CurrentData),f=it.Price.Now.replace("AUS","").replace("US","").replace("PP","").replace(",",""),c=f.indexOf(".");c>0&&(f=f.substring(0,c!=-1?c:f.length));l=i.button.departure.mvCode+": "+i.button.departure.departureCode+" - "+i.button.departure.availabilityStatus;u.append("<!-- Debug: "+l+"-->");u.append('<span class="isDepartureDateAvailable">BOOK<\/span><span class="isOnRequestOnly"><i class="isOnRequestOnly__text">CALL US<\/i><\/span><span class="isEarlyPaymentDiscount"><i class="isEarlyPaymentDiscount__text"><\/i><\/span><span class="isLastMinuteDeal"><i class="isLastMinuteDeal__text"><\/i><\/span><span class="isDefiniteDeparture"><i class="fa fa-check" aria-hidden="true"><\/i><\/span><span class="isClosed"><span>SOLD<\/span><span>OUT<\/span><\/span><span class="isCancelled">CLOSED<\/span><span class="hasSimilarTrip"><span>ALTERNATE<\/span><span>TRIP<\/span><\/span><span class="datesAndTimesCalendar__price">'+f+"<\/span>");u.data("start-date",e);u.data("end-date",o);u.attr("data-brochure_index",n);u.data("departure_index",t);u.data("tooltip-content","#tooltip_content");u.mouseenter(function(){highlightDuration($(this))});u.mouseleave(function(){});u.click(function(){if(console.log($(this)),$(this).hasClass("similarTrip"))calendarModalHandler($(".similar-trips-wrapper")),BindPriceGridPanel($(this).data("departure_index"),$(this).data("brochure_index"));else{if($(this).hasClass("closed")||$(this).hasClass("cancelled"))return!1;$(".calendar-modal-wrapper > .calendar-piece-confirm").removeClass("open surface");BindPriceGridPanel($(this).data("departure_index"),$(this).data("brochure_index"));calendarModalHandler($(".calendar-modal-wrapper > .calendar-piece-confirm"))}$(".calendar-piece-confirm .PaymentInfo li:contains(Flights available)").each(function(){$(this).hide()})})})});f=$(".ui-datepicker-group");$.each(f,function(n,t){var i=$(t).has(".departureTooltip").length;i||t.classList.contains("lastCalendarTile")||$(t).remove()});$("td.departureTooltip[data-brochure_index='"+currentBrochureIndex+"']").first().click();$("td.departureDateAvailable[data-brochure_index='"+currentBrochureIndex+"']").first().click();app.datesAndTimes.initialDateSet=!0;initItineraryChangeWarning();initLastAvailableMonthWarning();buildCalendarCarousel();console.log("finished painting cell data")}function calendarModalHandler(n){var t=$(n),i;$(".calendar-modal").removeClass("surface");$(".calendarModal__mobile").addClass("surface");t.addClass("open surface");clearTimeout(i);i=setTimeout(function(){$(".calendar-modal").not(t).removeClass("open");$(".open-simTrip").removeClass("open-simTrip")},500)}function closeAllModals(){$(".calendar-modal, .calendarModal__mobile").removeClass("open");$(".itineraryChanged__warning-modal").removeClass("open");setTimeout(function(){$(".calendar-modal, .calendarModal__mobile").removeClass("surface");$(".open-simTrip").removeClass("open-simTrip")},500)}function initItineraryChangeWarning(){$(".itineraryChanged__warning").length==0&&($("#datesAndTimesCalendar").append('<div class="itineraryChanged__warning"><p class="subtitle"><i class="fa fa-warning"><\/i> Date &amp; Price Updated<\/p><p><small>Please note, the itinerary, meals and highlights may have changed as a result of selecting a new date.<\/small><\/p><p><small>Please check these again before booking this date.<\/small><\/p><a class="close">&times;<\/a><\/div>'),$(".itineraryChanged__warning .close").click(function(n){n.preventDefault();$(this).parent().stop().fadeOut()}))}function initLastAvailableMonthWarning(){$(".itineraryChanged__noFurtherDatesWarning").length==0&&($("#datesAndTimesCalendar").append('<div class="itineraryChanged__noFurtherDatesWarning"><p class="subtitle"><i class="fa fa-warning"><\/i> There are no further dates to display<\/p><p><small>If you would like to know more, please feel free to <a href="#">ask a question<\/a><\/small><\/p><a class="close">&times;<\/a><\/div>'),$(".itineraryChanged__noFurtherDatesWarning .close").click(function(n){n.preventDefault();$(this).parent().stop().fadeOut()}))}function highlightDuration(n){clearHighlight();var t=n.data("startDate"),i=n.data("endDate");console.log(n);$(n).hasClass("cancelled")||$(n).hasClass("closed")||n.parents("#datesAndTimesCalendar").find("td").each(function(n,r){var f=$(r).data("year"),e=$(r).data("month"),o=$(r).find("a").text(),u=new Date(f,e,o);u>=t&&u<=i&&($(this).addClass("datesAndTimes--active"),u.valueOf()==t.valueOf()&&$(this).addClass("datesAndTimes--activeStart"),u.valueOf()==i.valueOf()&&$(this).addClass("datesAndTimes--activeEnd"))})}function clearHighlight(){$("#datesAndTimesCalendar td").removeClass("datesAndTimes--active datesAndTimes--activeStart datesAndTimes--activeEnd")}function debounce(n,t,i){var r;return function(){var u=this,f=arguments,e=function(){r=null;i||n.apply(u,f)},o=i&&!r;clearTimeout(r);r=setTimeout(e,t);o&&n.apply(u,f)}}function buildCalendarCarousel(){var n=$(".lastCalendarTile").clone();$("#datesAndTimesCalendar .ui-datepicker-row-break").remove();$(".ui-datepicker-calendar td > div").length<1&&$(".ui-datepicker-calendar td").each(function(n,t){$(t).html($(this).html().replace(/&nbsp;/gi,""));var i=$(t).html();i="<div>"+i+"<\/div>";$(t).html(i)});$("#datesAndTimesCalendar .ui-datepicker .ui-datepicker-group").length<1&&$("#datesAndTimesCalendar").addClass("hide-carousel");$(".ui-datepicker").hasClass("slick-initialized")||($("#datesAndTimesCalendar .ui-datepicker").slick({dots:!1,infinite:!1,slidesToShow:2,slidesToScroll:1,responsive:[{breakpoint:1200,settings:{slidesToShow:1}}]}),$("#datesAndTimesCalendar .ui-datepicker").slick("slickAdd",n),$("#datesAndTimesCalendar").addClass("calendarInitialised"));console.log("Built the calendar carousel");removeLoadingOverlay()}function parseAutoCompleteTermsToHTML(n){var t=$();return typeof n=="object"&&n.terms.length>0&&$.each(n.terms,function(n,i){var r=app.autoComplete.autoCompleteSearchUrl+"?Filter.SearchTerm="+cleanSearchParameters(i.searchTerm);t=t.add('<div class="autoComplete__termItem"><a href="'+r+'" class="autoComplete__termItemLink">'+i.searchTerm+" <strong>("+i.results+")<\/strong><\/a><\/div>")}),t}function parseAutoCompleteFeaturedToHTML(n){var t=$();return typeof n=="object"&&n.featured.length>0&&$.each(n.featured,function(n,i){t=t.add('<div class="autoComplete__termItem autoComplete__termItemFeatured"><a href="'+i.url+'" class="autoComplete__termItemLink"><img class="autoComplete__termItemImage" src="'+i.image+'" /><span class="autoComplete__termItemTitle">'+i.title+"<\/span><\/a><\/div>")}),t}function removeAutoCompleteResults(){$(".heroBanner__form .autoComplete__terms").remove();app.autoComplete.autoCompleteTermLength=0}function printAutoCompleteData(n){clearInterval(app.autoComplete.autoCompleteInterval);app.autoComplete.autoCompleteInterval=null;var t=$('<div class="autoComplete__terms">'),i=$(),r=$();i=parseAutoCompleteTermsToHTML(n);r=parseAutoCompleteFeaturedToHTML(n);t.append(i);t.append(r);setTimeout(function(){$(".heroBanner__form .form-field").append(t)},50);setTimeout(function(){$(t).find(".autoComplete__termItemLink").addClass("autoComplete__termItemLink--active")},100)}function cleanSearchParameters(n){return n.replace(" ","+")}function videoHandler(){var n=this.videoWidth,t=this.videoHeight,i=n/t;(adjSize=function(){var n=document.getElementById("v"),t=document.getElementById("c"),u=t.getContext("2d"),i=Math.floor($(window).width()),r=Math.floor($(".heroBanner--videoContainer").height());t.width=i;t.height=r;app.elements.canvas.width=i;app.elements.canvas.height=r;/(iphone|ipod|ipad)/.test(navigator.userAgent.toLowerCase())||(n.addEventListener("play",function(){draw(u,this,0,0,i,r)},!1),setTimeout(function(){n.pause();n.play()},4e3))})();$(window).resize(adjSize)}function draw(n,t,i,r,u,f,e,o){if(v.paused||v.ended)return!1;u=app.elements.canvas.width;f=app.elements.canvas.height;arguments.length===2&&(i=r=0,u=n.canvas.width,f=n.canvas.height);e=typeof e=="number"?e:.5;o=typeof o=="number"?o:.5;e<0&&(e=0);o<0&&(o=0);e>1&&(e=1);o>1&&(o=1);var s=$("#v").width(),h=$("#v").height(),k=Math.min(u/s,f/h),y=s*k,p=h*k,w,b,c,l,a=1;y<u&&(a=u/y);Math.abs(a-1)<1e-14&&p<f&&(a=f/p);y*=a;p*=a;c=s/(y/u);l=h/(p/f);w=(s-c)*e;b=(h-l)*o;w<0&&(w=0);b<0&&(b=0);c>s&&(c=s);l>h&&(l=h);n.drawImage(t,w,b,c,l,i,r,u,f);setTimeout(draw,20,n,t,0,0,u,f)}function initCarousels(){function t(){setTimeout(function(){$(".iconCarousel .owl-item:not(.active)").removeClass("finishedSliding")},250);$(".iconCarousel .owl-item.active").addClass("finishedSliding");i()}function r(){setTimeout(function(){$(".iconCarousel .owl-item:not(.active)").removeClass("finishedSliding")},250);$(".iconCarousel .owl-item.active").addClass("finishedSliding")}function i(){var n=$(".iconCarousel__dotsContainer > div.active");$(".icons-carousel-nav .active-bar .active-item").css({left:n.position().left,width:n.width()+40})}if($(window).width()<769?$(".articleLister").owlCarousel({autoWidth:!0,items:1,nav:!1,mouseDrag:!0,responsive:{480:{dots:!0},769:{dots:!1}}}):$(".articleLister").find(".owl-item").length>0&&($(".articleLister").trigger("destroy.owl.carousel"),$(".articleLister.owl-carousel").children().children().unwrap(),$(".articleLister.owl-carousel").removeClass("owl-carousel owl-loaded")),isPageEditor()||$(".experienceCarousel").owlCarousel({margin:10,nav:$(".experienceCarousel .experienceCarousel__item").length>1?!0:!1,navText:["",""],dots:!0,items:1,loop:$(".experienceCarousel .experienceCarousel__item").length>1?!0:!1}),$(".tripListingContainer").each(function(n,t){var u=$(t).find(".tripListingCarousel__dotsContainer"),r=$(t).find(".tripListingCarousel_title");if(console.log("el: ",$(t),"    carousel item length: ",r.length),r.length>1){isPageEditor()||($(t).find(".tripListingCarousel").owlCarousel({margin:40,nav:!1,dots:!0,items:1,loop:!0,rewind:!1,dotsContainer:u,onInitialized:i,onTranslate:i,onResize:i}),$(t).find(".carousel-nav .carousel-next").click(function(n){n.preventDefault();$(t).find(".tripListingCarousel").trigger("next.owl.carousel")}),$(t).find(" .carousel-nav .carousel-prev").click(function(n){n.preventDefault();$(t).find(".tripListingCarousel").trigger("prev.owl.carousel")}));function i(){var n=$(t).find(".tripListingCarousel_title.active");$(t).find(".tripListingCarousel__dotsContainer--wrapper .active-bar .active-item").css({left:n.position().left,width:n.width()+40})}}}),!isPageEditor()){var n=$(".iconCarousel");$(window).load(function(){n.owlCarousel({margin:10,nav:!1,dots:!0,items:1,loop:$(".iconCarousel .iconCarousel__tab").length>1?!0:!1,smartSpeed:1e3,dotsContainer:".iconCarousel__dotsContainer",onInitialized:t,onTranslate:i,onTranslated:r,onResize:t})});$(".iconCarousel-nav.next").click(function(t){t.preventDefault();n.trigger("next.owl.carousel")});$(".iconCarousel-nav.prev").click(function(t){t.preventDefault();n.trigger("prev.owl.carousel")})}$(window).width()<1500?$(".feefoReview--row").owlCarousel({items:1,mouseDrag:!0,isSlider:!0,dots:!1,responsive:{768:{items:2},1200:{items:3},1500:{items:4}}}):$(".feefoReview--row").find(".owl-item").length>0&&($(".feefoReview--row").trigger("destroy.owl.carousel"),$(".feefoReview--row.owl-carousel").children().children().unwrap(),$(".feefoReview--row.owl-carousel").removeClass("owl-carousel owl-loaded"))}function clearDebounceTimer(){clearTimeout(app.keyDebounce);app.keyDebounce=undefined}function keyDownDebounce(){app.keyDebounce=setTimeout(clearDebounceTimer,app.keyDebounceTimer)}function fontReady(){typeof Sitecore=="undefined"&&setTimeout(function(){$(".cardBanner__contentInner").trigger("update")},600)}function startsWith(n,t){return t.searchTerm.toLowerCase().indexOf(n.toLowerCase())===0}function resizeMenu(){$(window).width()>991?($(".menuItems__top").css("height",$(window).height()),$(".menuItems__top > li > .subMenu").css("height",$(window).height())):$(".menuItems__top,.menuItems__top > li > .subMenu").css("height","auto")}function mtsMenuHandler(){var n=window.innerWidth;n<991?$(".headerRightLower__accountDropdown").appendTo(".mtsMenuHolderMobile"):$(".headerRightLower__accountDropdown").prependTo(".headerRightLower__buttonsRight")}function lightboxInitializeClose(n){$(n).on("click",function(n){n.preventDefault();$(this).parents(".lightbox-popup").hide()})}function toggleAgentTripDepartures(n){$("div.agent-trip-departure-toggle").length>0&&($("div.agent-trip-departure-toggle").hide(),n="#"+n,$(n).length>0&&$(n).show())}var EasingAnimator,easingAnimator,styler,DatesAndRatesWebservice,currentBrochureIndex,setModalPosition,MyTravelSpace,isPageEditor;!function(n,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=n.document?t(n,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return t(n)}:t(n)}("undefined"!=typeof window?window:this,function(n,t){"use strict";function gi(n,t){t=t||u;var i=t.createElement("script");i.text=n;t.head.appendChild(i).parentNode.removeChild(i)}function ui(n){var t=!!n&&"length"in n&&n.length,r=i.type(n);return"function"===r||i.isWindow(n)?!1:"array"===r||0===t||"number"==typeof t&&t>0&&t-1 in n}function fi(n,t,r){if(i.isFunction(t))return i.grep(n,function(n,i){return!!t.call(n,i,n)!==r});if(t.nodeType)return i.grep(n,function(n){return n===t!==r});if("string"==typeof t){if(gf.test(t))return i.filter(t,n,r);t=i.filter(t,n)}return i.grep(n,function(n){return lt.call(t,n)>-1!==r&&1===n.nodeType})}function hr(n,t){while((n=n[t])&&1!==n.nodeType);return n}function ne(n){var t={};return i.each(n.match(h)||[],function(n,i){t[i]=!0}),t}function d(n){return n}function yt(n){throw n;}function cr(n,t,r){var u;try{n&&i.isFunction(u=n.promise)?u.call(n).done(t).fail(r):n&&i.isFunction(u=n.then)?u.call(n,t,r):t.call(void 0,n)}catch(n){r.call(void 0,n)}}function wt(){u.removeEventListener("DOMContentLoaded",wt);n.removeEventListener("load",wt);i.ready()}function ot(){this.expando=i.expando+ot.uid++}function ar(n,t,i){var r;if(void 0===i&&1===n.nodeType)if(r="data-"+t.replace(ie,"-$&").toLowerCase(),i=n.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:te.test(i)?JSON.parse(i):i}catch(u){}e.set(n,t,i)}else i=void 0;return i}function pr(n,t,r,u){var h,e=1,l=20,c=u?function(){return u.cur()}:function(){return i.css(n,t,"")},s=c(),o=r&&r[3]||(i.cssNumber[t]?"":"px"),f=(i.cssNumber[t]||"px"!==o&&+s)&&st.exec(i.css(n,t));if(f&&f[3]!==o){o=o||f[3];r=r||[];f=+s||1;do e=e||".5",f/=e,i.style(n,t,f+o);while(e!==(e=c()/s)&&1!==e&&--l)}return r&&(f=+f||+s||0,h=r[1]?f+(r[1]+1)*r[2]:+r[2],u&&(u.unit=o,u.start=f,u.end=h)),h}function re(n){var r,f=n.ownerDocument,u=n.nodeName,t=ei[u];return t?t:(r=f.body.appendChild(f.createElement(u)),t=i.css(r,"display"),r.parentNode.removeChild(r),"none"===t&&(t="block"),ei[u]=t,t)}function g(n,t){for(var e,u,f=[],i=0,o=n.length;o>i;i++)u=n[i],u.style&&(e=u.style.display,t?("none"===e&&(f[i]=r.get(u,"display")||null,f[i]||(u.style.display="")),""===u.style.display&&bt(u)&&(f[i]=re(u))):"none"!==e&&(f[i]="none",r.set(u,"display",e)));for(i=0;o>i;i++)null!=f[i]&&(n[i].style.display=f[i]);return n}function o(n,t){var r="undefined"!=typeof n.getElementsByTagName?n.getElementsByTagName(t||"*"):"undefined"!=typeof n.querySelectorAll?n.querySelectorAll(t||"*"):[];return void 0===t||t&&i.nodeName(n,t)?i.merge([n],r):r}function oi(n,t){for(var i=0,u=n.length;u>i;i++)r.set(n[i],"globalEval",!t||r.get(t[i],"globalEval"))}function gr(n,t,r,u,f){for(var e,s,p,a,w,v,h=t.createDocumentFragment(),y=[],l=0,b=n.length;b>l;l++)if(e=n[l],e||0===e)if("object"===i.type(e))i.merge(y,e.nodeType?[e]:e);else if(dr.test(e)){for(s=s||h.appendChild(t.createElement("div")),p=(br.exec(e)||["",""])[1].toLowerCase(),a=c[p]||c._default,s.innerHTML=a[1]+i.htmlPrefilter(e)+a[2],v=a[0];v--;)s=s.lastChild;i.merge(y,s.childNodes);s=h.firstChild;s.textContent=""}else y.push(t.createTextNode(e));for(h.textContent="",l=0;e=y[l++];)if(u&&i.inArray(e,u)>-1)f&&f.push(e);else if(w=i.contains(e.ownerDocument,e),s=o(h.appendChild(e),"script"),w&&oi(s),r)for(v=0;e=s[v++];)kr.test(e.type||"")&&r.push(e);return h}function dt(){return!0}function nt(){return!1}function tu(){try{return u.activeElement}catch(n){}}function si(n,t,r,u,f,e){var o,s;if("object"==typeof t){"string"!=typeof r&&(u=u||r,r=void 0);for(s in t)si(n,s,r,u,t[s],e);return n}if(null==u&&null==f?(f=r,u=r=void 0):null==f&&("string"==typeof r?(f=u,u=void 0):(f=u,u=r,r=void 0)),f===!1)f=nt;else if(!f)return n;return 1===e&&(o=f,f=function(n){return i().off(n),o.apply(this,arguments)},f.guid=o.guid||(o.guid=i.guid++)),n.each(function(){i.event.add(this,t,f,u,r)})}function iu(n,t){return i.nodeName(n,"table")&&i.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?n.getElementsByTagName("tbody")[0]||n:n}function le(n){return n.type=(null!==n.getAttribute("type"))+"/"+n.type,n}function ae(n){var t=he.exec(n.type);return t?n.type=t[1]:n.removeAttribute("type"),n}function ru(n,t){var u,c,f,s,h,l,a,o;if(1===t.nodeType){if(r.hasData(n)&&(s=r.access(n),h=r.set(t,s),o=s.events)){delete h.handle;h.events={};for(f in o)for(u=0,c=o[f].length;c>u;u++)i.event.add(t,f,o[f][u])}e.hasData(n)&&(l=e.access(n),a=i.extend({},l),e.set(t,a))}}function ve(n,t){var i=t.nodeName.toLowerCase();"input"===i&&wr.test(n.type)?t.checked=n.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=n.defaultValue)}function tt(n,t,u,e){t=bi.apply([],t);var l,p,c,a,s,w,h=0,v=n.length,k=v-1,y=t[0],b=i.isFunction(y);if(b||v>1&&"string"==typeof y&&!f.checkClone&&se.test(y))return n.each(function(i){var r=n.eq(i);b&&(t[0]=y.call(this,i,r.html()));tt(r,t,u,e)});if(v&&(l=gr(t,n[0].ownerDocument,!1,n,e),p=l.firstChild,1===l.childNodes.length&&(l=p),p||e)){for(c=i.map(o(l,"script"),le),a=c.length;v>h;h++)s=l,h!==k&&(s=i.clone(s,!0,!0),a&&i.merge(c,o(s,"script"))),u.call(n[h],s,h);if(a)for(w=c[c.length-1].ownerDocument,i.map(c,ae),h=0;a>h;h++)s=c[h],kr.test(s.type||"")&&!r.access(s,"globalEval")&&i.contains(w,s)&&(s.src?i._evalUrl&&i._evalUrl(s.src):gi(s.textContent.replace(ce,""),w))}return n}function uu(n,t,r){for(var u,e=t?i.filter(t,n):n,f=0;null!=(u=e[f]);f++)r||1!==u.nodeType||i.cleanData(o(u)),u.parentNode&&(r&&i.contains(u.ownerDocument,u)&&oi(o(u,"script")),u.parentNode.removeChild(u));return n}function ht(n,t,r){var o,s,h,u,e=n.style;return r=r||gt(n),r&&(u=r.getPropertyValue(t)||r[t],""!==u||i.contains(n.ownerDocument,n)||(u=i.style(n,t)),!f.pixelMarginRight()&&hi.test(u)&&fu.test(t)&&(o=e.width,s=e.minWidth,h=e.maxWidth,e.minWidth=e.maxWidth=e.width=u,u=r.width,e.width=o,e.minWidth=s,e.maxWidth=h)),void 0!==u?u+"":u}function eu(n,t){return{get:function(){return n()?void delete this.get:(this.get=t).apply(this,arguments)}}}function cu(n){if(n in hu)return n;for(var i=n[0].toUpperCase()+n.slice(1),t=su.length;t--;)if(n=su[t]+i,n in hu)return n}function lu(n,t,i){var r=st.exec(t);return r?Math.max(0,r[2]-(i||0))+(r[3]||"px"):t}function au(n,t,r,u,f){for(var e=r===(u?"border":"content")?4:"width"===t?1:0,o=0;4>e;e+=2)"margin"===r&&(o+=i.css(n,r+w[e],!0,f)),u?("content"===r&&(o-=i.css(n,"padding"+w[e],!0,f)),"margin"!==r&&(o-=i.css(n,"border"+w[e]+"Width",!0,f))):(o+=i.css(n,"padding"+w[e],!0,f),"padding"!==r&&(o+=i.css(n,"border"+w[e]+"Width",!0,f)));return o}function vu(n,t,r){var u,o=!0,e=gt(n),s="border-box"===i.css(n,"boxSizing",!1,e);if(n.getClientRects().length&&(u=n.getBoundingClientRect()[t]),0>=u||null==u){if(u=ht(n,t,e),(0>u||null==u)&&(u=n.style[t]),hi.test(u))return u;o=s&&(f.boxSizingReliable()||u===n.style[t]);u=parseFloat(u)||0}return u+au(n,t,r||(s?"border":"content"),o,e)+"px"}function s(n,t,i,r,u){return new s.prototype.init(n,t,i,r,u)}function wu(){rt&&(n.requestAnimationFrame(wu),i.fx.tick())}function bu(){return n.setTimeout(function(){it=void 0}),it=i.now()}function ni(n,t){var r,u=0,i={height:n};for(t=t?1:0;4>u;u+=2-t)r=w[u],i["margin"+r]=i["padding"+r]=n;return t&&(i.opacity=i.width=n),i}function ku(n,t,i){for(var u,f=(l.tweeners[t]||[]).concat(l.tweeners["*"]),r=0,e=f.length;e>r;r++)if(u=f[r].call(i,t,n))return u}function we(n,t,u){var f,y,w,c,b,s,o,l,k="width"in t||"height"in t,v=this,p={},h=n.style,a=n.nodeType&&bt(n),e=r.get(n,"fxshow");u.queue||(c=i._queueHooks(n,"fx"),null==c.unqueued&&(c.unqueued=0,b=c.empty.fire,c.empty.fire=function(){c.unqueued||b()}),c.unqueued++,v.always(function(){v.always(function(){c.unqueued--;i.queue(n,"fx").length||c.empty.fire()})}));for(f in t)if(y=t[f],yu.test(y)){if(delete t[f],w=w||"toggle"===y,y===(a?"hide":"show")){if("show"!==y||!e||void 0===e[f])continue;a=!0}p[f]=e&&e[f]||i.style(n,f)}if(s=!i.isEmptyObject(t),s||!i.isEmptyObject(p)){k&&1===n.nodeType&&(u.overflow=[h.overflow,h.overflowX,h.overflowY],o=e&&e.display,null==o&&(o=r.get(n,"display")),l=i.css(n,"display"),"none"===l&&(o?l=o:(g([n],!0),o=n.style.display||o,l=i.css(n,"display"),g([n]))),("inline"===l||"inline-block"===l&&null!=o)&&"none"===i.css(n,"float")&&(s||(v.done(function(){h.display=o}),null==o&&(l=h.display,o="none"===l?"":l)),h.display="inline-block"));u.overflow&&(h.overflow="hidden",v.always(function(){h.overflow=u.overflow[0];h.overflowX=u.overflow[1];h.overflowY=u.overflow[2]}));s=!1;for(f in p)s||(e?"hidden"in e&&(a=e.hidden):e=r.access(n,"fxshow",{display:o}),w&&(e.hidden=!a),a&&g([n],!0),v.done(function(){a||g([n]);r.remove(n,"fxshow");for(f in p)i.style(n,f,p[f])})),s=ku(a?e[f]:0,f,v),f in e||(e[f]=s.start,a&&(s.end=s.start,s.start=0))}}function be(n,t){var r,f,e,u,o;for(r in n)if(f=i.camelCase(r),e=t[f],u=n[r],i.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),o=i.cssHooks[f],o&&"expand"in o){u=o.expand(u);delete n[f];for(r in u)r in n||(n[r]=u[r],t[r]=e)}else t[f]=e}function l(n,t,r){var e,o,s=0,a=l.prefilters.length,f=i.Deferred().always(function(){delete c.elem}),c=function(){if(o)return!1;for(var s=it||bu(),t=Math.max(0,u.startTime+u.duration-s),h=t/u.duration||0,i=1-h,r=0,e=u.tweens.length;e>r;r++)u.tweens[r].run(i);return f.notifyWith(n,[u,i,t]),1>i&&e?t:(f.resolveWith(n,[u]),!1)},u=f.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{},easing:i.easing._default},r),originalProperties:t,originalOptions:r,startTime:it||bu(),duration:r.duration,tweens:[],createTween:function(t,r){var f=i.Tween(n,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(f),f},stop:function(t){var i=0,r=t?u.tweens.length:0;if(o)return this;for(o=!0;r>i;i++)u.tweens[i].run(1);return t?(f.notifyWith(n,[u,1,0]),f.resolveWith(n,[u,t])):f.rejectWith(n,[u,t]),this}}),h=u.props;for(be(h,u.opts.specialEasing);a>s;s++)if(e=l.prefilters[s].call(u,n,h,u.opts))return i.isFunction(e.stop)&&(i._queueHooks(u.elem,u.opts.queue).stop=i.proxy(e.stop,e)),e;return i.map(h,ku,u),i.isFunction(u.opts.start)&&u.opts.start.call(n,u),i.fx.timer(i.extend(c,{elem:n,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function b(n){return n.getAttribute&&n.getAttribute("class")||""}function ai(n,t,r,u){var f;if(i.isArray(t))i.each(t,function(t,i){r||ke.test(n)?u(n,i):ai(n+"["+("object"==typeof i&&null!=i?t:"")+"]",i,r,u)});else if(r||"object"!==i.type(t))u(n,t);else for(f in t)ai(n+"["+f+"]",t[f],r,u)}function sf(n){return function(t,r){"string"!=typeof t&&(r=t,t="*");var u,f=0,e=t.toLowerCase().match(h)||[];if(i.isFunction(r))while(u=e[f++])"+"===u[0]?(u=u.slice(1)||"*",(n[u]=n[u]||[]).unshift(r)):(n[u]=n[u]||[]).push(r)}}function hf(n,t,r,u){function e(s){var h;return f[s]=!0,i.each(n[s]||[],function(n,i){var s=i(t,r,u);return"string"!=typeof s||o||f[s]?o?!(h=s):void 0:(t.dataTypes.unshift(s),e(s),!1)}),h}var f={},o=n===vi;return e(t.dataTypes[0])||!f["*"]&&e("*")}function pi(n,t){var r,u,f=i.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((f[r]?n:u||(u={}))[r]=t[r]);return u&&i.extend(!0,n,u),n}function eo(n,t,i){for(var e,u,f,o,s=n.contents,r=n.dataTypes;"*"===r[0];)r.shift(),void 0===e&&(e=n.mimeType||t.getResponseHeader("Content-Type"));if(e)for(u in s)if(s[u]&&s[u].test(e)){r.unshift(u);break}if(r[0]in i)f=r[0];else{for(u in i){if(!r[0]||n.converters[u+" "+r[0]]){f=u;break}o||(o=u)}f=f||o}if(f)return(f!==r[0]&&r.unshift(f),i[f])}function oo(n,t,i,r){var h,u,f,s,e,o={},c=n.dataTypes.slice();if(c[1])for(f in n.converters)o[f.toLowerCase()]=n.converters[f];for(u=c.shift();u;)if(n.responseFields[u]&&(i[n.responseFields[u]]=t),!e&&r&&n.dataFilter&&(t=n.dataFilter(t,n.dataType)),e=u,u=c.shift())if("*"===u)u=e;else if("*"!==e&&e!==u){if(f=o[e+" "+u]||o["* "+u],!f)for(h in o)if(s=h.split(" "),s[1]===u&&(f=o[e+" "+s[0]]||o["* "+s[0]])){f===!0?f=o[h]:o[h]!==!0&&(u=s[0],c.unshift(s[1]));break}if(f!==!0)if(f&&n.throws)t=f(t);else try{t=f(t)}catch(l){return{state:"parsererror",error:f?l:"No conversion from "+e+" to "+u}}}return{state:"success",data:t}}function lf(n){return i.isWindow(n)?n:9===n.nodeType&&n.defaultView}var y=[],u=n.document,yf=Object.getPrototypeOf,p=y.slice,bi=y.concat,ri=y.push,lt=y.indexOf,at={},ki=at.toString,vt=at.hasOwnProperty,di=vt.toString,pf=di.call(Object),f={},nr="3.0.0",i=function(n,t){return new i.fn.init(n,t)},wf=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,bf=/^-ms-/,kf=/-([a-z])/g,df=function(n,t){return t.toUpperCase()},v,ur,fr,er,or,sr,h,lr,pt,a,et,ei,dr,it,rt,yu,pu,du,ut,gu,nf,ti,tf,rf,ci,cf,ft,wi,ii,af,vf;i.fn=i.prototype={jquery:nr,constructor:i,length:0,toArray:function(){return p.call(this)},get:function(n){return null!=n?0>n?this[n+this.length]:this[n]:p.call(this)},pushStack:function(n){var t=i.merge(this.constructor(),n);return t.prevObject=this,t},each:function(n){return i.each(this,n)},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},slice:function(){return this.pushStack(p.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(n){var i=this.length,t=+n+(0>n?i:0);return this.pushStack(t>=0&&i>t?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:ri,sort:y.sort,splice:y.splice};i.extend=i.fn.extend=function(){var e,f,r,t,o,s,n=arguments[0]||{},u=1,c=arguments.length,h=!1;for("boolean"==typeof n&&(h=n,n=arguments[u]||{},u++),"object"==typeof n||i.isFunction(n)||(n={}),u===c&&(n=this,u--);c>u;u++)if(null!=(e=arguments[u]))for(f in e)r=n[f],t=e[f],n!==t&&(h&&t&&(i.isPlainObject(t)||(o=i.isArray(t)))?(o?(o=!1,s=r&&i.isArray(r)?r:[]):s=r&&i.isPlainObject(r)?r:{},n[f]=i.extend(h,s,t)):void 0!==t&&(n[f]=t));return n};i.extend({expando:"jQuery"+(nr+Math.random()).replace(/\D/g,""),isReady:!0,error:function(n){throw new Error(n);},noop:function(){},isFunction:function(n){return"function"===i.type(n)},isArray:Array.isArray,isWindow:function(n){return null!=n&&n===n.window},isNumeric:function(n){var t=i.type(n);return("number"===t||"string"===t)&&!isNaN(n-parseFloat(n))},isPlainObject:function(n){var t,i;return n&&"[object Object]"===ki.call(n)?(t=yf(n))?(i=vt.call(t,"constructor")&&t.constructor,"function"==typeof i&&di.call(i)===pf):!0:!1},isEmptyObject:function(n){var t;for(t in n)return!1;return!0},type:function(n){return null==n?n+"":"object"==typeof n||"function"==typeof n?at[ki.call(n)]||"object":typeof n},globalEval:function(n){gi(n)},camelCase:function(n){return n.replace(bf,"ms-").replace(kf,df)},nodeName:function(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()},each:function(n,t){var r,i=0;if(ui(n)){for(r=n.length;r>i;i++)if(t.call(n[i],i,n[i])===!1)break}else for(i in n)if(t.call(n[i],i,n[i])===!1)break;return n},trim:function(n){return null==n?"":(n+"").replace(wf,"")},makeArray:function(n,t){var r=t||[];return null!=n&&(ui(Object(n))?i.merge(r,"string"==typeof n?[n]:n):ri.call(r,n)),r},inArray:function(n,t,i){return null==t?-1:lt.call(t,n,i)},merge:function(n,t){for(var u=+t.length,i=0,r=n.length;u>i;i++)n[r++]=t[i];return n.length=r,n},grep:function(n,t,i){for(var u,f=[],r=0,e=n.length,o=!i;e>r;r++)u=!t(n[r],r),u!==o&&f.push(n[r]);return f},map:function(n,t,i){var e,u,r=0,f=[];if(ui(n))for(e=n.length;e>r;r++)u=t(n[r],r,i),null!=u&&f.push(u);else for(r in n)u=t(n[r],r,i),null!=u&&f.push(u);return bi.apply([],f)},guid:1,proxy:function(n,t){var u,f,r;return"string"==typeof t&&(u=n[t],t=n,n=u),i.isFunction(n)?(f=p.call(arguments,2),r=function(){return n.apply(t||this,f.concat(p.call(arguments)))},r.guid=n.guid=n.guid||i.guid++,r):void 0},now:Date.now,support:f});"function"==typeof Symbol&&(i.fn[Symbol.iterator]=y[Symbol.iterator]);i.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(n,t){at["[object "+t+"]"]=t.toLowerCase()});v=function(n){function u(n,t,r,u){var s,w,l,a,d,y,g,p=t&&t.ownerDocument,v=t?t.nodeType:9;if(r=r||[],"string"!=typeof n||!n||1!==v&&9!==v&&11!==v)return r;if(!u&&((t?t.ownerDocument||t:h)!==i&&b(t),t=t||i,c)){if(11!==v&&(d=cr.exec(n)))if(s=d[1]){if(9===v){if(!(l=t.getElementById(s)))return r;if(l.id===s)return r.push(l),r}else if(p&&(l=p.getElementById(s))&&et(t,l)&&l.id===s)return r.push(l),r}else{if(d[2])return k.apply(r,t.getElementsByTagName(n)),r;if((s=d[3])&&f.getElementsByClassName&&t.getElementsByClassName)return k.apply(r,t.getElementsByClassName(s)),r}if(f.qsa&&!lt[n+" "]&&(!o||!o.test(n))){if(1!==v)p=t,g=n;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(vi,yi):t.setAttribute("id",a=e),y=ft(n),w=y.length;w--;)y[w]="#"+a+" "+yt(y[w]);g=y.join(",");p=ni.test(n)&&ri(t.parentNode)||t}if(g)try{return k.apply(r,p.querySelectorAll(g)),r}catch(nt){}finally{a===e&&t.removeAttribute("id")}}}return si(n.replace(at,"$1"),t,r,u)}function ti(){function n(r,u){return i.push(r+" ")>t.cacheLength&&delete n[i.shift()],n[r+" "]=u}var i=[];return n}function l(n){return n[e]=!0,n}function a(n){var t=i.createElement("fieldset");try{return!!n(t)}catch(r){return!1}finally{t.parentNode&&t.parentNode.removeChild(t);t=null}}function ii(n,i){for(var r=n.split("|"),u=r.length;u--;)t.attrHandle[r[u]]=i}function wi(n,t){var i=t&&n,r=i&&1===n.nodeType&&1===t.nodeType&&n.sourceIndex-t.sourceIndex;if(r)return r;if(i)while(i=i.nextSibling)if(i===t)return-1;return n?1:-1}function ar(n){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===n}}function vr(n){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===n}}function bi(n){return function(t){return"label"in t&&t.disabled===n||"form"in t&&t.disabled===n||"form"in t&&t.disabled===!1&&(t.isDisabled===n||t.isDisabled!==!n&&("label"in t||!lr(t))!==n)}}function it(n){return l(function(t){return t=+t,l(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function ri(n){return n&&"undefined"!=typeof n.getElementsByTagName&&n}function ki(){}function yt(n){for(var t=0,r=n.length,i="";r>t;t++)i+=n[t].value;return i}function pt(n,t,i){var r=t.dir,u=t.next,f=u||r,o=i&&"parentNode"===f,s=di++;return t.first?function(t,i,u){while(t=t[r])if(1===t.nodeType||o)return n(t,i,u)}:function(t,i,h){var c,l,a,y=[v,s];if(h){while(t=t[r])if((1===t.nodeType||o)&&n(t,i,h))return!0}else while(t=t[r])if(1===t.nodeType||o)if(a=t[e]||(t[e]={}),l=a[t.uniqueID]||(a[t.uniqueID]={}),u&&u===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[f])&&c[0]===v&&c[1]===s)return y[2]=c[2];if(l[f]=y,y[2]=n(t,i,h))return!0}}}function ui(n){return n.length>1?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function yr(n,t,i){for(var r=0,f=t.length;f>r;r++)u(n,t[r],i);return i}function wt(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=null!=t;s>f;f++)(e=n[f])&&(i&&!i(e,r,u)||(o.push(e),h&&t.push(f)));return o}function fi(n,t,i,r,u,f){return r&&!r[e]&&(r=fi(r)),u&&!u[e]&&(u=fi(u,f)),l(function(f,e,o,s){var l,c,a,p=[],y=[],w=e.length,b=f||yr(t||"*",o.nodeType?[o]:o,[]),v=!n||!f&&t?b:wt(b,p,n,o,s),h=i?u||(f?n:w||r)?[]:e:v;if(i&&i(v,h,o,s),r)for(l=wt(h,y),r(l,[],o,s),c=l.length;c--;)(a=l[c])&&(h[y[c]]=!(v[y[c]]=a));if(f){if(u||n){if(u){for(l=[],c=h.length;c--;)(a=h[c])&&l.push(v[c]=a);u(null,h=[],l,s)}for(c=h.length;c--;)(a=h[c])&&(l=u?nt(f,a):p[c])>-1&&(f[l]=!(e[l]=a))}}else h=wt(h===e?h.splice(w,h.length):h),u?u(null,e,h,s):k.apply(e,h)})}function ei(n){for(var o,u,r,s=n.length,h=t.relative[n[0].type],c=h||t.relative[" "],i=h?1:0,l=pt(function(n){return n===o},c,!0),a=pt(function(n){return nt(o,n)>-1},c,!0),f=[function(n,t,i){var r=!h&&(i||t!==ht)||((o=t).nodeType?l(n,t,i):a(n,t,i));return o=null,r}];s>i;i++)if(u=t.relative[n[i].type])f=[pt(ui(f),u)];else{if(u=t.filter[n[i].type].apply(null,n[i].matches),u[e]){for(r=++i;s>r;r++)if(t.relative[n[r].type])break;return fi(i>1&&ui(f),i>1&&yt(n.slice(0,i-1).concat({value:" "===n[i-2].type?"*":""})).replace(at,"$1"),u,r>i&&ei(n.slice(i,r)),s>r&&ei(n=n.slice(r)),s>r&&yt(n))}f.push(u)}return ui(f)}function pr(n,r){var f=r.length>0,e=n.length>0,o=function(o,s,h,l,a){var y,nt,d,g=0,p="0",tt=o&&[],w=[],it=ht,rt=o||e&&t.find.TAG("*",a),ut=v+=null==it?1:Math.random()||.1,ft=rt.length;for(a&&(ht=s===i||s||a);p!==ft&&null!=(y=rt[p]);p++){if(e&&y){for(nt=0,s||y.ownerDocument===i||(b(y),h=!c);d=n[nt++];)if(d(y,s||i,h)){l.push(y);break}a&&(v=ut)}f&&((y=!d&&y)&&g--,o&&tt.push(y))}if(g+=p,f&&p!==g){for(nt=0;d=r[nt++];)d(tt,w,s,h);if(o){if(g>0)while(p--)tt[p]||w[p]||(w[p]=nr.call(l));w=wt(w)}k.apply(l,w);a&&!o&&w.length>0&&g+r.length>1&&u.uniqueSort(l)}return a&&(v=ut,ht=it),tt};return f?l(o):o}var rt,f,t,st,oi,ft,bt,si,ht,w,ut,b,i,s,c,o,d,ct,et,e="sizzle"+1*new Date,h=n.document,v=0,di=0,hi=ti(),ci=ti(),lt=ti(),kt=function(n,t){return n===t&&(ut=!0),0},gi={}.hasOwnProperty,g=[],nr=g.pop,tr=g.push,k=g.push,li=g.slice,nt=function(n,t){for(var i=0,r=n.length;r>i;i++)if(n[i]===t)return i;return-1},dt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",r="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\x00-\\xa0])+",ai="\\["+r+"*("+tt+")(?:"+r+"*([*^$|!~]?=)"+r+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+tt+"))|)"+r+"*\\]",gt=":("+tt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ai+")*)|.*)\\)|)",ir=new RegExp(r+"+","g"),at=new RegExp("^"+r+"+|((?:^|[^\\\\])(?:\\\\.)*)"+r+"+$","g"),rr=new RegExp("^"+r+"*,"+r+"*"),ur=new RegExp("^"+r+"*([>+~]|"+r+")"+r+"*"),fr=new RegExp("="+r+"*([^\\]'\"]*?)"+r+"*\\]","g"),er=new RegExp(gt),or=new RegExp("^"+tt+"$"),vt={ID:new RegExp("^#("+tt+")"),CLASS:new RegExp("^\\.("+tt+")"),TAG:new RegExp("^("+tt+"|[*])"),ATTR:new RegExp("^"+ai),PSEUDO:new RegExp("^"+gt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+r+"*(even|odd|(([+-]|)(\\d*)n|)"+r+"*(?:([+-]|)"+r+"*(\\d+)|))"+r+"*\\)|)","i"),bool:new RegExp("^(?:"+dt+")$","i"),needsContext:new RegExp("^"+r+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+r+"*((?:-\\d)?\\d*)"+r+"*\\)|)(?=[^-]|$)","i")},sr=/^(?:input|select|textarea|button)$/i,hr=/^h\d$/i,ot=/^[^{]+\{\s*\[native \w/,cr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ni=/[+~]/,y=new RegExp("\\\\([\\da-f]{1,6}"+r+"?|("+r+")|.)","ig"),p=function(n,t,i){var r="0x"+t-65536;return r!==r||i?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},vi=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,yi=function(n,t){return t?"\x00"===n?"ï¿½":n.slice(0,-1)+"\\"+n.charCodeAt(n.length-1).toString(16)+" ":"\\"+n},pi=function(){b()},lr=pt(function(n){return n.disabled===!0},{dir:"parentNode",next:"legend"});try{k.apply(g=li.call(h.childNodes),h.childNodes);g[h.childNodes.length].nodeType}catch(wr){k={apply:g.length?function(n,t){tr.apply(n,li.call(t))}:function(n,t){for(var i=n.length,r=0;n[i++]=t[r++];);n.length=i-1}}}f=u.support={};oi=u.isXML=function(n){var t=n&&(n.ownerDocument||n).documentElement;return t?"HTML"!==t.nodeName:!1};b=u.setDocument=function(n){var v,u,l=n?n.ownerDocument||n:h;return l!==i&&9===l.nodeType&&l.documentElement?(i=l,s=i.documentElement,c=!oi(i),h!==i&&(u=i.defaultView)&&u.top!==u&&(u.addEventListener?u.addEventListener("unload",pi,!1):u.attachEvent&&u.attachEvent("onunload",pi)),f.attributes=a(function(n){return n.className="i",!n.getAttribute("className")}),f.getElementsByTagName=a(function(n){return n.appendChild(i.createComment("")),!n.getElementsByTagName("*").length}),f.getElementsByClassName=ot.test(i.getElementsByClassName),f.getById=a(function(n){return s.appendChild(n).id=e,!i.getElementsByName||!i.getElementsByName(e).length}),f.getById?(t.find.ID=function(n,t){if("undefined"!=typeof t.getElementById&&c){var i=t.getElementById(n);return i?[i]:[]}},t.filter.ID=function(n){var t=n.replace(y,p);return function(n){return n.getAttribute("id")===t}}):(delete t.find.ID,t.filter.ID=function(n){var t=n.replace(y,p);return function(n){var i="undefined"!=typeof n.getAttributeNode&&n.getAttributeNode("id");return i&&i.value===t}}),t.find.TAG=f.getElementsByTagName?function(n,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(n):f.qsa?t.querySelectorAll(n):void 0}:function(n,t){var i,r=[],f=0,u=t.getElementsByTagName(n);if("*"===n){while(i=u[f++])1===i.nodeType&&r.push(i);return r}return u},t.find.CLASS=f.getElementsByClassName&&function(n,t){if("undefined"!=typeof t.getElementsByClassName&&c)return t.getElementsByClassName(n)},d=[],o=[],(f.qsa=ot.test(i.querySelectorAll))&&(a(function(n){s.appendChild(n).innerHTML="<a id='"+e+"'><\/a><select id='"+e+"-\r\\' msallowcapture=''><option selected=''><\/option><\/select>";n.querySelectorAll("[msallowcapture^='']").length&&o.push("[*^$]="+r+"*(?:''|\"\")");n.querySelectorAll("[selected]").length||o.push("\\["+r+"*(?:value|"+dt+")");n.querySelectorAll("[id~="+e+"-]").length||o.push("~=");n.querySelectorAll(":checked").length||o.push(":checked");n.querySelectorAll("a#"+e+"+*").length||o.push(".#.+[+~]")}),a(function(n){n.innerHTML="<a href='' disabled='disabled'><\/a><select disabled='disabled'><option/><\/select>";var t=i.createElement("input");t.setAttribute("type","hidden");n.appendChild(t).setAttribute("name","D");n.querySelectorAll("[name=d]").length&&o.push("name"+r+"*[*^$|!~]?=");2!==n.querySelectorAll(":enabled").length&&o.push(":enabled",":disabled");s.appendChild(n).disabled=!0;2!==n.querySelectorAll(":disabled").length&&o.push(":enabled",":disabled");n.querySelectorAll("*,:x");o.push(",.*:")})),(f.matchesSelector=ot.test(ct=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&a(function(n){f.disconnectedMatch=ct.call(n,"*");ct.call(n,"[s!='']:x");d.push("!=",gt)}),o=o.length&&new RegExp(o.join("|")),d=d.length&&new RegExp(d.join("|")),v=ot.test(s.compareDocumentPosition),et=v||ot.test(s.contains)?function(n,t){var r=9===n.nodeType?n.documentElement:n,i=t&&t.parentNode;return n===i||!(!i||1!==i.nodeType||!(r.contains?r.contains(i):n.compareDocumentPosition&&16&n.compareDocumentPosition(i)))}:function(n,t){if(t)while(t=t.parentNode)if(t===n)return!0;return!1},kt=v?function(n,t){if(n===t)return ut=!0,0;var r=!n.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(n.ownerDocument||n)===(t.ownerDocument||t)?n.compareDocumentPosition(t):1,1&r||!f.sortDetached&&t.compareDocumentPosition(n)===r?n===i||n.ownerDocument===h&&et(h,n)?-1:t===i||t.ownerDocument===h&&et(h,t)?1:w?nt(w,n)-nt(w,t):0:4&r?-1:1)}:function(n,t){if(n===t)return ut=!0,0;var r,u=0,o=n.parentNode,s=t.parentNode,f=[n],e=[t];if(!o||!s)return n===i?-1:t===i?1:o?-1:s?1:w?nt(w,n)-nt(w,t):0;if(o===s)return wi(n,t);for(r=n;r=r.parentNode;)f.unshift(r);for(r=t;r=r.parentNode;)e.unshift(r);while(f[u]===e[u])u++;return u?wi(f[u],e[u]):f[u]===h?-1:e[u]===h?1:0},i):i};u.matches=function(n,t){return u(n,null,null,t)};u.matchesSelector=function(n,t){if((n.ownerDocument||n)!==i&&b(n),t=t.replace(fr,"='$1']"),f.matchesSelector&&c&&!lt[t+" "]&&(!d||!d.test(t))&&(!o||!o.test(t)))try{var r=ct.call(n,t);if(r||f.disconnectedMatch||n.document&&11!==n.document.nodeType)return r}catch(e){}return u(t,i,null,[n]).length>0};u.contains=function(n,t){return(n.ownerDocument||n)!==i&&b(n),et(n,t)};u.attr=function(n,r){(n.ownerDocument||n)!==i&&b(n);var e=t.attrHandle[r.toLowerCase()],u=e&&gi.call(t.attrHandle,r.toLowerCase())?e(n,r,!c):void 0;return void 0!==u?u:f.attributes||!c?n.getAttribute(r):(u=n.getAttributeNode(r))&&u.specified?u.value:null};u.escape=function(n){return(n+"").replace(vi,yi)};u.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);};u.uniqueSort=function(n){var r,u=[],t=0,i=0;if(ut=!f.detectDuplicates,w=!f.sortStable&&n.slice(0),n.sort(kt),ut){while(r=n[i++])r===n[i]&&(t=u.push(i));while(t--)n.splice(u[t],1)}return w=null,n};st=u.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(1===t||9===t||11===t){if("string"==typeof n.textContent)return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=st(n)}else if(3===t||4===t)return n.nodeValue}else while(r=n[u++])i+=st(r);return i};t=u.selectors={cacheLength:50,createPseudo:l,match:vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(y,p),n[3]=(n[3]||n[4]||n[5]||"").replace(y,p),"~="===n[2]&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),"nth"===n[1].slice(0,3)?(n[3]||u.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*("even"===n[3]||"odd"===n[3])),n[5]=+(n[7]+n[8]||"odd"===n[3])):n[3]&&u.error(n[0]),n},PSEUDO:function(n){var i,t=!n[6]&&n[2];return vt.CHILD.test(n[0])?null:(n[3]?n[2]=n[4]||n[5]||"":t&&er.test(t)&&(i=ft(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(n[0]=n[0].slice(0,i),n[2]=t.slice(0,i)),n.slice(0,3))}},filter:{TAG:function(n){var t=n.replace(y,p).toLowerCase();return"*"===n?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(n){var t=hi[n+" "];return t||(t=new RegExp("(^|"+r+")"+n+"("+r+"|$)"))&&hi(n,function(n){return t.test("string"==typeof n.className&&n.className||"undefined"!=typeof n.getAttribute&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(r){var f=u.attr(r,n);return null==f?"!="===t:t?(f+="","="===t?f===i:"!="===t?f!==i:"^="===t?i&&0===f.indexOf(i):"*="===t?i&&f.indexOf(i)>-1:"$="===t?i&&f.slice(-i.length)===i:"~="===t?(" "+f.replace(ir," ")+" ").indexOf(i)>-1:"|="===t?f===i||f.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(n,t,i,r,u){var s="nth"!==n.slice(0,3),o="last"!==n.slice(-4),f="of-type"===t;return 1===r&&0===u?function(n){return!!n.parentNode}:function(t,i,h){var p,w,y,c,a,b,k=s!==o?"nextSibling":"previousSibling",d=t.parentNode,nt=f&&t.nodeName.toLowerCase(),g=!h&&!f,l=!1;if(d){if(s){while(k){for(c=t;c=c[k];)if(f?c.nodeName.toLowerCase()===nt:1===c.nodeType)return!1;b=k="only"===n&&!b&&"nextSibling"}return!0}if(b=[o?d.firstChild:d.lastChild],o&&g){for(c=d,y=c[e]||(c[e]={}),w=y[c.uniqueID]||(y[c.uniqueID]={}),p=w[n]||[],a=p[0]===v&&p[1],l=a&&p[2],c=a&&d.childNodes[a];c=++a&&c&&c[k]||(l=a=0)||b.pop();)if(1===c.nodeType&&++l&&c===t){w[n]=[v,a,l];break}}else if(g&&(c=t,y=c[e]||(c[e]={}),w=y[c.uniqueID]||(y[c.uniqueID]={}),p=w[n]||[],a=p[0]===v&&p[1],l=a),l===!1)while(c=++a&&c&&c[k]||(l=a=0)||b.pop())if((f?c.nodeName.toLowerCase()===nt:1===c.nodeType)&&++l&&(g&&(y=c[e]||(c[e]={}),w=y[c.uniqueID]||(y[c.uniqueID]={}),w[n]=[v,l]),c===t))break;return l-=u,l===r||l%r==0&&l/r>=0}}},PSEUDO:function(n,i){var f,r=t.pseudos[n]||t.setFilters[n.toLowerCase()]||u.error("unsupported pseudo: "+n);return r[e]?r(i):r.length>1?(f=[n,n,"",i],t.setFilters.hasOwnProperty(n.toLowerCase())?l(function(n,t){for(var u,f=r(n,i),e=f.length;e--;)u=nt(n,f[e]),n[u]=!(t[u]=f[e])}):function(n){return r(n,0,f)}):r}},pseudos:{not:l(function(n){var t=[],r=[],i=bt(n.replace(at,"$1"));return i[e]?l(function(n,t,r,u){for(var e,o=i(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(t[f]=e))}):function(n,u,f){return t[0]=n,i(t,null,f,r),t[0]=null,!r.pop()}}),has:l(function(n){return function(t){return u(n,t).length>0}}),contains:l(function(n){return n=n.replace(y,p),function(t){return(t.textContent||t.innerText||st(t)).indexOf(n)>-1}}),lang:l(function(n){return or.test(n||"")||u.error("unsupported lang: "+n),n=n.replace(y,p).toLowerCase(),function(t){var i;do if(i=c?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===n||0===i.indexOf(n+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=n.location&&n.location.hash;return i&&i.slice(1)===t.id},root:function(n){return n===s},focus:function(n){return n===i.activeElement&&(!i.hasFocus||i.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:bi(!1),disabled:bi(!0),checked:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&!!n.checked||"option"===t&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeType<6)return!1;return!0},parent:function(n){return!t.pseudos.empty(n)},header:function(n){return hr.test(n.nodeName)},input:function(n){return sr.test(n.nodeName)},button:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&"button"===n.type||"button"===t},text:function(n){var t;return"input"===n.nodeName.toLowerCase()&&"text"===n.type&&(null==(t=n.getAttribute("type"))||"text"===t.toLowerCase())},first:it(function(){return[0]}),last:it(function(n,t){return[t-1]}),eq:it(function(n,t,i){return[0>i?i+t:i]}),even:it(function(n,t){for(var i=0;t>i;i+=2)n.push(i);return n}),odd:it(function(n,t){for(var i=1;t>i;i+=2)n.push(i);return n}),lt:it(function(n,t,i){for(var r=0>i?i+t:i;--r>=0;)n.push(r);return n}),gt:it(function(n,t,i){for(var r=0>i?i+t:i;++r<t;)n.push(r);return n})}};t.pseudos.nth=t.pseudos.eq;for(rt in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[rt]=ar(rt);for(rt in{submit:!0,reset:!0})t.pseudos[rt]=vr(rt);return ki.prototype=t.filters=t.pseudos,t.setFilters=new ki,ft=u.tokenize=function(n,i){var e,f,s,o,r,h,c,l=ci[n+" "];if(l)return i?0:l.slice(0);for(r=n,h=[],c=t.preFilter;r;){(!e||(f=rr.exec(r)))&&(f&&(r=r.slice(f[0].length)||r),h.push(s=[]));e=!1;(f=ur.exec(r))&&(e=f.shift(),s.push({value:e,type:f[0].replace(at," ")}),r=r.slice(e.length));for(o in t.filter)(f=vt[o].exec(r))&&(!c[o]||(f=c[o](f)))&&(e=f.shift(),s.push({value:e,type:o,matches:f}),r=r.slice(e.length));if(!e)break}return i?r.length:r?u.error(n):ci(n,h).slice(0)},bt=u.compile=function(n,t){var r,u=[],f=[],i=lt[n+" "];if(!i){for(t||(t=ft(n)),r=t.length;r--;)i=ei(t[r]),i[e]?u.push(i):f.push(i);i=lt(n,pr(f,u));i.selector=n}return i},si=u.select=function(n,i,r,u){var s,e,o,a,v,l="function"==typeof n&&n,h=!u&&ft(n=l.selector||n);if(r=r||[],1===h.length){if(e=h[0]=h[0].slice(0),e.length>2&&"ID"===(o=e[0]).type&&f.getById&&9===i.nodeType&&c&&t.relative[e[1].type]){if(i=(t.find.ID(o.matches[0].replace(y,p),i)||[])[0],!i)return r;l&&(i=i.parentNode);n=n.slice(e.shift().value.length)}for(s=vt.needsContext.test(n)?0:e.length;s--;){if(o=e[s],t.relative[a=o.type])break;if((v=t.find[a])&&(u=v(o.matches[0].replace(y,p),ni.test(e[0].type)&&ri(i.parentNode)||i))){if(e.splice(s,1),n=u.length&&yt(e),!n)return k.apply(r,u),r;break}}}return(l||bt(n,h))(u,i,!c,r,!i||ni.test(n)&&ri(i.parentNode)||i),r},f.sortStable=e.split("").sort(kt).join("")===e,f.detectDuplicates=!!ut,b(),f.sortDetached=a(function(n){return 1&n.compareDocumentPosition(i.createElement("fieldset"))}),a(function(n){return n.innerHTML="<a href='#'><\/a>","#"===n.firstChild.getAttribute("href")})||ii("type|href|height|width",function(n,t,i){if(!i)return n.getAttribute(t,"type"===t.toLowerCase()?1:2)}),f.attributes&&a(function(n){return n.innerHTML="<input/>",n.firstChild.setAttribute("value",""),""===n.firstChild.getAttribute("value")})||ii("value",function(n,t,i){if(!i&&"input"===n.nodeName.toLowerCase())return n.defaultValue}),a(function(n){return null==n.getAttribute("disabled")})||ii(dt,function(n,t,i){var r;if(!i)return n[t]===!0?t.toLowerCase():(r=n.getAttributeNode(t))&&r.specified?r.value:null}),u}(n);i.find=v;i.expr=v.selectors;i.expr[":"]=i.expr.pseudos;i.uniqueSort=i.unique=v.uniqueSort;i.text=v.getText;i.isXMLDoc=v.isXML;i.contains=v.contains;i.escapeSelector=v.escape;var k=function(n,t,r){for(var u=[],f=void 0!==r;(n=n[t])&&9!==n.nodeType;)if(1===n.nodeType){if(f&&i(n).is(r))break;u.push(n)}return u},tr=function(n,t){for(var i=[];n;n=n.nextSibling)1===n.nodeType&&n!==t&&i.push(n);return i},ir=i.expr.match.needsContext,rr=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,gf=/^.[^:#\[\.,]*$/;i.filter=function(n,t,r){var u=t[0];return r&&(n=":not("+n+")"),1===t.length&&1===u.nodeType?i.find.matchesSelector(u,n)?[u]:[]:i.find.matches(n,i.grep(t,function(n){return 1===n.nodeType}))};i.fn.extend({find:function(n){var t,r,u=this.length,f=this;if("string"!=typeof n)return this.pushStack(i(n).filter(function(){for(t=0;u>t;t++)if(i.contains(f[t],this))return!0}));for(r=this.pushStack([]),t=0;u>t;t++)i.find(n,f[t],r);return u>1?i.uniqueSort(r):r},filter:function(n){return this.pushStack(fi(this,n||[],!1))},not:function(n){return this.pushStack(fi(this,n||[],!0))},is:function(n){return!!fi(this,"string"==typeof n&&ir.test(n)?i(n):n||[],!1).length}});fr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;er=i.fn.init=function(n,t,r){var f,e;if(!n)return this;if(r=r||ur,"string"==typeof n){if(f="<"===n[0]&&">"===n[n.length-1]&&n.length>=3?[null,n,null]:fr.exec(n),!f||!f[1]&&t)return!t||t.jquery?(t||r).find(n):this.constructor(t).find(n);if(f[1]){if(t=t instanceof i?t[0]:t,i.merge(this,i.parseHTML(f[1],t&&t.nodeType?t.ownerDocument||t:u,!0)),rr.test(f[1])&&i.isPlainObject(t))for(f in t)i.isFunction(this[f])?this[f](t[f]):this.attr(f,t[f]);return this}return e=u.getElementById(f[2]),e&&(this[0]=e,this.length=1),this}return n.nodeType?(this[0]=n,this.length=1,this):i.isFunction(n)?void 0!==r.ready?r.ready(n):n(i):i.makeArray(n,this)};er.prototype=i.fn;ur=i(u);or=/^(?:parents|prev(?:Until|All))/;sr={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({has:function(n){var t=i(n,this),r=t.length;return this.filter(function(){for(var n=0;r>n;n++)if(i.contains(this,t[n]))return!0})},closest:function(n,t){var r,f=0,o=this.length,u=[],e="string"!=typeof n&&i(n);if(!ir.test(n))for(;o>f;f++)for(r=this[f];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(e?e.index(r)>-1:1===r.nodeType&&i.find.matchesSelector(r,n))){u.push(r);break}return this.pushStack(u.length>1?i.uniqueSort(u):u)},index:function(n){return n?"string"==typeof n?lt.call(i(n),this[0]):lt.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,t){return this.pushStack(i.uniqueSort(i.merge(this.get(),i(n,t))))},addBack:function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))}});i.each({parent:function(n){var t=n.parentNode;return t&&11!==t.nodeType?t:null},parents:function(n){return k(n,"parentNode")},parentsUntil:function(n,t,i){return k(n,"parentNode",i)},next:function(n){return hr(n,"nextSibling")},prev:function(n){return hr(n,"previousSibling")},nextAll:function(n){return k(n,"nextSibling")},prevAll:function(n){return k(n,"previousSibling")},nextUntil:function(n,t,i){return k(n,"nextSibling",i)},prevUntil:function(n,t,i){return k(n,"previousSibling",i)},siblings:function(n){return tr((n.parentNode||{}).firstChild,n)},children:function(n){return tr(n.firstChild)},contents:function(n){return n.contentDocument||i.merge([],n.childNodes)}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return"Until"!==n.slice(-5)&&(u=r),u&&"string"==typeof u&&(f=i.filter(u,f)),this.length>1&&(sr[n]||i.uniqueSort(f),or.test(n)&&f.reverse()),this.pushStack(f)}});h=/\S+/g;i.Callbacks=function(n){n="string"==typeof n?ne(n):i.extend({},n);var f,r,h,e,t=[],o=[],u=-1,c=function(){for(e=n.once,h=f=!0;o.length;u=-1)for(r=o.shift();++u<t.length;)t[u].apply(r[0],r[1])===!1&&n.stopOnFalse&&(u=t.length,r=!1);n.memory||(r=!1);f=!1;e&&(t=r?[]:"")},s={add:function(){return t&&(r&&!f&&(u=t.length-1,o.push(r)),function e(r){i.each(r,function(r,u){i.isFunction(u)?n.unique&&s.has(u)||t.push(u):u&&u.length&&"string"!==i.type(u)&&e(u)})}(arguments),r&&!f&&c()),this},remove:function(){return i.each(arguments,function(n,r){for(var f;(f=i.inArray(r,t,f))>-1;)t.splice(f,1),u>=f&&u--}),this},has:function(n){return n?i.inArray(n,t)>-1:t.length>0},empty:function(){return t&&(t=[]),this},disable:function(){return e=o=[],t=r="",this},disabled:function(){return!t},lock:function(){return e=o=[],r||f||(t=r=""),this},locked:function(){return!!e},fireWith:function(n,t){return e||(t=t||[],t=[n,t.slice?t.slice():t],o.push(t),f||c()),this},fire:function(){return s.fireWith(this,arguments),this},fired:function(){return!!h}};return s};i.extend({Deferred:function(t){var u=[["notify","progress",i.Callbacks("memory"),i.Callbacks("memory"),2],["resolve","done",i.Callbacks("once memory"),i.Callbacks("once memory"),0,"resolved"],["reject","fail",i.Callbacks("once memory"),i.Callbacks("once memory"),1,"rejected"]],e="pending",f={state:function(){return e},always:function(){return r.done(arguments).fail(arguments),this},"catch":function(n){return f.then(null,n)},pipe:function(){var n=arguments;return i.Deferred(function(t){i.each(u,function(u,f){var e=i.isFunction(n[f[4]])&&n[f[4]];r[f[1]](function(){var n=e&&e.apply(this,arguments);n&&i.isFunction(n.promise)?n.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[f[0]+"With"](this,e?[n]:arguments)})});n=null}).promise()},then:function(t,r,f){function o(t,r,u,f){return function(){var s=this,h=arguments,l=function(){var n,c;if(!(e>t)){if(n=u.apply(s,h),n===r.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then;i.isFunction(c)?f?c.call(n,o(e,r,d,f),o(e,r,yt,f)):(e++,c.call(n,o(e,r,d,f),o(e,r,yt,f),o(e,r,d,r.notifyWith))):(u!==d&&(s=void 0,h=[n]),(f||r.resolveWith)(s,h))}},c=f?l:function(){try{l()}catch(n){i.Deferred.exceptionHook&&i.Deferred.exceptionHook(n,c.stackTrace);t+1>=e&&(u!==yt&&(s=void 0,h=[n]),r.rejectWith(s,h))}};t?c():(i.Deferred.getStackHook&&(c.stackTrace=i.Deferred.getStackHook()),n.setTimeout(c))}}var e=0;return i.Deferred(function(n){u[0][3].add(o(0,n,i.isFunction(f)?f:d,n.notifyWith));u[1][3].add(o(0,n,i.isFunction(t)?t:d));u[2][3].add(o(0,n,i.isFunction(r)?r:yt))}).promise()},promise:function(n){return null!=n?i.extend(n,f):f}},r={};return i.each(u,function(n,t){var i=t[2],o=t[5];f[t[1]]=i.add;o&&i.add(function(){e=o},u[3-n][2].disable,u[0][2].lock);i.add(t[3].fire);r[t[0]]=function(){return r[t[0]+"With"](this===r?void 0:this,arguments),this};r[t[0]+"With"]=i.fireWith}),f.promise(r),t&&t.call(r,r),r},when:function(n){var f=arguments.length,t=f,e=Array(t),u=p.call(arguments),r=i.Deferred(),o=function(n){return function(t){e[n]=this;u[n]=arguments.length>1?p.call(arguments):t;--f||r.resolveWith(e,u)}};if(1>=f&&(cr(n,r.done(o(t)).resolve,r.reject),"pending"===r.state()||i.isFunction(u[t]&&u[t].then)))return r.then();while(t--)cr(u[t],o(t),r.reject);return r.promise()}});lr=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;i.Deferred.exceptionHook=function(t,i){n.console&&n.console.warn&&t&&lr.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)};pt=i.Deferred();i.fn.ready=function(n){return pt.then(n),this};i.extend({isReady:!1,readyWait:1,holdReady:function(n){n?i.readyWait++:i.ready(!0)},ready:function(n){(n===!0?--i.readyWait:i.isReady)||(i.isReady=!0,n!==!0&&--i.readyWait>0||pt.resolveWith(u,[i]))}});i.ready.then=pt.then;"complete"===u.readyState||"loading"!==u.readyState&&!u.documentElement.doScroll?n.setTimeout(i.ready):(u.addEventListener("DOMContentLoaded",wt),n.addEventListener("load",wt));a=function(n,t,r,u,f,e,o){var s=0,c=n.length,h=null==r;if("object"===i.type(r)){f=!0;for(s in r)a(n,t,s,r[s],!0,e,o)}else if(void 0!==u&&(f=!0,i.isFunction(u)||(o=!0),h&&(o?(t.call(n,u),t=null):(h=t,t=function(n,t,r){return h.call(i(n),r)})),t))for(;c>s;s++)t(n[s],r,o?u:u.call(n[s],s,t(n[s],r)));return f?n:h?t.call(n):c?t(n[0],r):e};et=function(n){return 1===n.nodeType||9===n.nodeType||!+n.nodeType};ot.uid=1;ot.prototype={cache:function(n){var t=n[this.expando];return t||(t={},et(n)&&(n.nodeType?n[this.expando]=t:Object.defineProperty(n,this.expando,{value:t,configurable:!0}))),t},set:function(n,t,r){var u,f=this.cache(n);if("string"==typeof t)f[i.camelCase(t)]=r;else for(u in t)f[i.camelCase(u)]=t[u];return f},get:function(n,t){return void 0===t?this.cache(n):n[this.expando]&&n[this.expando][i.camelCase(t)]},access:function(n,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(n,t):(this.set(n,t,i),void 0!==i?i:t)},remove:function(n,t){var u,r=n[this.expando];if(void 0!==r){if(void 0!==t)for(i.isArray(t)?t=t.map(i.camelCase):(t=i.camelCase(t),t=(t in r)?[t]:t.match(h)||[]),u=t.length;u--;)delete r[t[u]];(void 0===t||i.isEmptyObject(r))&&(n.nodeType?n[this.expando]=void 0:delete n[this.expando])}},hasData:function(n){var t=n[this.expando];return void 0!==t&&!i.isEmptyObject(t)}};var r=new ot,e=new ot,te=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ie=/[A-Z]/g;i.extend({hasData:function(n){return e.hasData(n)||r.hasData(n)},data:function(n,t,i){return e.access(n,t,i)},removeData:function(n,t){e.remove(n,t)},_data:function(n,t,i){return r.access(n,t,i)},_removeData:function(n,t){r.remove(n,t)}});i.fn.extend({data:function(n,t){var o,f,s,u=this[0],h=u&&u.attributes;if(void 0===n){if(this.length&&(s=e.get(u),1===u.nodeType&&!r.get(u,"hasDataAttrs"))){for(o=h.length;o--;)h[o]&&(f=h[o].name,0===f.indexOf("data-")&&(f=i.camelCase(f.slice(5)),ar(u,f,s[f])));r.set(u,"hasDataAttrs",!0)}return s}return"object"==typeof n?this.each(function(){e.set(this,n)}):a(this,function(t){var i;if(u&&void 0===t){if((i=e.get(u,n),void 0!==i)||(i=ar(u,n),void 0!==i))return i}else this.each(function(){e.set(this,n,t)})},null,t,arguments.length>1,null,!0)},removeData:function(n){return this.each(function(){e.remove(this,n)})}});i.extend({queue:function(n,t,u){var f;if(n)return(t=(t||"fx")+"queue",f=r.get(n,t),u&&(!f||i.isArray(u)?f=r.access(n,t,i.makeArray(u)):f.push(u)),f||[])},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),e=r.length,u=r.shift(),f=i._queueHooks(n,t),o=function(){i.dequeue(n,t)};"inprogress"===u&&(u=r.shift(),e--);u&&("fx"===t&&r.unshift("inprogress"),delete f.stop,u.call(n,o,f));!e&&f&&f.empty.fire()},_queueHooks:function(n,t){var u=t+"queueHooks";return r.get(n,u)||r.access(n,u,{empty:i.Callbacks("once memory").add(function(){r.remove(n,[t+"queue",u])})})}});i.fn.extend({queue:function(n,t){var r=2;return"string"!=typeof n&&(t=n,n="fx",r--),arguments.length<r?i.queue(this[0],n):void 0===t?this:this.each(function(){var r=i.queue(this,n,t);i._queueHooks(this,n);"fx"===n&&"inprogress"!==r[0]&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,t){var u,e=1,o=i.Deferred(),f=this,s=this.length,h=function(){--e||o.resolveWith(f,[f])};for("string"!=typeof n&&(t=n,n=void 0),n=n||"fx";s--;)u=r.get(f[s],n+"queueHooks"),u&&u.empty&&(e++,u.empty.add(h));return h(),o.promise(t)}});var vr=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,st=new RegExp("^(?:([+-])=|)("+vr+")([a-z%]*)$","i"),w=["Top","Right","Bottom","Left"],bt=function(n,t){return n=t||n,"none"===n.style.display||""===n.style.display&&i.contains(n.ownerDocument,n)&&"none"===i.css(n,"display")},yr=function(n,t,i,r){var f,u,e={};for(u in t)e[u]=n.style[u],n.style[u]=t[u];f=i.apply(n,r||[]);for(u in t)n.style[u]=e[u];return f};ei={};i.fn.extend({show:function(){return g(this,!0)},hide:function(){return g(this)},toggle:function(n){return"boolean"==typeof n?n?this.show():this.hide():this.each(function(){bt(this)?i(this).show():i(this).hide()})}});var wr=/^(?:checkbox|radio)$/i,br=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,kr=/^$|\/(?:java|ecma)script/i,c={option:[1,"<select multiple='multiple'>","<\/select>"],thead:[1,"<table>","<\/table>"],col:[2,"<table><colgroup>","<\/colgroup><\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:[0,"",""]};c.optgroup=c.option;c.tbody=c.tfoot=c.colgroup=c.caption=c.thead;c.th=c.td;dr=/<|&#?\w+;/;!function(){var i=u.createDocumentFragment(),n=i.appendChild(u.createElement("div")),t=u.createElement("input");t.setAttribute("type","radio");t.setAttribute("checked","checked");t.setAttribute("name","t");n.appendChild(t);f.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked;n.innerHTML="<textarea>x<\/textarea>";f.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue}();var kt=u.documentElement,ue=/^key/,fe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,nu=/^([^.]*)(?:\.(.+)|)/;i.event={global:{},add:function(n,t,u,f,e){var v,y,w,p,b,c,s,l,o,k,d,a=r.get(n);if(a)for(u.handler&&(v=u,u=v.handler,e=v.selector),e&&i.find.matchesSelector(kt,e),u.guid||(u.guid=i.guid++),(p=a.events)||(p=a.events={}),(y=a.handle)||(y=a.handle=function(t){if("undefined"!=typeof i&&i.event.triggered!==t.type)return i.event.dispatch.apply(n,arguments)}),t=(t||"").match(h)||[""],b=t.length;b--;)w=nu.exec(t[b])||[],o=d=w[1],k=(w[2]||"").split(".").sort(),o&&(s=i.event.special[o]||{},o=(e?s.delegateType:s.bindType)||o,s=i.event.special[o]||{},c=i.extend({type:o,origType:d,data:f,handler:u,guid:u.guid,selector:e,needsContext:e&&i.expr.match.needsContext.test(e),namespace:k.join(".")},v),(l=p[o])||(l=p[o]=[],l.delegateCount=0,s.setup&&s.setup.call(n,f,k,y)!==!1||n.addEventListener&&n.addEventListener(o,y)),s.add&&(s.add.call(n,c),c.handler.guid||(c.handler.guid=u.guid)),e?l.splice(l.delegateCount++,0,c):l.push(c),i.event.global[o]=!0)},remove:function(n,t,u,f,e){var y,k,c,v,p,s,l,a,o,b,d,w=r.hasData(n)&&r.get(n);if(w&&(v=w.events)){for(t=(t||"").match(h)||[""],p=t.length;p--;)if(c=nu.exec(t[p])||[],o=d=c[1],b=(c[2]||"").split(".").sort(),o){for(l=i.event.special[o]||{},o=(f?l.delegateType:l.bindType)||o,a=v[o]||[],c=c[2]&&new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"),k=y=a.length;y--;)s=a[y],!e&&d!==s.origType||u&&u.guid!==s.guid||c&&!c.test(s.namespace)||f&&f!==s.selector&&("**"!==f||!s.selector)||(a.splice(y,1),s.selector&&a.delegateCount--,l.remove&&l.remove.call(n,s));k&&!a.length&&(l.teardown&&l.teardown.call(n,b,w.handle)!==!1||i.removeEvent(n,o,w.handle),delete v[o])}else for(o in v)i.event.remove(n,o+t[p],u,f,!0);i.isEmptyObject(v)&&r.remove(n,"handle events")}},dispatch:function(n){var t=i.event.fix(n),u,c,s,e,f,l,h=new Array(arguments.length),a=(r.get(this,"events")||{})[t.type]||[],o=i.event.special[t.type]||{};for(h[0]=t,u=1;u<arguments.length;u++)h[u]=arguments[u];if(t.delegateTarget=this,!o.preDispatch||o.preDispatch.call(this,t)!==!1){for(l=i.event.handlers.call(this,t,a),u=0;(e=l[u++])&&!t.isPropagationStopped();)for(t.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(f.namespace)||(t.handleObj=f,t.data=f.data,s=((i.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),void 0!==s&&(t.result=s)===!1&&(t.preventDefault(),t.stopPropagation()));return o.postDispatch&&o.postDispatch.call(this,t),t.result}},handlers:function(n,t){var e,u,f,o,h=[],s=t.delegateCount,r=n.target;if(s&&r.nodeType&&("click"!==n.type||isNaN(n.button)||n.button<1))for(;r!==this;r=r.parentNode||this)if(1===r.nodeType&&(r.disabled!==!0||"click"!==n.type)){for(u=[],e=0;s>e;e++)o=t[e],f=o.selector+" ",void 0===u[f]&&(u[f]=o.needsContext?i(f,this).index(r)>-1:i.find(f,this,null,[r]).length),u[f]&&u.push(o);u.length&&h.push({elem:r,handlers:u})}return s<t.length&&h.push({elem:this,handlers:t.slice(s)}),h},addProp:function(n,t){Object.defineProperty(i.Event.prototype,n,{enumerable:!0,configurable:!0,get:i.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[n]},set:function(t){Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(n){return n[i.expando]?n:new i.Event(n)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==tu()&&this.focus)return(this.focus(),!1)},delegateType:"focusin"},blur:{trigger:function(){if(this===tu()&&this.blur)return(this.blur(),!1)},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&i.nodeName(this,"input"))return(this.click(),!1)},_default:function(n){return i.nodeName(n.target,"a")}},beforeunload:{postDispatch:function(n){void 0!==n.result&&n.originalEvent&&(n.originalEvent.returnValue=n.result)}}}};i.removeEvent=function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i)};i.Event=function(n,t){return this instanceof i.Event?(n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||void 0===n.defaultPrevented&&n.returnValue===!1?dt:nt,this.target=n.target&&3===n.target.nodeType?n.target.parentNode:n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget):this.type=n,t&&i.extend(this,t),this.timeStamp=n&&n.timeStamp||i.now(),void(this[i.expando]=!0)):new i.Event(n,t)};i.Event.prototype={constructor:i.Event,isDefaultPrevented:nt,isPropagationStopped:nt,isImmediatePropagationStopped:nt,isSimulated:!1,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=dt;n&&!this.isSimulated&&n.preventDefault()},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=dt;n&&!this.isSimulated&&n.stopPropagation()},stopImmediatePropagation:function(){var n=this.originalEvent;this.isImmediatePropagationStopped=dt;n&&!this.isSimulated&&n.stopImmediatePropagation();this.stopPropagation()}};i.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(n){var t=n.button;return null==n.which&&ue.test(n.type)?null!=n.charCode?n.charCode:n.keyCode:!n.which&&void 0!==t&&fe.test(n.type)?1&t?1:2&t?3:4&t?2:0:n.which}},i.event.addProp);i.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var u,f=this,r=n.relatedTarget,e=n.handleObj;return r&&(r===f||i.contains(f,r))||(n.type=e.origType,u=e.handler.apply(this,arguments),n.type=t),u}}});i.fn.extend({on:function(n,t,i,r){return si(this,n,t,i,r)},one:function(n,t,i,r){return si(this,n,t,i,r,1)},off:function(n,t,r){var u,f;if(n&&n.preventDefault&&n.handleObj)return u=n.handleObj,i(n.delegateTarget).off(u.namespace?u.origType+"."+u.namespace:u.origType,u.selector,u.handler),this;if("object"==typeof n){for(f in n)this.off(f,t,n[f]);return this}return t!==!1&&"function"!=typeof t||(r=t,t=void 0),r===!1&&(r=nt),this.each(function(){i.event.remove(this,n,r,t)})}});var ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,oe=/<script|<style|<link/i,se=/checked\s*(?:[^=]|=\s*.checked.)/i,he=/^true\/(.*)/,ce=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;i.extend({htmlPrefilter:function(n){return n.replace(ee,"<$1><\/$2>")},clone:function(n,t,r){var u,c,s,e,h=n.cloneNode(!0),l=i.contains(n.ownerDocument,n);if(!(f.noCloneChecked||1!==n.nodeType&&11!==n.nodeType||i.isXMLDoc(n)))for(e=o(h),s=o(n),u=0,c=s.length;c>u;u++)ve(s[u],e[u]);if(t)if(r)for(s=s||o(n),e=e||o(h),u=0,c=s.length;c>u;u++)ru(s[u],e[u]);else ru(n,h);return e=o(h,"script"),e.length>0&&oi(e,!l&&o(n,"script")),h},cleanData:function(n){for(var u,t,f,s=i.event.special,o=0;void 0!==(t=n[o]);o++)if(et(t)){if(u=t[r.expando]){if(u.events)for(f in u.events)s[f]?i.event.remove(t,f):i.removeEvent(t,f,u.handle);t[r.expando]=void 0}t[e.expando]&&(t[e.expando]=void 0)}}});i.fn.extend({detach:function(n){return uu(this,n,!0)},remove:function(n){return uu(this,n)},text:function(n){return a(this,function(n){return void 0===n?i.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=n)})},null,n,arguments.length)},append:function(){return tt(this,arguments,function(n){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=iu(this,n);t.appendChild(n)}})},prepend:function(){return tt(this,arguments,function(n){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=iu(this,n);t.insertBefore(n,t.firstChild)}})},before:function(){return tt(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return tt(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},empty:function(){for(var n,t=0;null!=(n=this[t]);t++)1===n.nodeType&&(i.cleanData(o(n,!1)),n.textContent="");return this},clone:function(n,t){return n=null==n?!1:n,t=null==t?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return a(this,function(n){var t=this[0]||{},r=0,u=this.length;if(void 0===n&&1===t.nodeType)return t.innerHTML;if("string"==typeof n&&!oe.test(n)&&!c[(br.exec(n)||["",""])[1].toLowerCase()]){n=i.htmlPrefilter(n);try{for(;u>r;r++)t=this[r]||{},1===t.nodeType&&(i.cleanData(o(t,!1)),t.innerHTML=n);t=0}catch(f){}}t&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(){var n=[];return tt(this,arguments,function(t){var r=this.parentNode;i.inArray(this,n)<0&&(i.cleanData(o(this)),r&&r.replaceChild(t,this))},n)}});i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(n){for(var u,f=[],e=i(n),o=e.length-1,r=0;o>=r;r++)u=r===o?this:this.clone(!0),i(e[r])[t](u),ri.apply(f,u.get());return this.pushStack(f)}});var fu=/^margin/,hi=new RegExp("^("+vr+")(?!px)[a-z%]+$","i"),gt=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=n),i.getComputedStyle(t)};!function(){function r(){if(t){t.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";t.innerHTML="";kt.appendChild(e);var i=n.getComputedStyle(t);o="1%"!==i.top;c="2px"===i.marginLeft;s="4px"===i.width;t.style.marginRight="50%";h="4px"===i.marginRight;kt.removeChild(e);t=null}}var o,s,h,c,e=u.createElement("div"),t=u.createElement("div");t.style&&(t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===t.style.backgroundClip,e.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",e.appendChild(t),i.extend(f,{pixelPosition:function(){return r(),o},boxSizingReliable:function(){return r(),s},pixelMarginRight:function(){return r(),h},reliableMarginLeft:function(){return r(),c}}))}();var ye=/^(none|table(?!-c[ea]).+)/,pe={position:"absolute",visibility:"hidden",display:"block"},ou={letterSpacing:"0",fontWeight:"400"},su=["Webkit","Moz","ms"],hu=u.createElement("div").style;i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=ht(n,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(n,t,r,u){if(n&&3!==n.nodeType&&8!==n.nodeType&&n.style){var e,h,o,s=i.camelCase(t),c=n.style;return t=i.cssProps[s]||(i.cssProps[s]=cu(s)||s),o=i.cssHooks[t]||i.cssHooks[s],void 0===r?o&&"get"in o&&void 0!==(e=o.get(n,!1,u))?e:c[t]:(h=typeof r,"string"===h&&(e=st.exec(r))&&e[1]&&(r=pr(n,t,e),h="number"),null!=r&&r===r&&("number"===h&&(r+=e&&e[3]||(i.cssNumber[s]?"":"px")),f.clearCloneStyle||""!==r||0!==t.indexOf("background")||(c[t]="inherit"),o&&"set"in o&&void 0===(r=o.set(n,r,u))||(c[t]=r)),void 0)}},css:function(n,t,r,u){var f,s,o,e=i.camelCase(t);return t=i.cssProps[e]||(i.cssProps[e]=cu(e)||e),o=i.cssHooks[t]||i.cssHooks[e],o&&"get"in o&&(f=o.get(n,!0,r)),void 0===f&&(f=ht(n,t,u)),"normal"===f&&t in ou&&(f=ou[t]),""===r||r?(s=parseFloat(f),r===!0||isFinite(s)?s||0:f):f}});i.each(["height","width"],function(n,t){i.cssHooks[t]={get:function(n,r,u){if(r)return!ye.test(i.css(n,"display"))||n.getClientRects().length&&n.getBoundingClientRect().width?vu(n,t,u):yr(n,pe,function(){return vu(n,t,u)})},set:function(n,r,u){var f,e=u&&gt(n),o=u&&au(n,t,u,"border-box"===i.css(n,"boxSizing",!1,e),e);return o&&(f=st.exec(r))&&"px"!==(f[3]||"px")&&(n.style[t]=r,r=i.css(n,t)),lu(n,r,o)}}});i.cssHooks.marginLeft=eu(f.reliableMarginLeft,function(n,t){if(t)return(parseFloat(ht(n,"marginLeft"))||n.getBoundingClientRect().left-yr(n,{marginLeft:0},function(){return n.getBoundingClientRect().left}))+"px"});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var r=0,f={},u="string"==typeof i?i.split(" "):[i];4>r;r++)f[n+w[r]+t]=u[r]||u[r-2]||u[0];return f}};fu.test(n)||(i.cssHooks[n+t].set=lu)});i.fn.extend({css:function(n,t){return a(this,function(n,t,r){var f,e,o={},u=0;if(i.isArray(t)){for(f=gt(n),e=t.length;e>u;u++)o[t[u]]=i.css(n,t[u],!1,f);return o}return void 0!==r?i.style(n,t,r):i.css(n,t)},n,t,arguments.length>1)}});i.Tween=s;s.prototype={constructor:s,init:function(n,t,r,u,f,e){this.elem=n;this.prop=r;this.easing=f||i.easing._default;this.options=t;this.start=this.now=this.cur();this.end=u;this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=s.propHooks[this.prop];return n&&n.get?n.get(this):s.propHooks._default.get(this)},run:function(n){var t,r=s.propHooks[this.prop];return this.pos=this.options.duration?t=i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):t=n,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):s.propHooks._default.set(this),this}};s.prototype.init.prototype=s.prototype;s.propHooks={_default:{get:function(n){var t;return 1!==n.elem.nodeType||null!=n.elem[n.prop]&&null==n.elem.style[n.prop]?n.elem[n.prop]:(t=i.css(n.elem,n.prop,""),t&&"auto"!==t?t:0)},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):1!==n.elem.nodeType||null==n.elem.style[i.cssProps[n.prop]]&&!i.cssHooks[n.prop]?n.elem[n.prop]=n.now:i.style(n.elem,n.prop,n.now+n.unit)}}};s.propHooks.scrollTop=s.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2},_default:"swing"};i.fx=s.prototype.init;i.fx.step={};yu=/^(?:toggle|show|hide)$/;pu=/queueHooks$/;i.Animation=i.extend(l,{tweeners:{"*":[function(n,t){var i=this.createTween(n,t);return pr(i.elem,n,st.exec(t),i),i}]},tweener:function(n,t){i.isFunction(n)?(t=n,n=["*"]):n=n.match(h);for(var r,u=0,f=n.length;f>u;u++)r=n[u],l.tweeners[r]=l.tweeners[r]||[],l.tweeners[r].unshift(t)},prefilters:[we],prefilter:function(n,t){t?l.prefilters.unshift(n):l.prefilters.push(n)}});i.speed=function(n,t,r){var f=n&&"object"==typeof n?i.extend({},n):{complete:r||!r&&t||i.isFunction(n)&&n,duration:n,easing:r&&t||t&&!i.isFunction(t)&&t};return f.duration=i.fx.off||u.hidden?0:"number"==typeof f.duration?f.duration:f.duration in i.fx.speeds?i.fx.speeds[f.duration]:i.fx.speeds._default,null!=f.queue&&f.queue!==!0||(f.queue="fx"),f.old=f.complete,f.complete=function(){i.isFunction(f.old)&&f.old.call(this);f.queue&&i.dequeue(this,f.queue)},f};i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(bt).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,u,f){var s=i.isEmptyObject(n),o=i.speed(t,u,f),e=function(){var t=l(this,i.extend({},n),o);(s||r.get(this,"finish"))&&t.stop(!0)};return e.finish=e,s||o.queue===!1?this.each(e):this.queue(o.queue,e)},stop:function(n,t,u){var f=function(n){var t=n.stop;delete n.stop;t(u)};return"string"!=typeof n&&(u=t,t=n,n=void 0),t&&n!==!1&&this.queue(n||"fx",[]),this.each(function(){var s=!0,t=null!=n&&n+"queueHooks",o=i.timers,e=r.get(this);if(t)e[t]&&e[t].stop&&f(e[t]);else for(t in e)e[t]&&e[t].stop&&pu.test(t)&&f(e[t]);for(t=o.length;t--;)o[t].elem!==this||null!=n&&o[t].queue!==n||(o[t].anim.stop(u),s=!1,o.splice(t,1));!s&&u||i.dequeue(this,n)})},finish:function(n){return n!==!1&&(n=n||"fx"),this.each(function(){var t,e=r.get(this),u=e[n+"queue"],o=e[n+"queueHooks"],f=i.timers,s=u?u.length:0;for(e.finish=!0,i.queue(this,n,[]),o&&o.stop&&o.stop.call(this,!0),t=f.length;t--;)f[t].elem===this&&f[t].queue===n&&(f[t].anim.stop(!0),f.splice(t,1));for(t=0;s>t;t++)u[t]&&u[t].finish&&u[t].finish.call(this);delete e.finish})}});i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(n,i,u){return null==n||"boolean"==typeof n?r.apply(this,arguments):this.animate(ni(t,!0),n,i,u)}});i.each({slideDown:ni("show"),slideUp:ni("hide"),slideToggle:ni("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.timers=[];i.fx.tick=function(){var r,n=0,t=i.timers;for(it=i.now();n<t.length;n++)r=t[n],r()||t[n]!==r||t.splice(n--,1);t.length||i.fx.stop();it=void 0};i.fx.timer=function(n){i.timers.push(n);n()?i.fx.start():i.timers.pop()};i.fx.interval=13;i.fx.start=function(){rt||(rt=n.requestAnimationFrame?n.requestAnimationFrame(wu):n.setInterval(i.fx.tick,i.fx.interval))};i.fx.stop=function(){n.cancelAnimationFrame?n.cancelAnimationFrame(rt):n.clearInterval(rt);rt=null};i.fx.speeds={slow:600,fast:200,_default:400};i.fn.delay=function(t,r){return t=i.fx?i.fx.speeds[t]||t:t,r=r||"fx",this.queue(r,function(i,r){var u=n.setTimeout(i,t);r.stop=function(){n.clearTimeout(u)}})},function(){var n=u.createElement("input"),t=u.createElement("select"),i=t.appendChild(u.createElement("option"));n.type="checkbox";f.checkOn=""!==n.value;f.optSelected=i.selected;n=u.createElement("input");n.value="t";n.type="radio";f.radioValue="t"===n.value}();ut=i.expr.attrHandle;i.fn.extend({attr:function(n,t){return a(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})}});i.extend({attr:function(n,t,r){var u,f,e=n.nodeType;if(3!==e&&8!==e&&2!==e)return"undefined"==typeof n.getAttribute?i.prop(n,t,r):(1===e&&i.isXMLDoc(n)||(f=i.attrHooks[t.toLowerCase()]||(i.expr.match.bool.test(t)?du:void 0)),void 0!==r?null===r?void i.removeAttr(n,t):f&&"set"in f&&void 0!==(u=f.set(n,r,t))?u:(n.setAttribute(t,r+""),r):f&&"get"in f&&null!==(u=f.get(n,t))?u:(u=i.find.attr(n,t),null==u?void 0:u))},attrHooks:{type:{set:function(n,t){if(!f.radioValue&&"radio"===t&&i.nodeName(n,"input")){var r=n.value;return n.setAttribute("type",t),r&&(n.value=r),t}}}},removeAttr:function(n,t){var i,u=0,r=t&&t.match(h);if(r&&1===n.nodeType)while(i=r[u++])n.removeAttribute(i)}});du={set:function(n,t,r){return t===!1?i.removeAttr(n,r):n.setAttribute(r,r),r}};i.each(i.expr.match.bool.source.match(/\w+/g),function(n,t){var r=ut[t]||i.find.attr;ut[t]=function(n,t,i){var f,e,u=t.toLowerCase();return i||(e=ut[u],ut[u]=f,f=null!=r(n,t,i)?u:null,ut[u]=e),f}});gu=/^(?:input|select|textarea|button)$/i;nf=/^(?:a|area)$/i;i.fn.extend({prop:function(n,t){return a(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return this.each(function(){delete this[i.propFix[n]||n]})}});i.extend({prop:function(n,t,r){var f,u,e=n.nodeType;if(3!==e&&8!==e&&2!==e)return 1===e&&i.isXMLDoc(n)||(t=i.propFix[t]||t,u=i.propHooks[t]),void 0!==r?u&&"set"in u&&void 0!==(f=u.set(n,r,t))?f:n[t]=r:u&&"get"in u&&null!==(f=u.get(n,t))?f:n[t]},propHooks:{tabIndex:{get:function(n){var t=i.find.attr(n,"tabindex");return t?parseInt(t,10):gu.test(n.nodeName)||nf.test(n.nodeName)&&n.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});f.optSelected||(i.propHooks.selected={get:function(n){var t=n.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(n){var t=n.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}});i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this});ti=/[\t\r\n\f]/g;i.fn.extend({addClass:function(n){var o,t,r,u,f,s,e,c=0;if(i.isFunction(n))return this.each(function(t){i(this).addClass(n.call(this,t,b(this)))});if("string"==typeof n&&n)for(o=n.match(h)||[];t=this[c++];)if(u=b(t),r=1===t.nodeType&&(" "+u+" ").replace(ti," ")){for(s=0;f=o[s++];)r.indexOf(" "+f+" ")<0&&(r+=f+" ");e=i.trim(r);u!==e&&t.setAttribute("class",e)}return this},removeClass:function(n){var o,r,t,u,f,s,e,c=0;if(i.isFunction(n))return this.each(function(t){i(this).removeClass(n.call(this,t,b(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof n&&n)for(o=n.match(h)||[];r=this[c++];)if(u=b(r),t=1===r.nodeType&&(" "+u+" ").replace(ti," ")){for(s=0;f=o[s++];)while(t.indexOf(" "+f+" ")>-1)t=t.replace(" "+f+" "," ");e=i.trim(t);u!==e&&r.setAttribute("class",e)}return this},toggleClass:function(n,t){var u=typeof n;return"boolean"==typeof t&&"string"===u?t?this.addClass(n):this.removeClass(n):i.isFunction(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,b(this),t),t)}):this.each(function(){var t,e,f,o;if("string"===u)for(e=0,f=i(this),o=n.match(h)||[];t=o[e++];)f.hasClass(t)?f.removeClass(t):f.addClass(t);else void 0!==n&&"boolean"!==u||(t=b(this),t&&r.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||n===!1?"":r.get(this,"__className__")||""))})},hasClass:function(n){for(var t,r=0,i=" "+n+" ";t=this[r++];)if(1===t.nodeType&&(" "+b(t)+" ").replace(ti," ").indexOf(i)>-1)return!0;return!1}});tf=/\r/g;rf=/[\x20\t\r\n\f]+/g;i.fn.extend({val:function(n){var t,r,f,u=this[0];return arguments.length?(f=i.isFunction(n),this.each(function(r){var u;1===this.nodeType&&(u=f?n.call(this,r,i(this).val()):n,null==u?u="":"number"==typeof u?u+="":i.isArray(u)&&(u=i.map(u,function(n){return null==n?"":n+""})),t=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,u,"value")||(this.value=u))})):u?(t=i.valHooks[u.type]||i.valHooks[u.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(r=t.get(u,"value"))?r:(r=u.value,"string"==typeof r?r.replace(tf,""):null==r?"":r)):void 0}});i.extend({valHooks:{option:{get:function(n){var t=i.find.attr(n,"value");return null!=t?t:i.trim(i.text(n)).replace(rf," ")}},select:{get:function(n){for(var e,t,o=n.options,r=n.selectedIndex,u="select-one"===n.type,s=u?null:[],h=u?r+1:o.length,f=0>r?h:u?r:0;h>f;f++)if(t=o[f],(t.selected||f===r)&&!t.disabled&&(!t.parentNode.disabled||!i.nodeName(t.parentNode,"optgroup"))){if(e=i(t).val(),u)return e;s.push(e)}return s},set:function(n,t){for(var u,r,f=n.options,e=i.makeArray(t),o=f.length;o--;)r=f[o],(r.selected=i.inArray(i.valHooks.option.get(r),e)>-1)&&(u=!0);return u||(n.selectedIndex=-1),e}}}});i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(n,t){if(i.isArray(t))return n.checked=i.inArray(i(n).val(),t)>-1}};f.checkOn||(i.valHooks[this].get=function(n){return null===n.getAttribute("value")?"on":n.value})});ci=/^(?:focusinfocus|focusoutblur)$/;i.extend(i.event,{trigger:function(t,f,e,o){var w,s,c,b,a,v,l,p=[e||u],h=vt.call(t,"type")?t.type:t,y=vt.call(t,"namespace")?t.namespace.split("."):[];if(s=c=e=e||u,3!==e.nodeType&&8!==e.nodeType&&!ci.test(h+i.event.triggered)&&(h.indexOf(".")>-1&&(y=h.split("."),h=y.shift(),y.sort()),a=h.indexOf(":")<0&&"on"+h,t=t[i.expando]?t:new i.Event(h,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=y.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=e),f=null==f?[t]:i.makeArray(f,[t]),l=i.event.special[h]||{},o||!l.trigger||l.trigger.apply(e,f)!==!1)){if(!o&&!l.noBubble&&!i.isWindow(e)){for(b=l.delegateType||h,ci.test(b+h)||(s=s.parentNode);s;s=s.parentNode)p.push(s),c=s;c===(e.ownerDocument||u)&&p.push(c.defaultView||c.parentWindow||n)}for(w=0;(s=p[w++])&&!t.isPropagationStopped();)t.type=w>1?b:l.bindType||h,v=(r.get(s,"events")||{})[t.type]&&r.get(s,"handle"),v&&v.apply(s,f),v=a&&s[a],v&&v.apply&&et(s)&&(t.result=v.apply(s,f),t.result===!1&&t.preventDefault());return t.type=h,o||t.isDefaultPrevented()||l._default&&l._default.apply(p.pop(),f)!==!1||!et(e)||a&&i.isFunction(e[h])&&!i.isWindow(e)&&(c=e[a],c&&(e[a]=null),i.event.triggered=h,e[h](),i.event.triggered=void 0,c&&(e[a]=c)),t.result}},simulate:function(n,t,r){var u=i.extend(new i.Event,r,{type:n,isSimulated:!0});i.event.trigger(u,null,t)}});i.fn.extend({trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,t){var r=this[0];if(r)return i.event.trigger(n,t,r,!0)}});i.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return arguments.length>0?this.on(t,null,n,i):this.trigger(t)}});i.fn.extend({hover:function(n,t){return this.mouseenter(n).mouseleave(t||n)}});f.focusin="onfocusin"in n;f.focusin||i.each({focus:"focusin",blur:"focusout"},function(n,t){var u=function(n){i.event.simulate(t,n.target,i.event.fix(n))};i.event.special[t]={setup:function(){var i=this.ownerDocument||this,f=r.access(i,t);f||i.addEventListener(n,u,!0);r.access(i,t,(f||0)+1)},teardown:function(){var i=this.ownerDocument||this,f=r.access(i,t)-1;f?r.access(i,t,f):(i.removeEventListener(n,u,!0),r.remove(i,t))}}});var ct=n.location,uf=i.now(),li=/\?/;i.parseXML=function(t){var r;if(!t||"string"!=typeof t)return null;try{r=(new n.DOMParser).parseFromString(t,"text/xml")}catch(u){r=void 0}return r&&!r.getElementsByTagName("parsererror").length||i.error("Invalid XML: "+t),r};var ke=/\[\]$/,ff=/\r?\n/g,de=/^(?:submit|button|image|reset|file)$/i,ge=/^(?:input|select|textarea|keygen)/i;i.param=function(n,t){var r,u=[],f=function(n,t){var r=i.isFunction(t)?t():t;u[u.length]=encodeURIComponent(n)+"="+encodeURIComponent(null==r?"":r)};if(i.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){f(this.name,this.value)});else for(r in n)ai(r,n[r],t,f);return u.join("&")};i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=i.prop(this,"elements");return n?i.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!i(this).is(":disabled")&&ge.test(this.nodeName)&&!de.test(n)&&(this.checked||!wr.test(n))}).map(function(n,t){var r=i(this).val();return null==r?null:i.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(ff,"\r\n")}}):{name:t.name,value:r.replace(ff,"\r\n")}}).get()}});var no=/%20/g,to=/#.*$/,io=/([?&])_=[^&]*/,ro=/^(.*?):[ \t]*([^\r\n]*)$/gm,uo=/^(?:GET|HEAD)$/,fo=/^\/\//,ef={},vi={},of="*/".concat("*"),yi=u.createElement("a");return yi.href=ct.href,i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ct.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ct.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":of,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,t){return t?pi(pi(n,i.ajaxSettings),t):pi(i.ajaxSettings,n)},ajaxPrefilter:sf(ef),ajaxTransport:sf(vi),ajax:function(t,r){function b(t,r,u,h){var y,rt,g,p,b,l=r;s||(s=!0,d&&n.clearTimeout(d),a=void 0,k=h||"",e.readyState=t>0?4:0,y=t>=200&&300>t||304===t,u&&(p=eo(f,e,u)),p=oo(f,p,e,y),y?(f.ifModified&&(b=e.getResponseHeader("Last-Modified"),b&&(i.lastModified[o]=b),b=e.getResponseHeader("etag"),b&&(i.etag[o]=b)),204===t||"HEAD"===f.type?l="nocontent":304===t?l="notmodified":(l=p.state,rt=p.data,g=p.error,y=!g)):(g=l,!t&&l||(l="error",0>t&&(t=0))),e.status=t,e.statusText=(r||l)+"",y?tt.resolveWith(c,[rt,l,e]):tt.rejectWith(c,[e,l,g]),e.statusCode(w),w=void 0,v&&nt.trigger(y?"ajaxSuccess":"ajaxError",[e,f,y?rt:g]),it.fireWith(c,[e,l]),v&&(nt.trigger("ajaxComplete",[e,f]),--i.active||i.event.trigger("ajaxStop")))}"object"==typeof t&&(r=t,t=void 0);r=r||{};var a,o,k,y,d,l,s,v,g,p,f=i.ajaxSetup({},r),c=f.context||f,nt=f.context&&(c.nodeType||c.jquery)?i(c):i.event,tt=i.Deferred(),it=i.Callbacks("once memory"),w=f.statusCode||{},rt={},ut={},ft="canceled",e={readyState:0,getResponseHeader:function(n){var t;if(s){if(!y)for(y={};t=ro.exec(k);)y[t[1].toLowerCase()]=t[2];t=y[n.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return s?k:null},setRequestHeader:function(n,t){return null==s&&(n=ut[n.toLowerCase()]=ut[n.toLowerCase()]||n,rt[n]=t),this},overrideMimeType:function(n){return null==s&&(f.mimeType=n),this},statusCode:function(n){var t;if(n)if(s)e.always(n[e.status]);else for(t in n)w[t]=[w[t],n[t]];return this},abort:function(n){var t=n||ft;return a&&a.abort(t),b(0,t),this}};if(tt.promise(e),f.url=((t||f.url||ct.href)+"").replace(fo,ct.protocol+"//"),f.type=r.method||r.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(h)||[""],null==f.crossDomain){l=u.createElement("a");try{l.href=f.url;l.href=l.href;f.crossDomain=yi.protocol+"//"+yi.host!=l.protocol+"//"+l.host}catch(et){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=i.param(f.data,f.traditional)),hf(ef,f,r,e),s)return e;v=i.event&&f.global;v&&0==i.active++&&i.event.trigger("ajaxStart");f.type=f.type.toUpperCase();f.hasContent=!uo.test(f.type);o=f.url.replace(to,"");f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(no,"+")):(p=f.url.slice(o.length),f.data&&(o+=(li.test(o)?"&":"?")+f.data,delete f.data),f.cache===!1&&(o=o.replace(io,""),p=(li.test(o)?"&":"?")+"_="+uf+++p),f.url=o+p);f.ifModified&&(i.lastModified[o]&&e.setRequestHeader("If-Modified-Since",i.lastModified[o]),i.etag[o]&&e.setRequestHeader("If-None-Match",i.etag[o]));(f.data&&f.hasContent&&f.contentType!==!1||r.contentType)&&e.setRequestHeader("Content-Type",f.contentType);e.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+of+"; q=0.01":""):f.accepts["*"]);for(g in f.headers)e.setRequestHeader(g,f.headers[g]);if(f.beforeSend&&(f.beforeSend.call(c,e,f)===!1||s))return e.abort();if(ft="abort",it.add(f.complete),e.done(f.success),e.fail(f.error),a=hf(vi,f,r,e)){if(e.readyState=1,v&&nt.trigger("ajaxSend",[e,f]),s)return e;f.async&&f.timeout>0&&(d=n.setTimeout(function(){e.abort("timeout")},f.timeout));try{s=!1;a.send(rt,b)}catch(et){if(s)throw et;b(-1,et)}}else b(-1,"No Transport");return e},getJSON:function(n,t,r){return i.get(n,t,r,"json")},getScript:function(n,t){return i.get(n,void 0,t,"script")}}),i.each(["get","post"],function(n,t){i[t]=function(n,r,u,f){return i.isFunction(r)&&(f=f||u,u=r,r=void 0),i.ajax(i.extend({url:n,type:t,dataType:f,data:r,success:u},i.isPlainObject(n)&&n))}}),i._evalUrl=function(n){return i.ajax({url:n,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},i.fn.extend({wrapAll:function(n){var t;return this[0]&&(i.isFunction(n)&&(n=n.call(this[0])),t=i(n,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this},wrapInner:function(n){return i.isFunction(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=i.isFunction(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(n){return this.parent(n).not("body").each(function(){i(this).replaceWith(this.childNodes)}),this}}),i.expr.pseudos.hidden=function(n){return!i.expr.pseudos.visible(n)},i.expr.pseudos.visible=function(n){return!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length)},i.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}},cf={0:200,1223:204},ft=i.ajaxSettings.xhr(),f.cors=!!ft&&"withCredentials"in ft,f.ajax=ft=!!ft,i.ajaxTransport(function(t){var i,r;if(f.cors||ft&&!t.crossDomain)return{send:function(u,f){var o,e=t.xhr();if(e.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)e[o]=t.xhrFields[o];t.mimeType&&e.overrideMimeType&&e.overrideMimeType(t.mimeType);t.crossDomain||u["X-Requested-With"]||(u["X-Requested-With"]="XMLHttpRequest");for(o in u)e.setRequestHeader(o,u[o]);i=function(n){return function(){i&&(i=r=e.onload=e.onerror=e.onabort=e.onreadystatechange=null,"abort"===n?e.abort():"error"===n?"number"!=typeof e.status?f(0,"error"):f(e.status,e.statusText):f(cf[e.status]||e.status,e.statusText,"text"!==(e.responseType||"text")||"string"!=typeof e.responseText?{binary:e.response}:{text:e.responseText},e.getAllResponseHeaders()))}};e.onload=i();r=e.onerror=i("error");void 0!==e.onabort?e.onabort=r:e.onreadystatechange=function(){4===e.readyState&&n.setTimeout(function(){i&&r()})};i=i("abort");try{e.send(t.hasContent&&t.data||null)}catch(s){if(i)throw s;}},abort:function(){i&&i()}}}),i.ajaxPrefilter(function(n){n.crossDomain&&(n.contents.script=!1)}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(n){return i.globalEval(n),n}}}),i.ajaxPrefilter("script",function(n){void 0===n.cache&&(n.cache=!1);n.crossDomain&&(n.type="GET")}),i.ajaxTransport("script",function(n){if(n.crossDomain){var r,t;return{send:function(f,e){r=i("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",t=function(n){r.remove();t=null;n&&e("error"===n.type?404:200,n.type)});u.head.appendChild(r[0])},abort:function(){t&&t()}}}}),wi=[],ii=/(=)\?(?=&|$)|\?\?/,i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=wi.pop()||i.expando+"_"+uf++;return this[n]=!0,n}}),i.ajaxPrefilter("json jsonp",function(t,r,u){var f,e,o,s=t.jsonp!==!1&&(ii.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ii.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return(f=t.jsonpCallback=i.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ii,"$1"+f):t.jsonp!==!1&&(t.url+=(li.test(t.url)?"&":"?")+t.jsonp+"="+f),t.converters["script json"]=function(){return o||i.error(f+" was not called"),o[0]},t.dataTypes[0]="json",e=n[f],n[f]=function(){o=arguments},u.always(function(){void 0===e?i(n).removeProp(f):n[f]=e;t[f]&&(t.jsonpCallback=r.jsonpCallback,wi.push(f));o&&i.isFunction(e)&&e(o[0]);o=e=void 0}),"script")}),f.createHTMLDocument=function(){var n=u.implementation.createHTMLDocument("").body;return n.innerHTML="<form><\/form><form><\/form>",2===n.childNodes.length}(),i.parseHTML=function(n,t,r){if("string"!=typeof n)return[];"boolean"==typeof t&&(r=t,t=!1);var s,e,o;return t||(f.createHTMLDocument?(t=u.implementation.createHTMLDocument(""),s=t.createElement("base"),s.href=u.location.href,t.head.appendChild(s)):t=u),e=rr.exec(n),o=!r&&[],e?[t.createElement(e[1])]:(e=gr([n],t,o),o&&o.length&&i(o).remove(),i.merge([],e.childNodes))},i.fn.load=function(n,t,r){var u,o,s,f=this,e=n.indexOf(" ");return e>-1&&(u=i.trim(n.slice(e)),n=n.slice(0,e)),i.isFunction(t)?(r=t,t=void 0):t&&"object"==typeof t&&(o="POST"),f.length>0&&i.ajax({url:n,type:o||"GET",dataType:"html",data:t}).done(function(n){s=arguments;f.html(u?i("<div>").append(i.parseHTML(n)).find(u):n)}).always(r&&function(n,t){f.each(function(){r.apply(this,s||[n.responseText,t,n])})}),this},i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,t){i.fn[t]=function(n){return this.on(t,n)}}),i.expr.pseudos.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length},i.offset={setOffset:function(n,t,r){var e,o,s,h,u,c,v,l=i.css(n,"position"),a=i(n),f={};"static"===l&&(n.style.position="relative");u=a.offset();s=i.css(n,"top");c=i.css(n,"left");v=("absolute"===l||"fixed"===l)&&(s+c).indexOf("auto")>-1;v?(e=a.position(),h=e.top,o=e.left):(h=parseFloat(s)||0,o=parseFloat(c)||0);i.isFunction(t)&&(t=t.call(n,r,i.extend({},u)));null!=t.top&&(f.top=t.top-u.top+h);null!=t.left&&(f.left=t.left-u.left+o);"using"in t?t.using.call(n,f):a.css(f)}},i.fn.extend({offset:function(n){if(arguments.length)return void 0===n?this:this.each(function(t){i.offset.setOffset(this,n,t)});var u,f,t,e,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),t.width||t.height?(e=r.ownerDocument,f=lf(e),u=e.documentElement,{top:t.top+f.pageYOffset-u.clientTop,left:t.left+f.pageXOffset-u.clientLeft}):t):{top:0,left:0}},position:function(){if(this[0]){var t,r,u=this[0],n={top:0,left:0};return"fixed"===i.css(u,"position")?r=u.getBoundingClientRect():(t=this.offsetParent(),r=this.offset(),i.nodeName(t[0],"html")||(n=t.offset()),n={top:n.top+i.css(t[0],"borderTopWidth",!0),left:n.left+i.css(t[0],"borderLeftWidth",!0)}),{top:r.top-n.top-i.css(u,"marginTop",!0),left:r.left-n.left-i.css(u,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent;n&&"static"===i.css(n,"position");)n=n.offsetParent;return n||kt})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,t){var r="pageYOffset"===t;i.fn[n]=function(i){return a(this,function(n,i,u){var f=lf(n);return void 0===u?f?f[t]:n[i]:void(f?f.scrollTo(r?f.pageXOffset:u,r?u:f.pageYOffset):n[i]=u)},n,i,arguments.length)}}),i.each(["top","left"],function(n,t){i.cssHooks[t]=eu(f.pixelPosition,function(n,r){if(r)return(r=ht(n,t),hi.test(r)?i(n).position()[t]+"px":r)})}),i.each({Height:"height",Width:"width"},function(n,t){i.each({padding:"inner"+n,content:t,"":"outer"+n},function(r,u){i.fn[u]=function(f,e){var o=arguments.length&&(r||"boolean"!=typeof f),s=r||(f===!0||e===!0?"margin":"border");return a(this,function(t,r,f){var e;return i.isWindow(t)?0===u.indexOf("outer")?t["inner"+n]:t.document.documentElement["client"+n]:9===t.nodeType?(e=t.documentElement,Math.max(t.body["scroll"+n],e["scroll"+n],t.body["offset"+n],e["offset"+n],e["client"+n])):void 0===f?i.css(t,r,s):i.style(t,r,f,s)},t,o?f:void 0,o)}})}),i.fn.extend({bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return 1===arguments.length?this.off(n,"**"):this.off(t,n||"**",i)}}),i.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return i}),af=n.jQuery,vf=n.$,i.noConflict=function(t){return n.$===i&&(n.$=vf),t&&n.jQuery===i&&(n.jQuery=af),i},t||(n.jQuery=n.$=i),i});"undefined"==typeof jQuery.migrateMute&&(jQuery.migrateMute=!0),function(n,t,i){function r(i){var r=t.console;e[i]||(e[i]=!0,n.migrateWarnings.push(i),r&&r.warn&&!n.migrateMute&&(r.warn("JQMIGRATE: "+i),n.migrateTrace&&r.trace&&r.trace()))}function f(t,i,u,f){if(Object.defineProperty)try{return void Object.defineProperty(t,i,{configurable:!0,enumerable:!0,get:function(){return r(f),u},set:function(n){r(f);u=n}})}catch(e){}n._definePropertyBroken=!0;t[i]=u}var e,h,c,y,p,tt,it,rt,ut;n.migrateVersion="1.4.1";e={};n.migrateWarnings=[];t.console&&t.console.log&&t.console.log("JQMIGRATE: Migrate is installed"+(n.migrateMute?"":" with logging active")+", version "+n.migrateVersion);n.migrateTrace===i&&(n.migrateTrace=!0);n.migrateReset=function(){e={};n.migrateWarnings.length=0};"BackCompat"===document.compatMode&&r("jQuery is not compatible with Quirks Mode");var l=n("<input/>",{size:1}).attr("size")&&n.attrFn,a=n.attr,ft=n.attrHooks.value&&n.attrHooks.value.get||function(){return null},et=n.attrHooks.value&&n.attrHooks.value.set||function(){return i},ot=/^(?:input|button)$/i,st=/^[238]$/,ht=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,ct=/^(?:checked|selected)$/i;f(n,"attrFn",l||{},"jQuery.attrFn is deprecated");n.attr=function(t,u,f,e){var o=u.toLowerCase(),s=t&&t.nodeType;return e&&(a.length<4&&r("jQuery.fn.attr( props, pass ) is deprecated"),t&&!st.test(s)&&(l?u in l:n.isFunction(n.fn[u])))?n(t)[u](f):("type"===u&&f!==i&&ot.test(t.nodeName)&&t.parentNode&&r("Can't change the 'type' of an input or button in IE 6/7/8"),!n.attrHooks[o]&&ht.test(o)&&(n.attrHooks[o]={get:function(t,r){var u,f=n.prop(t,r);return f===!0||"boolean"!=typeof f&&(u=t.getAttributeNode(r))&&u.nodeValue!==!1?r.toLowerCase():i},set:function(t,i,r){var u;return i===!1?n.removeAttr(t,r):(u=n.propFix[r]||r,u in t&&(t[u]=!0),t.setAttribute(r,r.toLowerCase())),r}},ct.test(o)&&r("jQuery.fn.attr('"+o+"') might use property instead of attribute")),a.call(n,t,u,f))};n.attrHooks.value={get:function(n,t){var i=(n.nodeName||"").toLowerCase();return"button"===i?ft.apply(this,arguments):("input"!==i&&"option"!==i&&r("jQuery.fn.attr('value') no longer gets properties"),t in n?n.value:null)},set:function(n,t){var i=(n.nodeName||"").toLowerCase();return"button"===i?et.apply(this,arguments):("input"!==i&&"option"!==i&&r("jQuery.fn.attr('value', val) no longer sets properties"),void(n.value=t))}};var o,u,v=n.fn.init,s=n.find,lt=n.parseJSON,at=/^\s*</,vt=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,yt=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,pt=/^([^<]*)(<[\w\W]+>)([^>]*)$/;n.fn.init=function(t,u,f){var o,e;return t&&"string"==typeof t&&!n.isPlainObject(u)&&(o=pt.exec(n.trim(t)))&&o[0]&&(at.test(t)||r("$(html) HTML strings must start with '<' character"),o[3]&&r("$(html) HTML text after last tag is ignored"),"#"===o[0].charAt(0)&&(r("HTML string cannot start with a '#' character"),n.error("JQMIGRATE: Invalid selector string (XSS)")),u&&u.context&&u.context.nodeType&&(u=u.context),n.parseHTML)?v.call(this,n.parseHTML(o[2],u&&u.ownerDocument||u||document,!0),u,f):(e=v.apply(this,arguments),t&&t.selector!==i?(e.selector=t.selector,e.context=t.context):(e.selector="string"==typeof t?t:"",t&&(e.context=t.nodeType?t:u||document)),e)};n.fn.init.prototype=n.fn;n.find=function(n){var t=Array.prototype.slice.call(arguments);if("string"==typeof n&&vt.test(n))try{document.querySelector(n)}catch(i){n=n.replace(yt,function(n,t,i,r){return"["+t+i+'"'+r+'"]'});try{document.querySelector(n);r("Attribute selector with '#' must be quoted: "+t[0]);t[0]=n}catch(u){r("Attribute selector with '#' was not fixed: "+t[0])}}return s.apply(this,t)};for(h in s)Object.prototype.hasOwnProperty.call(s,h)&&(n.find[h]=s[h]);n.parseJSON=function(n){return n?lt.apply(this,arguments):(r("jQuery.parseJSON requires a valid JSON string"),null)};n.uaMatch=function(n){n=n.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:t[1]||"",version:t[2]||"0"}};n.browser||(o=n.uaMatch(navigator.userAgent),u={},o.browser&&(u[o.browser]=!0,u.version=o.version),u.chrome?u.webkit=!0:u.webkit&&(u.safari=!0),n.browser=u);f(n,"browser",n.browser,"jQuery.browser is deprecated");n.boxModel=n.support.boxModel="CSS1Compat"===document.compatMode;f(n,"boxModel",n.boxModel,"jQuery.boxModel is deprecated");f(n.support,"boxModel",n.support.boxModel,"jQuery.support.boxModel is deprecated");n.sub=function(){function t(n,i){return new t.fn.init(n,i)}n.extend(!0,t,this);t.superclass=this;t.fn=t.prototype=this();t.fn.constructor=t;t.sub=this.sub;t.fn.init=function(r,u){var f=n.fn.init.call(this,r,u,i);return f instanceof t?f:t(f)};t.fn.init.prototype=t.fn;var i=t(document);return r("jQuery.sub() is deprecated"),t};n.fn.size=function(){return r("jQuery.fn.size() is deprecated; use the .length property"),this.length};c=!1;n.swap&&n.each(["height","width","reliableMarginRight"],function(t,i){var r=n.cssHooks[i]&&n.cssHooks[i].get;r&&(n.cssHooks[i].get=function(){var n;return c=!0,n=r.apply(this,arguments),c=!1,n})});n.swap=function(n,t,i,u){var e,f,o={};c||r("jQuery.swap() is undocumented and deprecated");for(f in t)o[f]=n.style[f],n.style[f]=t[f];e=i.apply(n,u||[]);for(f in t)n.style[f]=o[f];return e};n.ajaxSetup({converters:{"text json":n.parseJSON}});y=n.fn.data;n.fn.data=function(t){var f,u,e=this[0];return!e||"events"!==t||1!==arguments.length||(f=n.data(e,t),u=n._data(e,t),f!==i&&f!==u||u===i)?y.apply(this,arguments):(r("Use of jQuery.fn.data('events') is deprecated"),u)};p=/\/(java|ecma)script/i;n.clean||(n.clean=function(t,i,u,f){i=i||document;i=!i.nodeType&&i[0]||i;i=i.ownerDocument||i;r("jQuery.clean() is deprecated");var o,e,h,c,s=[];if(n.merge(s,n.buildFragment(t,i).childNodes),u)for(h=function(n){if(!n.type||p.test(n.type))return f?f.push(n.parentNode?n.parentNode.removeChild(n):n):u.appendChild(n)},o=0;null!=(e=s[o]);o++)n.nodeName(e,"script")&&h(e)||(u.appendChild(e),"undefined"!=typeof e.getElementsByTagName&&(c=n.grep(n.merge([],e.getElementsByTagName("script")),h),s.splice.apply(s,[o+1,0].concat(c)),o+=c.length));return s});var wt=n.event.add,bt=n.event.remove,kt=n.event.trigger,dt=n.fn.toggle,w=n.fn.live,b=n.fn.die,gt=n.fn.load,k="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",d=new RegExp("\\b(?:"+k+")\\b"),g=/(?:^|\s)hover(\.\S+|)\b/,nt=function(t){return"string"!=typeof t||n.event.special.hover?t:(g.test(t)&&r("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(g,"mouseenter$1 mouseleave$1"))};n.event.props&&"attrChange"!==n.event.props[0]&&n.event.props.unshift("attrChange","attrName","relatedNode","srcElement");n.event.dispatch&&f(n.event,"handle",n.event.dispatch,"jQuery.event.handle is undocumented and deprecated");n.event.add=function(n,t,i,u,f){n!==document&&d.test(t)&&r("AJAX events should be attached to document: "+t);wt.call(this,n,nt(t||""),i,u,f)};n.event.remove=function(n,t,i,r,u){bt.call(this,n,nt(t)||"",i,r,u)};n.each(["load","unload","error"],function(t,i){n.fn[i]=function(){var n=Array.prototype.slice.call(arguments,0);return"load"===i&&"string"==typeof n[0]?gt.apply(this,n):(r("jQuery.fn."+i+"() is deprecated"),n.splice(0,0,i),arguments.length?this.bind.apply(this,n):(this.triggerHandler.apply(this,n),this))}});n.fn.toggle=function(t,i){if(!n.isFunction(t)||!n.isFunction(i))return dt.apply(this,arguments);r("jQuery.fn.toggle(handler, handler...) is deprecated");var u=arguments,e=t.guid||n.guid++,f=0,o=function(i){var r=(n._data(this,"lastToggle"+t.guid)||0)%f;return n._data(this,"lastToggle"+t.guid,r+1),i.preventDefault(),u[r].apply(this,arguments)||!1};for(o.guid=e;f<u.length;)u[f++].guid=e;return this.click(o)};n.fn.live=function(t,i,u){return r("jQuery.fn.live() is deprecated"),w?w.apply(this,arguments):(n(this.context).on(t,this.selector,i,u),this)};n.fn.die=function(t,i){return r("jQuery.fn.die() is deprecated"),b?b.apply(this,arguments):(n(this.context).off(t,this.selector||"**",i),this)};n.event.trigger=function(n,t,i,u){return i||d.test(n)||r("Global events are undocumented and deprecated"),kt.call(this,n,t,i||document,u)};n.each(k.split("|"),function(t,i){n.event.special[i]={setup:function(){var t=this;return t!==document&&(n.event.add(document,i+"."+n.guid,function(){n.event.trigger(i,Array.prototype.slice.call(arguments,1),t,!0)}),n._data(this,i,n.guid++)),!1},teardown:function(){return this!==document&&n.event.remove(document,i+"."+n._data(this,i)),!1}}});n.event.special.ready={setup:function(){this===document&&r("'ready' event is deprecated")}};tt=n.fn.andSelf||n.fn.addBack;it=n.fn.find;(n.fn.andSelf=function(){return r("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),tt.apply(this,arguments)},n.fn.find=function(n){var t=it.apply(this,arguments);return t.context=this.context,t.selector=this.selector?this.selector+" "+n:n,t},n.Callbacks)&&(rt=n.Deferred,ut=[["resolve","done",n.Callbacks("once memory"),n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory"),n.Callbacks("memory")]],n.Deferred=function(t){var i=rt(),u=i.promise();return i.pipe=u.pipe=function(){var t=arguments;return r("deferred.pipe() is deprecated"),n.Deferred(function(r){n.each(ut,function(f,e){var o=n.isFunction(t[f])&&t[f];i[e[1]](function(){var t=o&&o.apply(this,arguments);t&&n.isFunction(t.promise)?t.promise().done(r.resolve).fail(r.reject).progress(r.notify):r[e[0]+"With"](this===u?r.promise():this,o?[t]:arguments)})});t=null}).promise()},i.isResolved=function(){return r("deferred.isResolved is deprecated"),"resolved"===i.state()},i.isRejected=function(){return r("deferred.isRejected is deprecated"),"rejected"===i.state()},t&&t.call(i,i),i})}(jQuery,window),function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){function r(t,i){var r,f,e,o=t.nodeName.toLowerCase();return"area"===o?(r=t.parentNode,f=r.name,t.href&&f&&"map"===r.nodeName.toLowerCase()?(e=n("img[usemap='#"+f+"']")[0],!!e&&u(e)):!1):(/^(input|select|textarea|button|object)$/.test(o)?!t.disabled:"a"===o?t.href||i:i)&&u(t)}function u(t){return n.expr.filters.visible(t)&&!n(t).parents().addBack().filter(function(){return"hidden"===n.css(this,"visibility")}).length}function s(n){for(var t,i;n.length&&n[0]!==document;){if(t=n.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(n.css("zIndex"),10),!isNaN(i)&&0!==i))return i;n=n.parent()}return 0}function f(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._datepickerShowing=!1;this._inDialog=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["S","M","T","W","T","F","S"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};n.extend(this._defaults,this.regional[""]);this.regional.en=n.extend(!0,{},this.regional[""]);this.regional["en-US"]=n.extend(!0,{},this.regional.en);this.dpDiv=e(n("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>"))}function e(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){n(this).removeClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&n(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&n(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",o)}function o(){n.datepicker._isDisabledDatepicker(t.inline?t.dpDiv.parent()[0]:t.input[0])||(n(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),n(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&n(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&n(this).addClass("ui-datepicker-next-hover"))}function i(t,i){n.extend(t,i);for(var r in i)null==i[r]&&(t[r]=i[r]);return t}n.ui=n.ui||{};n.extend(n.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});n.fn.extend({scrollParent:function(t){var i=this.css("position"),u="absolute"===i,f=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=n(this);return u&&"static"===t.css("position")?!1:f.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&r.length?r:n(this[0].ownerDocument||document)},uniqueId:function(){var n=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&n(this).removeAttr("id")})}});n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo(function(t){return function(i){return!!n.data(i,t)}}):function(t,i,r){return!!n.data(t,r[3])},focusable:function(t){return r(t,!isNaN(n.attr(t,"tabindex")))},tabbable:function(t){var i=n.attr(t,"tabindex"),u=isNaN(i);return(u||i>=0)&&r(t,!u)}});n("<a>").outerWidth(1).jquery||n.each(["Width","Height"],function(t,i){function r(t,i,r,u){return n.each(e,function(){i-=parseFloat(n.css(t,"padding"+this))||0;r&&(i-=parseFloat(n.css(t,"border"+this+"Width"))||0);u&&(i-=parseFloat(n.css(t,"margin"+this))||0)}),i}var e="Width"===i?["Left","Right"]:["Top","Bottom"],u=i.toLowerCase(),f={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+i]=function(t){return void 0===t?f["inner"+i].call(this):this.each(function(){n(this).css(u,r(this,t)+"px")})};n.fn["outer"+i]=function(t,e){return"number"!=typeof t?f["outer"+i].call(this,t):this.each(function(){n(this).css(u,r(this,t,!0,e)+"px")})}});n.fn.addBack||(n.fn.addBack=function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))});n("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(n.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,n.camelCase(i)):t.call(this)}}(n.fn.removeData));n.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());n.fn.extend({focus:function(t){return function(i,r){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){n(t).focus();r&&r.call(t)},i)}):t.apply(this,arguments)}}(n.fn.focus),disableSelection:function(){var n="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(n+".ui-disableSelection",function(n){n.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var r,u,i=n(this[0]);i.length&&i[0]!==document;){if(r=i.css("position"),("absolute"===r||"relative"===r||"fixed"===r)&&(u=parseInt(i.css("zIndex"),10),!isNaN(u)&&0!==u))return u;i=i.parent()}return 0}});n.ui.plugin={add:function(t,i,r){var u,f=n.ui[t].prototype;for(u in r)f.plugins[u]=f.plugins[u]||[],f.plugins[u].push([i,r[u]])},call:function(n,t,i,r){var u,f=n.plugins[t];if(f&&(r||n.element[0].parentNode&&11!==n.element[0].parentNode.nodeType))for(u=0;f.length>u;u++)n.options[f[u][0]]&&f[u][1].apply(n.element,i)}};n.extend(n.ui,{datepicker:{version:"1.11.4"}});var t;n.extend(f.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(n){return i(this._defaults,n||{}),this},_attachDatepicker:function(t,i){var r,f,u;r=t.nodeName.toLowerCase();f="div"===r||"span"===r;t.id||(this.uuid+=1,t.id="dp"+this.uuid);u=this._newInst(n(t),f);u.settings=n.extend({},i||{});"input"===r?this._connectDatepicker(t,u):f&&this._inlineDatepicker(t,u)},_newInst:function(t,i){var r=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?e(n("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>")):this.dpDiv}},_connectDatepicker:function(t,i){var r=n(t);i.append=n([]);i.trigger=n([]);r.hasClass(this.markerClassName)||(this._attachments(r,i),r.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),n.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var u,r,f,e=this._get(i,"appendText"),o=this._get(i,"isRTL");i.append&&i.append.remove();e&&(i.append=n("<span class='"+this._appendClass+"'>"+e+"<\/span>"),t[o?"before":"after"](i.append));t.unbind("focus",this._showDatepicker);i.trigger&&i.trigger.remove();u=this._get(i,"showOn");("focus"===u||"both"===u)&&t.focus(this._showDatepicker);("button"===u||"both"===u)&&(r=this._get(i,"buttonText"),f=this._get(i,"buttonImage"),i.trigger=n(this._get(i,"buttonImageOnly")?n("<img/>").addClass(this._triggerClass).attr({src:f,alt:r,title:r}):n("<button type='button'><\/button>").addClass(this._triggerClass).html(f?n("<img/>").attr({src:f,alt:r,title:r}):r)),t[o?"before":"after"](i.trigger),i.trigger.click(function(){return n.datepicker._datepickerShowing&&n.datepicker._lastInput===t[0]?n.datepicker._hideDatepicker():n.datepicker._datepickerShowing&&n.datepicker._lastInput!==t[0]?(n.datepicker._hideDatepicker(),n.datepicker._showDatepicker(t[0])):n.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(n){if(this._get(n,"autoSize")&&!n.inline){var r,u,f,t,i=new Date(2009,11,20),e=this._get(n,"dateFormat");e.match(/[DM]/)&&(r=function(n){for(u=0,f=0,t=0;n.length>t;t++)n[t].length>u&&(u=n[t].length,f=t);return f},i.setMonth(r(this._get(n,e.match(/MM/)?"monthNames":"monthNamesShort"))),i.setDate(r(this._get(n,e.match(/DD/)?"dayNames":"dayNamesShort"))+20-i.getDay()));n.input.attr("size",this._formatDate(n,i).length)}},_inlineDatepicker:function(t,i){var r=n(t);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(i.dpDiv),n.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,r,u,f,e){var s,h,c,l,a,o=this._dialogInst;return o||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=n("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),n("body").append(this._dialogInput),o=this._dialogInst=this._newInst(this._dialogInput,!1),o.settings={},n.data(this._dialogInput[0],"datepicker",o)),i(o.settings,f||{}),r=r&&r.constructor===Date?this._formatDate(o,r):r,this._dialogInput.val(r),this._pos=e?e.length?e:[e.pageX,e.pageY]:null,this._pos||(h=document.documentElement.clientWidth,c=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,a=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+l,c/2-150+a]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),o.settings.onSelect=u,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),n.blockUI&&n.blockUI(this.dpDiv),n.data(this._dialogInput[0],"datepicker",o),this},_destroyDatepicker:function(i){var r,u=n(i),f=n.data(i,"datepicker");u.hasClass(this.markerClassName)&&(r=i.nodeName.toLowerCase(),n.removeData(i,"datepicker"),"input"===r?(f.append.remove(),f.trigger.remove(),u.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===r||"span"===r)&&u.removeClass(this.markerClassName).empty(),t===f&&(t=null))},_enableDatepicker:function(t){var i,r,u=n(t),f=n.data(t,"datepicker");u.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(r=u.children("."+this._inlineClass),r.children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n===t?null:n}))},_disableDatepicker:function(t){var i,r,u=n(t),f=n.data(t,"datepicker");u.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(r=u.children("."+this._inlineClass),r.children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n===t?null:n}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(n){if(!n)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===n)return!0;return!1},_getInst:function(t){try{return n.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(t,r,u){var e,h,o,s,f=this._getInst(t);return 2===arguments.length&&"string"==typeof r?"defaults"===r?n.extend({},n.datepicker._defaults):f?"all"===r?n.extend({},f.settings):this._get(f,r):null:(e=r||{},"string"==typeof r&&(e={},e[r]=u),f&&(this._curInst===f&&this._hideDatepicker(),h=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(f,"min"),s=this._getMinMaxDate(f,"max"),i(f.settings,e),null!==o&&void 0!==e.dateFormat&&void 0===e.minDate&&(f.settings.minDate=this._formatDate(f,o)),null!==s&&void 0!==e.dateFormat&&void 0===e.maxDate&&(f.settings.maxDate=this._formatDate(f,s)),"disabled"in e&&(e.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(n(t),f),this._autoSize(f),this._setDate(f,h),this._updateAlternate(f),this._updateDatepicker(f)),void 0)},_changeDatepicker:function(n,t,i){this._optionDatepicker(n,t,i)},_refreshDatepicker:function(n){var t=this._getInst(n);t&&this._updateDatepicker(t)},_setDateDatepicker:function(n,t){var i=this._getInst(n);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(n,t){var i=this._getInst(n);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var u,e,f,i=n.datepicker._getInst(t.target),r=!0,o=i.dpDiv.is(".ui-datepicker-rtl");if(i._keyEvent=!0,n.datepicker._datepickerShowing)switch(t.keyCode){case 9:n.datepicker._hideDatepicker();r=!1;break;case 13:return f=n("td."+n.datepicker._dayOverClass+":not(."+n.datepicker._currentClass+")",i.dpDiv),f[0]&&n.datepicker._selectDay(t.target,i.selectedMonth,i.selectedYear,f[0]),u=n.datepicker._get(i,"onSelect"),u?(e=n.datepicker._formatDate(i),u.apply(i.input?i.input[0]:null,[e,i])):n.datepicker._hideDatepicker(),!1;case 27:n.datepicker._hideDatepicker();break;case 33:n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 34:n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&n.datepicker._clearDate(t.target);r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&n.datepicker._gotoToday(t.target);r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,o?1:-1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,-7,"D");r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,o?-1:1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,7,"D");r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?n.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,r,u=n.datepicker._getInst(t.target);if(n.datepicker._get(u,"constrainInput"))return(i=n.datepicker._possibleChars(n.datepicker._get(u,"dateFormat")),r=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">r||!i||i.indexOf(r)>-1)},_doKeyUp:function(t){var r,i=n.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{r=n.datepicker.parseDate(n.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,n.datepicker._getFormatConfig(i));r&&(n.datepicker._setDateFromField(i),n.datepicker._updateAlternate(i),n.datepicker._updateDatepicker(i))}catch(u){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=n("input",t.parentNode)[0]),!n.datepicker._isDisabledDatepicker(t)&&n.datepicker._lastInput!==t){var r,o,h,u,f,e,c;r=n.datepicker._getInst(t);n.datepicker._curInst&&n.datepicker._curInst!==r&&(n.datepicker._curInst.dpDiv.stop(!0,!0),r&&n.datepicker._datepickerShowing&&n.datepicker._hideDatepicker(n.datepicker._curInst.input[0]));o=n.datepicker._get(r,"beforeShow");h=o?o.apply(t,[t,r]):{};h!==!1&&(i(r.settings,h),r.lastVal=null,n.datepicker._lastInput=t,n.datepicker._setDateFromField(r),n.datepicker._inDialog&&(t.value=""),n.datepicker._pos||(n.datepicker._pos=n.datepicker._findPos(t),n.datepicker._pos[1]+=t.offsetHeight),u=!1,n(t).parents().each(function(){return u|="fixed"===n(this).css("position"),!u}),f={left:n.datepicker._pos[0],top:n.datepicker._pos[1]},n.datepicker._pos=null,r.dpDiv.empty(),r.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),n.datepicker._updateDatepicker(r),f=n.datepicker._checkOffset(r,f,u),r.dpDiv.css({position:n.datepicker._inDialog&&n.blockUI?"static":u?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"}),r.inline||(e=n.datepicker._get(r,"showAnim"),c=n.datepicker._get(r,"duration"),r.dpDiv.css("z-index",s(n(t))+1),n.datepicker._datepickerShowing=!0,n.effects&&n.effects.effect[e]?r.dpDiv.show(e,n.datepicker._get(r,"showOptions"),c):r.dpDiv[e||"show"](e?c:null),n.datepicker._shouldFocusInput(r)&&r.input.focus(),n.datepicker._curInst=r))}},_updateDatepicker:function(i){this.maxRows=4;t=i;i.dpDiv.empty().append(this._generateHTML(i));this._attachHandlers(i);var r,u=this._getNumberOfMonths(i),f=u[1],e=i.dpDiv.find("."+this._dayOverClass+" a");e.length>0&&o.apply(e.get(0));i.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");f>1&&i.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",17*f+"em");i.dpDiv[(1!==u[0]||1!==u[1]?"add":"remove")+"Class"]("ui-datepicker-multi");i.dpDiv[(this._get(i,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");i===n.datepicker._curInst&&n.datepicker._datepickerShowing&&n.datepicker._shouldFocusInput(i)&&i.input.focus();i.yearshtml&&(r=i.yearshtml,setTimeout(function(){r===i.yearshtml&&i.yearshtml&&i.dpDiv.find("select.ui-datepicker-year:first").replaceWith(i.yearshtml);r=i.yearshtml=null},0))},_shouldFocusInput:function(n){return n.input&&n.input.is(":visible")&&!n.input.is(":disabled")&&!n.input.is(":focus")},_checkOffset:function(t,i,r){var u=t.dpDiv.outerWidth(),f=t.dpDiv.outerHeight(),h=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,e=document.documentElement.clientWidth+(r?0:n(document).scrollLeft()),s=document.documentElement.clientHeight+(r?0:n(document).scrollTop());return i.left-=this._get(t,"isRTL")?u-h:0,i.left-=r&&i.left===t.input.offset().left?n(document).scrollLeft():0,i.top-=r&&i.top===t.input.offset().top+o?n(document).scrollTop():0,i.left-=Math.min(i.left,i.left+u>e&&e>u?Math.abs(i.left+u-e):0),i.top-=Math.min(i.top,i.top+f>s&&s>f?Math.abs(f+o):0),i},_findPos:function(t){for(var i,r=this._getInst(t),u=this._get(r,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||n.expr.filters.hidden(t));)t=t[u?"previousSibling":"nextSibling"];return i=n(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var r,f,u,e,i=this._curInst;!i||t&&i!==n.data(t,"datepicker")||this._datepickerShowing&&(r=this._get(i,"showAnim"),f=this._get(i,"duration"),u=function(){n.datepicker._tidyDialog(i)},n.effects&&(n.effects.effect[r]||n.effects[r])?i.dpDiv.hide(r,n.datepicker._get(i,"showOptions"),f,u):i.dpDiv["slideDown"===r?"slideUp":"fadeIn"===r?"fadeOut":"hide"](r?f:null,u),r||u(),this._datepickerShowing=!1,e=this._get(i,"onClose"),e&&e.apply(i.input?i.input[0]:null,[i.input?i.input.val():"",i]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),n.blockUI&&(n.unblockUI(),n("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(n){n.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(n.datepicker._curInst){var i=n(t.target),r=n.datepicker._getInst(i[0]);(i[0].id===n.datepicker._mainDivId||0!==i.parents("#"+n.datepicker._mainDivId).length||i.hasClass(n.datepicker.markerClassName)||i.closest("."+n.datepicker._triggerClass).length||!n.datepicker._datepickerShowing||n.datepicker._inDialog&&n.blockUI)&&(!i.hasClass(n.datepicker.markerClassName)||n.datepicker._curInst===r)||n.datepicker._hideDatepicker()}},_adjustDate:function(t,i,r){var f=n(t),u=this._getInst(f[0]);this._isDisabledDatepicker(f[0])||(this._adjustInstDate(u,i+("M"===r?this._get(u,"showCurrentAtPos"):0),r),this._updateDatepicker(u))},_gotoToday:function(t){var r,u=n(t),i=this._getInst(u[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(r=new Date,i.selectedDay=r.getDate(),i.drawMonth=i.selectedMonth=r.getMonth(),i.drawYear=i.selectedYear=r.getFullYear());this._notifyChange(i);this._adjustDate(u)},_selectMonthYear:function(t,i,r){var f=n(t),u=this._getInst(f[0]);u["selected"+("M"===r?"Month":"Year")]=u["draw"+("M"===r?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10);this._notifyChange(u);this._adjustDate(f)},_selectDay:function(t,i,r,u){var f,e=n(t);n(u).hasClass(this._unselectableClass)||this._isDisabledDatepicker(e[0])||(f=this._getInst(e[0]),f.selectedDay=f.currentDay=n("a",u).html(),f.selectedMonth=f.currentMonth=i,f.selectedYear=f.currentYear=r,this._selectDate(t,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(t){var i=n(t);this._selectDate(i,"")},_selectDate:function(t,i){var u,f=n(t),r=this._getInst(f[0]);i=null!=i?i:this._formatDate(r);r.input&&r.input.val(i);this._updateAlternate(r);u=this._get(r,"onSelect");u?u.apply(r.input?r.input[0]:null,[i,r]):r.input&&r.input.trigger("change");r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,r,u,f=this._get(t,"altField");f&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),u=this.formatDate(i,r,this._getFormatConfig(t)),n(f).each(function(){n(this).val(u)}))},noWeekends:function(n){var t=n.getDay();return[t>0&&6>t,""]},iso8601Week:function(n){var i,t=new Date(n.getTime());return t.setDate(t.getDate()+4-(t.getDay()||7)),i=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1},parseDate:function(t,i,r){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;for(var a,v,u,f=0,y=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof y?y:(new Date).getFullYear()%100+parseInt(y,10),g=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,nt=(r?r.dayNames:null)||this._defaults.dayNames,tt=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,it=(r?r.monthNames:null)||this._defaults.monthNames,e=-1,s=-1,h=-1,p=-1,w=!1,l=function(n){var i=t.length>o+1&&t.charAt(o+1)===n;return i&&o++,i},c=function(n){var u=l(n),r="@"===n?14:"!"===n?20:"y"===n&&u?4:"o"===n?3:2,e="y"===n?r:1,o=RegExp("^\\d{"+e+","+r+"}"),t=i.substring(f).match(o);if(!t)throw"Missing number at position "+f;return f+=t[0].length,parseInt(t[0],10)},k=function(t,r,u){var e=-1,o=n.map(l(t)?u:r,function(n,t){return[[t,n]]}).sort(function(n,t){return-(n[1].length-t[1].length)});if(n.each(o,function(n,t){var r=t[1];if(i.substr(f,r.length).toLowerCase()===r.toLowerCase())return(e=t[0],f+=r.length,!1)}),-1!==e)return e+1;throw"Unknown name at position "+f;},b=function(){if(i.charAt(f)!==t.charAt(o))throw"Unexpected literal at position "+f;f++},o=0;t.length>o;o++)if(w)"'"!==t.charAt(o)||l("'")?b():w=!1;else switch(t.charAt(o)){case"d":h=c("d");break;case"D":k("D",g,nt);break;case"o":p=c("o");break;case"m":s=c("m");break;case"M":s=k("M",tt,it);break;case"y":e=c("y");break;case"@":u=new Date(c("@"));e=u.getFullYear();s=u.getMonth()+1;h=u.getDate();break;case"!":u=new Date((c("!")-this._ticksTo1970)/1e4);e=u.getFullYear();s=u.getMonth()+1;h=u.getDate();break;case"'":l("'")?b():w=!0;break;default:b()}if(i.length>f&&(v=i.substr(f),!/^\s+/.test(v)))throw"Extra/unparsed characters found in date: "+v;if(-1===e?e=(new Date).getFullYear():100>e&&(e+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d>=e?0:-100)),p>-1)for(s=1,h=p;;){if(a=this._getDaysInMonth(e,s-1),a>=h)break;s++;h-=a}if(u=this._daylightSavingAdjust(new Date(e,s-1,h)),u.getFullYear()!==e||u.getMonth()+1!==s||u.getDate()!==h)throw"Invalid date";return u},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(n,t,i){if(!t)return"";var u,h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,c=(i?i.dayNames:null)||this._defaults.dayNames,l=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,f=function(t){var i=n.length>u+1&&n.charAt(u+1)===t;return i&&u++,i},e=function(n,t,i){var r=""+t;if(f(n))for(;i>r.length;)r="0"+r;return r},s=function(n,t,i,r){return f(n)?r[t]:i[t]},r="",o=!1;if(t)for(u=0;n.length>u;u++)if(o)"'"!==n.charAt(u)||f("'")?r+=n.charAt(u):o=!1;else switch(n.charAt(u)){case"d":r+=e("d",t.getDate(),2);break;case"D":r+=s("D",t.getDay(),h,c);break;case"o":r+=e("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":r+=e("m",t.getMonth()+1,2);break;case"M":r+=s("M",t.getMonth(),l,a);break;case"y":r+=f("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":r+=t.getTime();break;case"!":r+=1e4*t.getTime()+this._ticksTo1970;break;case"'":f("'")?r+="'":o=!0;break;default:r+=n.charAt(u)}return r},_possibleChars:function(n){for(var i="",r=!1,u=function(i){var r=n.length>t+1&&n.charAt(t+1)===i;return r&&t++,r},t=0;n.length>t;t++)if(r)"'"!==n.charAt(t)||u("'")?i+=n.charAt(t):r=!1;else switch(n.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":u("'")?i+="'":r=!0;break;default:i+=n.charAt(t)}return i},_get:function(n,t){return void 0!==n.settings[t]?n.settings[t]:this._defaults[t]},_setDateFromField:function(n,t){if(n.input.val()!==n.lastVal){var f=this._get(n,"dateFormat"),r=n.lastVal=n.input?n.input.val():null,u=this._getDefaultDate(n),i=u,e=this._getFormatConfig(n);try{i=this.parseDate(f,r,e)||u}catch(o){r=t?"":r}n.selectedDay=i.getDate();n.drawMonth=n.selectedMonth=i.getMonth();n.drawYear=n.selectedYear=i.getFullYear();n.currentDay=r?i.getDate():0;n.currentMonth=r?i.getMonth():0;n.currentYear=r?i.getFullYear():0;this._adjustInstDate(n)}},_getDefaultDate:function(n){return this._restrictMinMax(n,this._determineDate(n,this._get(n,"defaultDate"),new Date))},_determineDate:function(t,i,r){var f=function(n){var t=new Date;return t.setDate(t.getDate()+n),t},e=function(i){try{return n.datepicker.parseDate(n.datepicker._get(t,"dateFormat"),i,n.datepicker._getFormatConfig(t))}catch(h){}for(var o=(i.toLowerCase().match(/^c/)?n.datepicker._getDate(t):null)||new Date,f=o.getFullYear(),e=o.getMonth(),r=o.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=s.exec(i);u;){switch(u[2]||"d"){case"d":case"D":r+=parseInt(u[1],10);break;case"w":case"W":r+=7*parseInt(u[1],10);break;case"m":case"M":e+=parseInt(u[1],10);r=Math.min(r,n.datepicker._getDaysInMonth(f,e));break;case"y":case"Y":f+=parseInt(u[1],10);r=Math.min(r,n.datepicker._getDaysInMonth(f,e))}u=s.exec(i)}return new Date(f,e,r)},u=null==i||""===i?r:"string"==typeof i?e(i):"number"==typeof i?isNaN(i)?r:f(i):new Date(i.getTime());return u=u&&"Invalid Date"==""+u?r:u,u&&(u.setHours(0),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0)),this._daylightSavingAdjust(u)},_daylightSavingAdjust:function(n){return n?(n.setHours(n.getHours()>12?n.getHours()+2:0),n):null},_setDate:function(n,t,i){var u=!t,f=n.selectedMonth,e=n.selectedYear,r=this._restrictMinMax(n,this._determineDate(n,t,new Date));n.selectedDay=n.currentDay=r.getDate();n.drawMonth=n.selectedMonth=n.currentMonth=r.getMonth();n.drawYear=n.selectedYear=n.currentYear=r.getFullYear();f===n.selectedMonth&&e===n.selectedYear||i||this._notifyChange(n);this._adjustInstDate(n);n.input&&n.input.val(u?"":this._formatDate(n))},_getDate:function(n){return!n.currentYear||n.input&&""===n.input.val()?null:this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay))},_attachHandlers:function(t){var r=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){n.datepicker._adjustDate(i,-r,"M")},next:function(){n.datepicker._adjustDate(i,+r,"M")},hide:function(){n.datepicker._hideDatepicker()},today:function(){n.datepicker._gotoToday(i)},selectDay:function(){return n.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return n.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return n.datepicker._selectMonthYear(i,this,"Y"),!1}};n(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(n){var b,s,rt,h,ut,k,ft,et,ri,c,ot,ui,fi,ei,oi,st,g,si,ht,nt,o,y,ct,p,lt,l,u,at,vt,yt,pt,tt,wt,i,bt,kt,d,a,it,dt=new Date,gt=this._daylightSavingAdjust(new Date(dt.getFullYear(),dt.getMonth(),dt.getDate())),f=this._get(n,"isRTL"),li=this._get(n,"showButtonPanel"),hi=this._get(n,"hideIfNoPrevNext"),ni=this._get(n,"navigationAsDateFormat"),e=this._getNumberOfMonths(n),ai=this._get(n,"showCurrentAtPos"),ci=this._get(n,"stepMonths"),ti=1!==e[0]||1!==e[1],ii=this._daylightSavingAdjust(n.currentDay?new Date(n.currentYear,n.currentMonth,n.currentDay):new Date(9999,9,9)),w=this._getMinMaxDate(n,"min"),v=this._getMinMaxDate(n,"max"),t=n.drawMonth-ai,r=n.drawYear;if(0>t&&(t+=12,r--),v)for(b=this._daylightSavingAdjust(new Date(v.getFullYear(),v.getMonth()-e[0]*e[1]+1,v.getDate())),b=w&&w>b?w:b;this._daylightSavingAdjust(new Date(r,t,1))>b;)t--,0>t&&(t=11,r--);for(n.drawMonth=t,n.drawYear=r,s=this._get(n,"prevText"),s=ni?this.formatDate(s,this._daylightSavingAdjust(new Date(r,t-ci,1)),this._getFormatConfig(n)):s,rt=this._canAdjustMonth(n,-1,r,t)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"e":"w")+"'>"+s+"<\/span><\/a>":hi?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"e":"w")+"'>"+s+"<\/span><\/a>",h=this._get(n,"nextText"),h=ni?this.formatDate(h,this._daylightSavingAdjust(new Date(r,t+ci,1)),this._getFormatConfig(n)):h,ut=this._canAdjustMonth(n,1,r,t)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+h+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"w":"e")+"'>"+h+"<\/span><\/a>":hi?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+h+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"w":"e")+"'>"+h+"<\/span><\/a>",k=this._get(n,"currentText"),ft=this._get(n,"gotoCurrent")&&n.currentDay?ii:gt,k=ni?this.formatDate(k,ft,this._getFormatConfig(n)):k,et=n.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(n,"closeText")+"<\/button>",ri=li?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(f?et:"")+(this._isInRange(n,ft)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+k+"<\/button>":"")+(f?"":et)+"<\/div>":"",c=parseInt(this._get(n,"firstDay"),10),c=isNaN(c)?0:c,ot=this._get(n,"showWeek"),ui=this._get(n,"dayNames"),fi=this._get(n,"dayNamesMin"),ei=this._get(n,"monthNames"),oi=this._get(n,"monthNamesShort"),st=this._get(n,"beforeShowDay"),g=this._get(n,"showOtherMonths"),si=this._get(n,"selectOtherMonths"),ht=this._getDefaultDate(n),nt="",y=0;e[0]>y;y++){for(ct="",this.maxRows=4,p=0;e[1]>p;p++){if(lt=this._daylightSavingAdjust(new Date(r,t,n.selectedDay)),l=" ui-corner-all",u="",ti){if(u+="<div class='ui-datepicker-group",e[1]>1)switch(p){case 0:u+=" ui-datepicker-group-first";l=" ui-corner-"+(f?"right":"left");break;case e[1]-1:u+=" ui-datepicker-group-last";l=" ui-corner-"+(f?"left":"right");break;default:u+=" ui-datepicker-group-middle";l=""}u+="'>"}for(u+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+l+"'>"+(/all|left/.test(l)&&0===y?f?ut:rt:"")+(/all|right/.test(l)&&0===y?f?rt:ut:"")+this._generateMonthYearHeader(n,t,r,w,v,y>0||p>0,ei,oi)+"<\/div><table class='ui-datepicker-calendar'><thead><tr>",at=ot?"<th class='ui-datepicker-week-col'>"+this._get(n,"weekHeader")+"<\/th>":"",o=0;7>o;o++)vt=(o+c)%7,at+="<th scope='col'"+((o+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+ui[vt]+"'>"+fi[vt]+"<\/span><\/th>";for(u+=at+"<\/tr><\/thead><tbody>",yt=this._getDaysInMonth(r,t),r===n.selectedYear&&t===n.selectedMonth&&(n.selectedDay=Math.min(n.selectedDay,yt)),pt=(this._getFirstDayOfMonth(r,t)-c+7)%7,tt=Math.ceil((pt+yt)/7),wt=ti?this.maxRows>tt?this.maxRows:tt:tt,this.maxRows=wt,i=this._daylightSavingAdjust(new Date(r,t,1-pt)),bt=0;wt>bt;bt++){for(u+="<tr>",kt=ot?"<td class='ui-datepicker-week-col'>"+this._get(n,"calculateWeek")(i)+"<\/td>":"",o=0;7>o;o++)d=st?st.apply(n.input?n.input[0]:null,[i]):[!0,""],a=i.getMonth()!==t,it=a&&!si||!d[0]||w&&w>i||v&&i>v,kt+="<td class='"+((o+c+6)%7>=5?" ui-datepicker-week-end":"")+(a?" ui-datepicker-other-month":"")+(i.getTime()===lt.getTime()&&t===n.selectedMonth&&n._keyEvent||ht.getTime()===i.getTime()&&ht.getTime()===lt.getTime()?" "+this._dayOverClass:"")+(it?" "+this._unselectableClass+" ui-state-disabled":"")+(a&&!g?"":" "+d[1]+(i.getTime()===ii.getTime()?" "+this._currentClass:"")+(i.getTime()===gt.getTime()?" ui-datepicker-today":""))+"'"+(a&&!g||!d[2]?"":" title='"+d[2].replace(/'/g,"&#39;")+"'")+(it?"":" data-handler='selectDay' data-event='click' data-month='"+i.getMonth()+"' data-year='"+i.getFullYear()+"'")+">"+(a&&!g?"&#xa0;":it?"<span class='ui-state-default'>"+i.getDate()+"<\/span>":"<a class='ui-state-default"+(i.getTime()===gt.getTime()?" ui-state-highlight":"")+(i.getTime()===ii.getTime()?" ui-state-active":"")+(a?" ui-priority-secondary":"")+"' href='#'>"+i.getDate()+"<\/a>")+"<\/td>",i.setDate(i.getDate()+1),i=this._daylightSavingAdjust(i);u+=kt+"<\/tr>"}t++;t>11&&(t=0,r++);u+="<\/tbody><\/table>"+(ti?"<\/div>"+(e[0]>0&&p===e[1]-1?"<div class='ui-datepicker-row-break'><\/div>":""):"");ct+=u}nt+=ct}return nt+=ri,n._keyEvent=!1,nt},_generateMonthYearHeader:function(n,t,i,r,u,f,e,o){var k,d,h,v,y,p,s,a,w=this._get(n,"changeMonth"),b=this._get(n,"changeYear"),g=this._get(n,"showMonthAfterYear"),c="<div class='ui-datepicker-title'>",l="";if(f||!w)l+="<span class='ui-datepicker-month'>"+e[t]+"<\/span>";else{for(k=r&&r.getFullYear()===i,d=u&&u.getFullYear()===i,l+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",h=0;12>h;h++)(!k||h>=r.getMonth())&&(!d||u.getMonth()>=h)&&(l+="<option value='"+h+"'"+(h===t?" selected='selected'":"")+">"+o[h]+"<\/option>");l+="<\/select>"}if(g||(c+=l+(!f&&w&&b?"":"&#xa0;")),!n.yearshtml)if(n.yearshtml="",f||!b)c+="<span class='ui-datepicker-year'>"+i+"<\/span>";else{for(v=this._get(n,"yearRange").split(":"),y=(new Date).getFullYear(),p=function(n){var t=n.match(/c[+\-].*/)?i+parseInt(n.substring(1),10):n.match(/[+\-].*/)?y+parseInt(n,10):parseInt(n,10);return isNaN(t)?y:t},s=p(v[0]),a=Math.max(s,p(v[1]||"")),s=r?Math.max(s,r.getFullYear()):s,a=u?Math.min(a,u.getFullYear()):a,n.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";a>=s;s++)n.yearshtml+="<option value='"+s+"'"+(s===i?" selected='selected'":"")+">"+s+"<\/option>";n.yearshtml+="<\/select>";c+=n.yearshtml;n.yearshtml=null}return c+=this._get(n,"yearSuffix"),g&&(c+=(!f&&w&&b?"":"&#xa0;")+l),c+"<\/div>"},_adjustInstDate:function(n,t,i){var u=n.drawYear+("Y"===i?t:0),f=n.drawMonth+("M"===i?t:0),e=Math.min(n.selectedDay,this._getDaysInMonth(u,f))+("D"===i?t:0),r=this._restrictMinMax(n,this._daylightSavingAdjust(new Date(u,f,e)));n.selectedDay=r.getDate();n.drawMonth=n.selectedMonth=r.getMonth();n.drawYear=n.selectedYear=r.getFullYear();("M"===i||"Y"===i)&&this._notifyChange(n)},_restrictMinMax:function(n,t){var i=this._getMinMaxDate(n,"min"),r=this._getMinMaxDate(n,"max"),u=i&&i>t?i:t;return r&&u>r?r:u},_notifyChange:function(n){var t=this._get(n,"onChangeMonthYear");t&&t.apply(n.input?n.input[0]:null,[n.selectedYear,n.selectedMonth+1,n])},_getNumberOfMonths:function(n){var t=this._get(n,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(n,t){return this._determineDate(n,this._get(n,t+"Date"),null)},_getDaysInMonth:function(n,t){return 32-this._daylightSavingAdjust(new Date(n,t,32)).getDate()},_getFirstDayOfMonth:function(n,t){return new Date(n,t,1).getDay()},_canAdjustMonth:function(n,t,i,r){var f=this._getNumberOfMonths(n),u=this._daylightSavingAdjust(new Date(i,r+(0>t?t:f[0]*f[1]),1));return 0>t&&u.setDate(this._getDaysInMonth(u.getFullYear(),u.getMonth())),this._isInRange(n,u)},_isInRange:function(n,t){var i,f,e=this._getMinMaxDate(n,"min"),o=this._getMinMaxDate(n,"max"),r=null,u=null,s=this._get(n,"yearRange");return s&&(i=s.split(":"),f=(new Date).getFullYear(),r=parseInt(i[0],10),u=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=f),i[1].match(/[+\-].*/)&&(u+=f)),(!e||t.getTime()>=e.getTime())&&(!o||t.getTime()<=o.getTime())&&(!r||t.getFullYear()>=r)&&(!u||u>=t.getFullYear())},_getFormatConfig:function(n){var t=this._get(n,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(n,"dayNamesShort"),dayNames:this._get(n,"dayNames"),monthNamesShort:this._get(n,"monthNamesShort"),monthNames:this._get(n,"monthNames")}},_formatDate:function(n,t,i,r){t||(n.currentDay=n.selectedDay,n.currentMonth=n.selectedMonth,n.currentYear=n.selectedYear);var u=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(r,i,t)):this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay));return this.formatDate(this._get(n,"dateFormat"),u,this._getFormatConfig(n))}});n.fn.datepicker=function(t){if(!this.length)return this;n.datepicker.initialized||(n(document).mousedown(n.datepicker._checkExternalClick),n.datepicker.initialized=!0);0===n("#"+n.datepicker._mainDivId).length&&n("body").append(n.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this].concat(i)):n.datepicker._attachDatepicker(this,t)}):n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i))};n.datepicker=new f;n.datepicker.initialized=!1;n.datepicker.uuid=(new Date).getTime();n.datepicker.version="1.11.4";n.datepicker});!function(n,t,i,r){var u=n(t);n.fn.lazyload=function(f){function s(){var t=0;o.each(function(){var i=n(this);if((!e.skip_invisible||i.is(":visible"))&&!n.abovethetop(this,e)&&!n.leftofbegin(this,e))if(n.belowthefold(this,e)||n.rightoffold(this,e)){if(++t>e.failure_limit)return!1}else i.trigger("appear"),t=0})}var h,o=this,e={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return f&&(r!==f.failurelimit&&(f.failure_limit=f.failurelimit,delete f.failurelimit),r!==f.effectspeed&&(f.effect_speed=f.effectspeed,delete f.effectspeed),n.extend(e,f)),h=e.container===r||e.container===t?u:n(e.container),0===e.event.indexOf("scroll")&&h.bind(e.event,function(){return s()}),this.each(function(){var i=this,t=n(i);i.loaded=!1;(t.attr("src")===r||t.attr("src")===!1)&&t.is("img")&&t.attr("src",e.placeholder);t.one("appear",function(){if(!this.loaded){if(e.appear){var r=o.length;e.appear.call(i,r,e)}n("<img />").bind("load",function(){var r=t.attr("data-"+e.data_attribute),u,f;t.hide();t.is("img")?t.attr("src",r):t.css("background-image","url('"+r+"')");t[e.effect](e.effect_speed);i.loaded=!0;u=n.grep(o,function(n){return!n.loaded});(o=n(u),e.load)&&(f=o.length,e.load.call(i,f,e))}).attr("src",t.attr("data-"+e.data_attribute))}});0!==e.event.indexOf("scroll")&&t.bind(e.event,function(){i.loaded||t.trigger("appear")})}),u.bind("resize",function(){s()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&u.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&o.each(function(){n(this).trigger("appear")})}),n(i).ready(function(){s()}),this};n.belowthefold=function(i,f){var e;return e=f.container===r||f.container===t?(t.innerHeight?t.innerHeight:u.height())+u.scrollTop():n(f.container).offset().top+n(f.container).height(),e<=n(i).offset().top-f.threshold};n.rightoffold=function(i,f){var e;return e=f.container===r||f.container===t?u.width()+u.scrollLeft():n(f.container).offset().left+n(f.container).width(),e<=n(i).offset().left-f.threshold};n.abovethetop=function(i,f){var e;return e=f.container===r||f.container===t?u.scrollTop():n(f.container).offset().top,e>=n(i).offset().top+f.threshold+n(i).height()};n.leftofbegin=function(i,f){var e;return e=f.container===r||f.container===t?u.scrollLeft():n(f.container).offset().left,e>=n(i).offset().left+f.threshold+n(i).width()};n.inviewport=function(t,i){return!(n.rightoffold(t,i)||n.leftofbegin(t,i)||n.belowthefold(t,i)||n.abovethetop(t,i))};n.extend(n.expr[":"],{"below-the-fold":function(t){return n.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!n.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return n.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!n.rightoffold(t,{threshold:0})},"in-viewport":function(t){return n.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!n.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return n.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!n.rightoffold(t,{threshold:0})}})}(jQuery,window,document),function(n,t,i,r){function u(t,i){this.settings=null;this.options=n.extend({},u.Defaults,i);this.$element=n(t);this.drag=n.extend({},o);this.state=n.extend({},s);this.e=n.extend({},h);this._plugins={};this._supress={};this._current=null;this._speed=null;this._coordinates=[];this._breakpoint=null;this._width=null;this._items=[];this._clones=[];this._mergers=[];this._invalidated={};this._pipe=[];n.each(u.Plugins,n.proxy(function(n,t){this._plugins[n[0].toLowerCase()+n.slice(1)]=new t(this)},this));n.each(u.Pipe,n.proxy(function(t,i){this._pipe.push({filter:i.filter,run:n.proxy(i.run,this)})},this));this.setup();this.initialize()}function f(n){if(n.touches!==r)return{x:n.touches[0].pageX,y:n.touches[0].pageY};if(n.touches===r){if(n.pageX!==r)return{x:n.pageX,y:n.pageY};if(n.pageX===r)return{x:n.clientX,y:n.clientY}}}function e(n){var t,r,u=i.createElement("div"),f=n;for(t in f)if(r=f[t],typeof u.style[r]!="undefined")return u=null,[r,t];return[!1]}function c(){return e(["transition","WebkitTransition","MozTransition","OTransition"])[1]}function l(){return e(["transform","WebkitTransform","MozTransform","OTransform","msTransform"])[0]}function a(){return e(["perspective","webkitPerspective","MozPerspective","OPerspective","MsPerspective"])[0]}function v(){return"ontouchstart"in t||!!navigator.msMaxTouchPoints}function y(){return t.navigator.msPointerEnabled}var o,s,h;o={start:0,startX:0,startY:0,current:0,currentX:0,currentY:0,offsetX:0,offsetY:0,distance:null,startTime:0,endTime:0,updatedX:0,targetEl:null};s={isTouch:!1,isScrolling:!1,isSwiping:!1,direction:!1,inMotion:!1};h={_onDragStart:null,_onDragMove:null,_onDragEnd:null,_transitionEnd:null,_resizer:null,_responsiveCall:null,_goToLoop:null,_checkVisibile:null};u.Defaults={items:3,loop:!1,center:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,isSlider:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:t,responsiveClass:!1,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",themeClass:"owl-theme",baseClass:"owl-carousel",itemClass:"owl-item",centerClass:"center",activeClass:"active"};u.Width={Default:"default",Inner:"inner",Outer:"outer"};u.Plugins={};u.Pipe=[{filter:["width","items","settings"],run:function(n){n.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){var n=this._clones,t=this.$stage.children(".cloned");(t.length!==n.length||!this.settings.loop&&n.length>0)&&(this.$stage.children(".cloned").remove(),this._clones=[])}},{filter:["items","settings"],run:function(){for(var n=this._clones,t=this._items,u=this.settings.loop?n.length-Math.max(this.settings.items*2,4):0,i=0,r=Math.abs(u/2);i<r;i++)u>0?(this.$stage.children().eq(t.length+n.length-1).remove(),n.pop(),this.$stage.children().eq(0).remove(),n.pop()):(n.push(n.length/2),this.$stage.append(t[n[n.length-1]].clone().addClass("cloned")),n.push(t.length-1-(n.length-1)/2),this.$stage.prepend(t[n[n.length-1]].clone().addClass("cloned")))}},{filter:["width","items","settings"],run:function(){var u=this.settings.rtl?1:-1,f=(this.width()/this.settings.items).toFixed(3),i=0,n,t,r;for(this._coordinates=[],t=0,r=this._clones.length+this._items.length;t<r;t++)n=this._mergers[this.relative(t)],n=this.settings.mergeFit&&Math.min(n,this.settings.items)||n,i+=(this.settings.autoWidth?this._items[this.relative(t)].width()+this.settings.margin:f*n)*u,this._coordinates.push(i)}},{filter:["width","items","settings"],run:function(){var t,r,u=(this.width()/this.settings.items).toFixed(3),i={width:Math.abs(this._coordinates[this._coordinates.length-1])+this.settings.stagePadding*2,"padding-left":this.settings.stagePadding||"","padding-right":this.settings.stagePadding||""};if(this.$stage.css(i),i={width:this.settings.autoWidth?"auto":u-this.settings.margin},i[this.settings.rtl?"margin-left":"margin-right"]=this.settings.margin,!this.settings.autoWidth&&n.grep(this._mergers,function(n){return n>1}).length>0)for(t=0,r=this._coordinates.length;t<r;t++)i.width=Math.abs(this._coordinates[t])-Math.abs(this._coordinates[t-1]||0)-this.settings.margin,this.$stage.children().eq(t).css(i);else this.$stage.children().css(i)}},{filter:["width","items","settings"],run:function(n){n.current&&this.reset(this.$stage.children().index(n.current))}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){for(var u=this.settings.rtl?1:-1,f=this.settings.stagePadding*2,t=this.coordinates(this.current())+f,e=t+this.width()*u,i,r,o=[],n=0,s=this._coordinates.length;n<s;n++)i=this._coordinates[n-1]||0,r=Math.abs(this._coordinates[n])+f*u,(this.op(i,"<=",t)&&this.op(i,">",e)||this.op(r,"<",t)&&this.op(r,">",e))&&o.push(n);this.$stage.children("."+this.settings.activeClass).removeClass(this.settings.activeClass);this.$stage.children(":eq("+o.join("), :eq(")+")").addClass(this.settings.activeClass);this.settings.center&&(this.$stage.children("."+this.settings.centerClass).removeClass(this.settings.centerClass),this.$stage.children().eq(this.current()).addClass(this.settings.centerClass))}}];u.prototype.initialize=function(){if(this.trigger("initialize"),this.$element.addClass(this.settings.baseClass).addClass(this.settings.themeClass).toggleClass("owl-rtl",this.settings.rtl),this.browserSupport(),this.settings.autoWidth&&this.state.imagesLoaded!==!0){var t,i,u;if(t=this.$element.find("img"),i=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:r,u=this.$element.children(i).width(),t.length&&u<=0)return this.preloadAutoWidthImages(t),!1}this.$element.addClass("owl-loading");this.$stage=n("<"+this.settings.stageElement+' class="owl-stage"/>').wrap('<div class="owl-stage-outer">');this.$element.append(this.$stage.parent());this.replace(this.$element.children().not(this.$stage.parent()));this._width=this.$element.width();this.refresh();this.$element.removeClass("owl-loading").addClass("owl-loaded");this.eventsCall();this.internalEvents();this.addTriggerableEvents();this.settings.isSlider&&this.updateTracks(0);this.trigger("initialized")};u.prototype.setup=function(){var u=this.viewport(),r=this.options.responsive,t=-1,i=null;r?(n.each(r,function(n){n<=u&&n>t&&(t=Number(n))}),i=n.extend({},this.options,r[t]),delete i.responsive,i.responsiveClass&&this.$element.attr("class",function(n,t){return t.replace(/\b owl-responsive-\S+/g,"")}).addClass("owl-responsive-"+t)):i=n.extend({},this.options);(this.settings===null||this._breakpoint!==t)&&(this.trigger("change",{property:{name:"settings",value:i}}),this._breakpoint=t,this.settings=i,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}}))};u.prototype.optionsLogic=function(){this.$element.toggleClass("owl-center",this.settings.center);this.settings.loop&&this._items.length<this.settings.items&&(this.settings.loop=!1);this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)};u.prototype.prepare=function(t){var i=this.trigger("prepare",{content:t});return i.data||(i.data=n("<"+this.settings.itemElement+"/>").addClass(this.settings.itemClass).append(t)),this.trigger("prepared",{content:i.data}),i.data};u.prototype.update=function(){for(var t=0,i=this._pipe.length,r=n.proxy(function(n){return this[n]},this._invalidated),u={};t<i;)(this._invalidated.all||n.grep(this._pipe[t].filter,r).length>0)&&this._pipe[t].run(u),t++;this._invalidated={}};u.prototype.width=function(n){n=n||u.Width.Default;switch(n){case u.Width.Inner:case u.Width.Outer:return this._width;default:return this._width-this.settings.stagePadding*2+this.settings.margin}};u.prototype.refresh=function(){if(this._items.length===0)return!1;var n=(new Date).getTime();this.trigger("refresh");this.setup();this.optionsLogic();this.$stage.addClass("owl-refresh");this.update();this.$stage.removeClass("owl-refresh");this.state.orientation=t.orientation;this.watchVisibility();this.trigger("refreshed")};u.prototype.eventsCall=function(){this.e._onDragStart=n.proxy(function(n){this.onDragStart(n)},this);this.e._onDragMove=n.proxy(function(n){this.onDragMove(n)},this);this.e._onDragEnd=n.proxy(function(n){this.onDragEnd(n)},this);this.e._onResize=n.proxy(function(n){this.onResize(n)},this);this.e._transitionEnd=n.proxy(function(n){this.transitionEnd(n)},this);this.e._preventClick=n.proxy(function(n){this.preventClick(n)},this)};u.prototype.onThrottledResize=function(){t.clearTimeout(this.resizeTimer);this.resizeTimer=t.setTimeout(this.e._onResize,this.settings.responsiveRefreshRate)};u.prototype.onResize=function(){if(!this._items.length||this._width===this.$element.width()||this.trigger("resize").isDefaultPrevented())return!1;this._width=this.$element.width();this.invalidate("width");this.refresh();this.settings.isSlider&&this.updateTracks(this.drag.currentX);this.trigger("resized")};u.prototype.eventsRouter=function(n){var t=n.type;if(t==="mousedown"||t==="touchstart")this.onDragStart(n);else if(t==="mousemove"||t==="touchmove")this.onDragMove(n);else if(t==="mouseup"||t==="touchend")this.onDragEnd(n);else if(t==="touchcancel")this.onDragEnd(n)};u.prototype.internalEvents=function(){var r=v(),i=y();if(this.settings.mouseDrag){this.$stage.on("mousedown",n.proxy(function(n){this.eventsRouter(n)},this));this.$stage.on("dragstart",function(){return!1});this.$stage.get(0).onselectstart=function(){return!1}}else this.$element.addClass("owl-text-select-on");if(this.settings.touchDrag&&!i)this.$stage.on("touchstart touchcancel",n.proxy(function(n){this.eventsRouter(n)},this));if(this.transitionEndVendor)this.on(this.$stage.get(0),this.transitionEndVendor,this.e._transitionEnd,!1);if(this.settings.responsive!==!1)this.on(t,"resize",n.proxy(this.onThrottledResize,this))};u.prototype.onDragStart=function(r){var u,e,s,o;if(u=r.originalEvent||r||t.event,u.which===3||this.state.isTouch)return!1;if(u.type==="mousedown"&&this.$stage.addClass("owl-grab"),this.trigger("drag"),this.drag.startTime=(new Date).getTime(),this.speed(0),this.state.isTouch=!0,this.state.isScrolling=!1,this.state.isSwiping=!1,this.drag.distance=0,e=f(u).x,s=f(u).y,this.drag.offsetX=this.$stage.position().left,this.drag.offsetY=this.$stage.position().top,this.settings.rtl&&(this.drag.offsetX=this.$stage.position().left+this.$stage.width()-this.width()+this.settings.margin),this.state.inMotion&&this.support3d)o=this.getTransformProperty(),this.drag.offsetX=o,this.animate(o),this.state.inMotion=!0;else if(this.state.inMotion&&!this.support3d)return this.state.inMotion=!1,!1;this.drag.startX=e-this.drag.offsetX;this.drag.startY=s-this.drag.offsetY;this.drag.start=e-this.drag.startX;this.drag.targetEl=u.target||u.srcElement;this.drag.updatedX=this.drag.start;(this.drag.targetEl.tagName==="IMG"||this.drag.targetEl.tagName==="A")&&(this.drag.targetEl.draggable=!1);n(i).on("mousemove.owl.dragEvents mouseup.owl.dragEvents touchmove.owl.dragEvents touchend.owl.dragEvents",n.proxy(function(n){this.eventsRouter(n)},this))};u.prototype.onDragMove=function(n){var i,e,o,s,h,u;this.state.isTouch&&(this.state.isScrolling||(i=n.originalEvent||n||t.event,e=f(i).x,o=f(i).y,this.drag.currentX=e-this.drag.startX,this.drag.currentY=o-this.drag.startY,this.drag.distance=this.drag.currentX-this.drag.offsetX,this.drag.distance<0?this.state.direction=this.settings.rtl?"right":"left":this.drag.distance>0&&(this.state.direction=this.settings.rtl?"left":"right"),this.settings.loop?this.op(this.drag.currentX,">",this.coordinates(this.minimum()))&&this.state.direction==="right"?this.drag.currentX-=(this.settings.center&&this.coordinates(0))-this.coordinates(this._items.length):this.op(this.drag.currentX,"<",this.coordinates(this.maximum()))&&this.state.direction==="left"&&(this.drag.currentX+=(this.settings.center&&this.coordinates(0))-this.coordinates(this._items.length)):(s=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),h=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),u=this.settings.pullDrag?this.drag.distance/5:0,this.drag.currentX=Math.max(Math.min(this.drag.currentX,s+u),h+u)),this.settings.isSlider&&this.updateTracks(this.drag.currentX),(this.drag.distance>8||this.drag.distance<-8)&&(i.preventDefault!==r?i.preventDefault():i.returnValue=!1,this.state.isSwiping=!0),this.drag.updatedX=this.drag.currentX,(this.drag.currentY>16||this.drag.currentY<-16)&&this.state.isSwiping===!1&&(this.state.isScrolling=!0,this.drag.updatedX=this.drag.start),this.animate(this.drag.updatedX)))};u.prototype.onDragEnd=function(t){var u,f,r,e;if(this.state.isTouch){if(t.type==="mouseup"&&this.$stage.removeClass("owl-grab"),this.trigger("dragged"),this.drag.targetEl.removeAttribute("draggable"),this.state.isTouch=!1,this.state.isScrolling=!1,this.state.isSwiping=!1,this.drag.distance===0&&this.state.inMotion!==!0)return this.state.inMotion=!1,!1;this.drag.endTime=(new Date).getTime();u=this.drag.endTime-this.drag.startTime;f=Math.abs(this.drag.distance);(f>3||u>300)&&this.removeClick(this.drag.targetEl);r=this.closest(this.drag.updatedX);e=this.shouldSnap(this.drag.updatedX);this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed);this.current(r);this.invalidate("position");e&&this.update();this.settings.pullDrag||this.drag.updatedX!==this.coordinates(r)||this.transitionEnd();this.drag.distance=0;n(i).off(".owl.dragEvents")}};u.prototype.updateTracks=function(t){var f=this.$stage.get(0).clientWidth,o=this._width,r=parseInt(o/f*100),e=parseInt(t/f*-100),u=jQuery(".slider__controller"),i=jQuery(".slider__controller").parents(".slider");n.isNumeric(e)||r<100?(i.is(":visible")||i.show(),parseInt(u.width())!=parseInt(i.width()*(r/100))&&u.css("width",r+"%"),u.css("left",e+"%")):i.hide()};u.prototype.removeClick=function(i){this.drag.targetEl=i;n(i).on("click.preventClick",this.e._preventClick);t.setTimeout(function(){n(i).off("click.preventClick")},300)};u.prototype.preventClick=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1;t.stopPropagation&&t.stopPropagation();n(t.target).off("click.preventClick")};u.prototype.getTransformProperty=function(){var n,i;return n=t.getComputedStyle(this.$stage.get(0),null).getPropertyValue(this.vendorName+"transform"),n=n.replace(/matrix(3d)?\(|\)/g,"").split(","),i=n.length===16,i!==!0?n[4]:n[12]};u.prototype.shouldSnap=function(n){var t=this.coordinates(),i=t[t.length-1],r=t[0];return this.settings.isSlider==!1?!0:n>r||n-this._width<i-this._items[t.length-1].get(0).clientWidth?!0:!1};u.prototype.closest=function(t){var i=-1,u=30,f=this.width(),r=this.coordinates();return this.settings.freeDrag||n.each(r,n.proxy(function(n,e){return t>e-u&&t<e+u?i=n:this.op(t,"<",e)&&this.op(t,">",r[n+1]||e-f)&&(i=this.state.direction==="left"?n+1:n),i===-1},this)),this.settings.loop||(this.op(t,">",r[this.minimum()])?i=t=this.minimum():this.op(t,"<",r[this.maximum()])&&(i=t=this.maximum())),i};u.prototype.animate=function(t){this.trigger("translate");this.state.inMotion=this.speed()>0;this.support3d?this.$stage.css({transform:"translate3d("+t+"px,0px, 0px)",transition:this.speed()/1e3+"s"}):this.state.isTouch?this.$stage.css({left:t+"px"}):this.$stage.animate({left:t},this.speed()/1e3,this.settings.fallbackEasing,n.proxy(function(){this.state.inMotion&&this.transitionEnd()},this))};u.prototype.current=function(n){if(n===r)return this._current;if(this._items.length===0)return r;if(n=this.normalize(n),this._current!==n){var t=this.trigger("change",{property:{name:"position",value:n}});t.data!==r&&(n=this.normalize(t.data));this._current=n;this.invalidate("position");this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current};u.prototype.invalidate=function(n){this._invalidated[n]=!0};u.prototype.reset=function(n){(n=this.normalize(n),n!==r)&&(this._speed=0,this._current=n,this.suppress(["translate","translated"]),this.animate(this.coordinates(n)),this.release(["translate","translated"]))};u.prototype.normalize=function(t,i){var u=i?this._items.length:this._items.length+this._clones.length;return!n.isNumeric(t)||u<1?r:this._clones.length?(t%u+u)%u:Math.max(this.minimum(i),Math.min(this.maximum(i),t))};u.prototype.relative=function(n){return n=this.normalize(n),n=n-this._clones.length/2,this.normalize(n,!0)};u.prototype.maximum=function(n){var i,r,u=0,f,t=this.settings;if(n)return this._items.length-1;if(!t.loop&&t.center)i=this._items.length-1;else if(t.loop||t.center)if(t.loop||t.center)i=this._items.length+t.items;else if(t.autoWidth||t.merge)for(revert=t.rtl?1:-1,r=this.$stage.width()-this.$element.width();f=this.coordinates(u);){if(f*revert>=r)break;i=++u}else throw"Can not detect maximum absolute position.";else i=this._items.length-t.items;return i};u.prototype.minimum=function(n){return n?0:this._clones.length/2};u.prototype.items=function(n){return n===r?this._items.slice():(n=this.normalize(n,!0),this._items[n])};u.prototype.mergers=function(n){return n===r?this._mergers.slice():(n=this.normalize(n,!0),this._mergers[n])};u.prototype.clones=function(t){var i=this._clones.length/2,f=i+this._items.length,u=function(n){return n%2==0?f+n/2:i-(n+1)/2};return t===r?n.map(this._clones,function(n,t){return u(t)}):n.map(this._clones,function(n,i){return n===t?u(i):null})};u.prototype.speed=function(n){return n!==r&&(this._speed=n),this._speed};u.prototype.coordinates=function(t){return t===r?n.map(this._coordinates,n.proxy(function(n,t){return this.coordinates(t)},this)):this.settings.center?this._coordinates[t]+(this.width()-null+(this._coordinates[t-1]||0))/2*(this.settings.rtl?-1:1):this._coordinates[t-1]||0};u.prototype.duration=function(n,t,i){return Math.min(Math.max(Math.abs(t-n),1),6)*Math.abs(i||this.settings.smartSpeed)};u.prototype.to=function(i,r){if(this.settings.loop){var f=i-this.relative(this.current()),u=this.current(),e=this.current(),o=this.current()+f,s=e-o<0?!0:!1,h=this._clones.length+this._items.length;o<this.settings.items&&s===!1?(u=e+this._items.length,this.reset(u)):o>=h-this.settings.items&&s===!0&&(u=e-this._items.length,this.reset(u));t.clearTimeout(this.e._goToLoop);this.e._goToLoop=t.setTimeout(n.proxy(function(){this.speed(this.duration(this.current(),u+f,r));this.current(u+f);this.update()},this),30)}else this.speed(this.duration(this.current(),i,r)),this.current(i),this.update()};u.prototype.next=function(n){n=n||!1;this.to(this.relative(this.current())+1,n)};u.prototype.prev=function(n){n=n||!1;this.to(this.relative(this.current())-1,n)};u.prototype.transitionEnd=function(n){if(n!==r&&(n.stopPropagation(),(n.target||n.srcElement||n.originalTarget)!==this.$stage.get(0)))return!1;this.state.inMotion=!1;this.trigger("translated")};u.prototype.viewport=function(){var r;if(this.options.responsiveBaseElement!==t)r=n(this.options.responsiveBaseElement).width();else if(t.innerWidth)r=t.innerWidth;else if(i.documentElement&&i.documentElement.clientWidth)r=i.documentElement.clientWidth;else throw"Can not detect viewport width.";return r};u.prototype.replace=function(t){this.$stage.empty();this._items=[];t&&(t=t instanceof jQuery?t:n(t));this.settings.nestedItemSelector&&(t=t.find("."+this.settings.nestedItemSelector));t.filter(function(){return this.nodeType===1}).each(n.proxy(function(n,t){t=this.prepare(t);this.$stage.append(t);this._items.push(t);this._mergers.push(t.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")*1||1)},this));this.reset(n.isNumeric(this.settings.startPosition)?this.settings.startPosition:0);this.invalidate("items")};u.prototype.add=function(n,t){t=t===r?this._items.length:this.normalize(t,!0);this.trigger("add",{content:n,position:t});this._items.length===0||t===this._items.length?(this.$stage.append(n),this._items.push(n),this._mergers.push(n.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")*1||1)):(this._items[t].before(n),this._items.splice(t,0,n),this._mergers.splice(t,0,n.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")*1||1));this.invalidate("items");this.trigger("added",{content:n,position:t})};u.prototype.remove=function(n){(n=this.normalize(n,!0),n!==r)&&(this.trigger("remove",{content:this._items[n],position:n}),this._items[n].remove(),this._items.splice(n,1),this._mergers.splice(n,1),this.invalidate("items"),this.trigger("removed",{content:null,position:n}))};u.prototype.addTriggerableEvents=function(){var t=n.proxy(function(t,i){return n.proxy(function(n){n.relatedTarget!==this&&(this.suppress([i]),t.apply(this,[].slice.call(arguments,1)),this.release([i]))},this)},this);n.each({next:this.next,prev:this.prev,to:this.to,destroy:this.destroy,refresh:this.refresh,replace:this.replace,add:this.add,remove:this.remove},n.proxy(function(n,i){this.$element.on(n+".owl.carousel",t(i,n+".owl.carousel"))},this))};u.prototype.watchVisibility=function(){function i(n){return n.offsetWidth>0&&n.offsetHeight>0}function r(){i(this.$element.get(0))&&(this.$element.removeClass("owl-hidden"),this.refresh(),t.clearInterval(this.e._checkVisibile))}i(this.$element.get(0))||(this.$element.addClass("owl-hidden"),t.clearInterval(this.e._checkVisibile),this.e._checkVisibile=t.setInterval(n.proxy(r,this),500))};u.prototype.preloadAutoWidthImages=function(t){var u,f,i,r;u=0;f=this;t.each(function(e,o){i=n(o);r=new Image;r.onload=function(){u++;i.attr("src",r.src);i.css("opacity",1);u>=t.length&&(f.state.imagesLoaded=!0,f.initialize())};r.src=i.attr("src")||i.attr("data-src")||i.attr("data-src-retina")})};u.prototype.destroy=function(){this.$element.hasClass(this.settings.themeClass)&&this.$element.removeClass(this.settings.themeClass);this.settings.responsive!==!1&&n(t).off("resize.owl.carousel");this.transitionEndVendor&&this.off(this.$stage.get(0),this.transitionEndVendor,this.e._transitionEnd);for(var r in this._plugins)this._plugins[r].destroy();(this.settings.mouseDrag||this.settings.touchDrag)&&(this.$stage.off("mousedown touchstart touchcancel"),n(i).off(".owl.dragEvents"),this.$stage.get(0).onselectstart=function(){},this.$stage.off("dragstart",function(){return!1}));this.$element.off(".owl");this.$stage.children(".cloned").remove();this.e=null;this.$element.removeData("owlCarousel");this.$stage.children().contents().unwrap();this.$stage.children().unwrap();this.$stage.unwrap()};u.prototype.op=function(n,t,i){var r=this.settings.rtl;switch(t){case"<":return r?n>i:n<i;case">":return r?n<i:n>i;case">=":return r?n<=i:n>=i;case"<=":return r?n>=i:n<=i}};u.prototype.on=function(n,t,i,r){n.addEventListener?n.addEventListener(t,i,r):n.attachEvent&&n.attachEvent("on"+t,i)};u.prototype.off=function(n,t,i,r){n.removeEventListener?n.removeEventListener(t,i,r):n.detachEvent&&n.detachEvent("on"+t,i)};u.prototype.trigger=function(t,i,r){var e={item:{count:this._items.length,index:this.current()}},f=n.camelCase(n.grep(["on",t,r],function(n){return n}).join("-").toLowerCase()),u=n.Event([t,"owl",r||"carousel"].join(".").toLowerCase(),n.extend({relatedTarget:this},e,i));return this._supress[t]||(n.each(this._plugins,function(n,t){if(t.onTrigger)t.onTrigger(u)}),this.$element.trigger(u),this.settings&&typeof this.settings[f]=="function"&&this.settings[f].apply(this,u)),u};u.prototype.suppress=function(t){n.each(t,n.proxy(function(n,t){this._supress[t]=!0},this))};u.prototype.release=function(t){n.each(t,n.proxy(function(n,t){delete this._supress[t]},this))};u.prototype.browserSupport=function(){if(this.support3d=a(),this.support3d){this.transformVendor=l();this.transitionEndVendor=["transitionend","webkitTransitionEnd","transitionend","oTransitionEnd"][c()];this.vendorName=this.transformVendor.replace(/Transform/i,"");this.vendorName=this.vendorName!==""?"-"+this.vendorName.toLowerCase()+"-":""}this.state.orientation=t.orientation};n.fn.owlCarousel=function(t){return this.each(function(){n(this).data("owlCarousel")||n(this).data("owlCarousel",new u(this,t))})};n.fn.owlCarousel.Constructor=u}(window.Zepto||window.jQuery,window,document),function(n,t){var i=function(t){this._core=t;this._loaded=[];this._handlers={"initialized.owl.carousel change.owl.carousel":n.proxy(function(t){if(t.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(t.property&&t.property.name=="position"||t.type=="initialized"))for(var i=this._core.settings,r=i.center&&Math.ceil(i.items/2)||i.items,u=i.center&&r*-1||0,f=(t.property&&t.property.value||this._core.current())+u,e=this._core.clones().length,o=n.proxy(function(n,t){this.load(t)},this);u++<r;)this.load(e/2+this._core.relative(f)),e&&n.each(this._core.clones(this._core.relative(f++)),o)},this)};this._core.options=n.extend({},i.Defaults,this._core.options);this._core.$element.on(this._handlers)};i.Defaults={lazyLoad:!1};i.prototype.load=function(i){var r=this._core.$stage.children().eq(i),u=r&&r.find(".owl-lazy");!u||n.inArray(r.get(0),this._loaded)>-1||(u.each(n.proxy(function(i,r){var u=n(r),e,f=t.devicePixelRatio>1&&u.attr("data-src-retina")||u.attr("data-src");this._core.trigger("load",{element:u,url:f},"lazy");u.is("img")?u.one("load.owl.lazy",n.proxy(function(){u.css("opacity",1);this._core.trigger("loaded",{element:u,url:f},"lazy")},this)).attr("src",f):(e=new Image,e.onload=n.proxy(function(){u.css({"background-image":"url("+f+")",opacity:"1"});this._core.trigger("loaded",{element:u,url:f},"lazy")},this),e.src=f)},this)),this._loaded.push(r.get(0)))};i.prototype.destroy=function(){var n,t;for(n in this.handlers)this._core.$element.off(n,this.handlers[n]);for(t in Object.getOwnPropertyNames(this))typeof this[t]!="function"&&(this[t]=null)};n.fn.owlCarousel.Constructor.Plugins.Lazy=i}(window.Zepto||window.jQuery,window,document),function(n){var t=function(i){this._core=i;this._handlers={"initialized.owl.carousel":n.proxy(function(){this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":n.proxy(function(n){this._core.settings.autoHeight&&n.property.name=="position"&&this.update()},this),"loaded.owl.lazy":n.proxy(function(n){this._core.settings.autoHeight&&n.element.closest("."+this._core.settings.itemClass)===this._core.$stage.children().eq(this._core.current())&&this.update()},this)};this._core.options=n.extend({},t.Defaults,this._core.options);this._core.$element.on(this._handlers)};t.Defaults={autoHeight:!1,autoHeightClass:"owl-height"};t.prototype.update=function(){this._core.$stage.parent().height(this._core.$stage.children().eq(this._core.current()).height()).addClass(this._core.settings.autoHeightClass)};t.prototype.destroy=function(){var n,t;for(n in this._handlers)this._core.$element.off(n,this._handlers[n]);for(t in Object.getOwnPropertyNames(this))typeof this[t]!="function"&&(this[t]=null)};n.fn.owlCarousel.Constructor.Plugins.AutoHeight=t}(window.Zepto||window.jQuery,window,document),function(n,t,i){var r=function(t){this._core=t;this._videos={};this._playing=null;this._fullscreen=!1;this._handlers={"resize.owl.carousel":n.proxy(function(n){this._core.settings.video&&!this.isInFullScreen()&&n.preventDefault()},this),"refresh.owl.carousel changed.owl.carousel":n.proxy(function(){this._playing&&this.stop()},this),"prepared.owl.carousel":n.proxy(function(t){var i=n(t.content).find(".owl-video");i.length&&(i.css("display","none"),this.fetch(i,n(t.content)))},this)};this._core.options=n.extend({},r.Defaults,this._core.options);this._core.$element.on(this._handlers);this._core.$element.on("click.owl.video",".owl-video-play-icon",n.proxy(function(n){this.play(n)},this))};r.Defaults={video:!1,videoHeight:!1,videoWidth:!1};r.prototype.fetch=function(n,t){var u=n.attr("data-vimeo-id")?"vimeo":"youtube",i=n.attr("data-vimeo-id")||n.attr("data-youtube-id"),f=n.attr("data-width")||this._core.settings.videoWidth,e=n.attr("data-height")||this._core.settings.videoHeight,r=n.attr("href");if(r){if(i=r.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),i[3].indexOf("youtu")>-1)u="youtube";else if(i[3].indexOf("vimeo")>-1)u="vimeo";else throw new Error("Video URL not supported.");i=i[6]}else throw new Error("Missing video URL.");this._videos[r]={type:u,id:i,width:f,height:e};t.attr("data-video",r);this.thumbnail(n,this._videos[r])};r.prototype.thumbnail=function(t,i){var u,s,r,c=i.width&&i.height?'style="width:'+i.width+"px;height:"+i.height+'px;"':"",f=t.find("img"),e="src",h="",l=this._core.settings,o=function(n){s='<div class="owl-video-play-icon"><\/div>';u=l.lazyLoad?'<div class="owl-video-tn '+h+'" '+e+'="'+n+'"><\/div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+n+')"><\/div>';t.after(u);t.after(s)};if(t.wrap('<div class="owl-video-wrapper"'+c+"><\/div>"),this._core.settings.lazyLoad&&(e="data-src",h="owl-lazy"),f.length)return o(f.attr(e)),f.remove(),!1;i.type==="youtube"?(r="http://img.youtube.com/vi/"+i.id+"/hqdefault.jpg",o(r)):i.type==="vimeo"&&n.ajax({type:"GET",url:"http://vimeo.com/api/v2/video/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(n){r=n[0].thumbnail_large;o(r)}})};r.prototype.stop=function(){this._core.trigger("stop",null,"video");this._playing.find(".owl-video-frame").remove();this._playing.removeClass("owl-video-playing");this._playing=null};r.prototype.play=function(t){this._core.trigger("play",null,"video");this._playing&&this.stop();var o=n(t.target||t.srcElement),r=o.closest("."+this._core.settings.itemClass),i=this._videos[r.attr("data-video")],u=i.width||"100%",f=i.height||this._core.$stage.height(),e,s;i.type==="youtube"?e='<iframe width="'+u+'" height="'+f+'" src="http://www.youtube.com/embed/'+i.id+"?autoplay=1&v="+i.id+'" frameborder="0" allowfullscreen><\/iframe>':i.type==="vimeo"&&(e='<iframe src="http://player.vimeo.com/video/'+i.id+'?autoplay=1" width="'+u+'" height="'+f+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen><\/iframe>');r.addClass("owl-video-playing");this._playing=r;s=n('<div style="height:'+f+"px; width:"+u+'px" class="owl-video-frame">'+e+"<\/div>");o.after(s)};r.prototype.isInFullScreen=function(){var r=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return(r&&n(r).parent().hasClass("owl-video-frame")&&(this._core.speed(0),this._fullscreen=!0),r&&this._fullscreen&&this._playing)?!1:this._fullscreen?(this._fullscreen=!1,!1):this._playing&&this._core.state.orientation!==t.orientation?(this._core.state.orientation=t.orientation,!1):!0};r.prototype.destroy=function(){var n,t;this._core.$element.off("click.owl.video");for(n in this._handlers)this._core.$element.off(n,this._handlers[n]);for(t in Object.getOwnPropertyNames(this))typeof this[t]!="function"&&(this[t]=null)};n.fn.owlCarousel.Constructor.Plugins.Video=r}(window.Zepto||window.jQuery,window,document),function(n,t,i,r){var u=function(t){this.core=t;this.core.options=n.extend({},u.Defaults,this.core.options);this.swapping=!0;this.previous=r;this.next=r;this.handlers={"change.owl.carousel":n.proxy(function(n){n.property.name=="position"&&(this.previous=this.core.current(),this.next=n.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":n.proxy(function(n){this.swapping=n.type=="translated"},this),"translate.owl.carousel":n.proxy(function(){this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)};this.core.$element.on(this.handlers)};u.Defaults={animateOut:!1,animateIn:!1};u.prototype.swap=function(){if(this.core.settings.items===1&&this.core.support3d){this.core.speed(0);var t,i=n.proxy(this.clear,this),f=this.core.$stage.children().eq(this.previous),e=this.core.$stage.children().eq(this.next),r=this.core.settings.animateIn,u=this.core.settings.animateOut;if(this.core.current()!==this.previous){if(u){t=this.core.coordinates(this.previous)-this.core.coordinates(this.next);f.css({left:t+"px"}).addClass("animated owl-animated-out").addClass(u).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",i)}if(r)e.addClass("animated owl-animated-in").addClass(r).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",i)}}};u.prototype.clear=function(t){n(t.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut);this.core.transitionEnd()};u.prototype.destroy=function(){var n,t;for(n in this.handlers)this.core.$element.off(n,this.handlers[n]);for(t in Object.getOwnPropertyNames(this))typeof this[t]!="function"&&(this[t]=null)};n.fn.owlCarousel.Constructor.Plugins.Animate=u}(window.Zepto||window.jQuery,window,document),function(n,t,i){var r=function(t){this.core=t;this.core.options=n.extend({},r.Defaults,this.core.options);this.handlers={"translated.owl.carousel refreshed.owl.carousel":n.proxy(function(){this.autoplay()},this),"play.owl.autoplay":n.proxy(function(n,t,i){this.play(t,i)},this),"stop.owl.autoplay":n.proxy(function(){this.stop()},this),"mouseover.owl.autoplay":n.proxy(function(){this.core.settings.autoplayHoverPause&&this.pause()},this),"mouseleave.owl.autoplay":n.proxy(function(){this.core.settings.autoplayHoverPause&&this.autoplay()},this)};this.core.$element.on(this.handlers)};r.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1};r.prototype.autoplay=function(){this.core.settings.autoplay&&!this.core.state.videoPlay?(t.clearInterval(this.interval),this.interval=t.setInterval(n.proxy(function(){this.play()},this),this.core.settings.autoplayTimeout)):t.clearInterval(this.interval)};r.prototype.play=function(){if(i.hidden!==!0&&!this.core.state.isTouch&&!this.core.state.isScrolling&&!this.core.state.isSwiping&&!this.core.state.inMotion){if(this.core.settings.autoplay===!1){t.clearInterval(this.interval);return}this.core.next(this.core.settings.autoplaySpeed)}};r.prototype.stop=function(){t.clearInterval(this.interval)};r.prototype.pause=function(){t.clearInterval(this.interval)};r.prototype.destroy=function(){var n,i;t.clearInterval(this.interval);for(n in this.handlers)this.core.$element.off(n,this.handlers[n]);for(i in Object.getOwnPropertyNames(this))typeof this[i]!="function"&&(this[i]=null)};n.fn.owlCarousel.Constructor.Plugins.autoplay=r}(window.Zepto||window.jQuery,window,document),function(n){"use strict";var t=function(i){this._core=i;this._initialized=!1;this._pages=[];this._controls={};this._templates=[];this.$element=this._core.$element;this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to};this._handlers={"prepared.owl.carousel":n.proxy(function(t){this._core.settings.dotsData&&this._templates.push(n(t.content).find("[data-dot]").andSelf("[data-dot]").attr("data-dot"))},this),"add.owl.carousel":n.proxy(function(t){this._core.settings.dotsData&&this._templates.splice(t.position,0,n(t.content).find("[data-dot]").andSelf("[data-dot]").attr("data-dot"))},this),"remove.owl.carousel prepared.owl.carousel":n.proxy(function(n){this._core.settings.dotsData&&this._templates.splice(n.position,1)},this),"change.owl.carousel":n.proxy(function(n){if(n.property.name=="position"&&!this._core.state.revert&&!this._core.settings.loop&&this._core.settings.navRewind){var r=this._core.current(),t=this._core.maximum(),i=this._core.minimum();n.data=n.property.value>t?r>=t?i:t:n.property.value<i?t:n.property.value}},this),"changed.owl.carousel":n.proxy(function(n){n.property.name=="position"&&this.draw()},this),"refreshed.owl.carousel":n.proxy(function(){this._initialized||(this.initialize(),this._initialized=!0);this._core.trigger("refresh",null,"navigation");this.update();this.draw();this._core.trigger("refreshed",null,"navigation")},this)};this._core.options=n.extend({},t.Defaults,this._core.options);this.$element.on(this._handlers)};t.Defaults={nav:!1,navRewind:!0,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotData:!1,dotsSpeed:!1,dotsContainer:!1,controlsClass:"owl-controls"};t.prototype.initialize=function(){var i,r,t=this._core.settings;t.dotsData||(this._templates=[n("<div>").addClass(t.dotClass).append(n("<span>")).prop("outerHTML")]);t.navContainer&&t.dotsContainer||(this._controls.$container=n("<div>").addClass(t.controlsClass).appendTo(this.$element));this._controls.$indicators=t.dotsContainer?n(t.dotsContainer):n("<div>").hide().addClass(t.dotsClass).appendTo(this._controls.$container);this._controls.$indicators.on("click","div",n.proxy(function(i){var r=n(i.target).parent().is(this._controls.$indicators)?n(i.target).index():n(i.target).parent().index();i.preventDefault();this.to(r,t.dotsSpeed)},this));i=t.navContainer?n(t.navContainer):n("<div>").addClass(t.navContainerClass).prependTo(this._controls.$container);this._controls.$next=n("<"+t.navElement+">");this._controls.$previous=this._controls.$next.clone();this._controls.$previous.addClass(t.navClass[0]).html(t.navText[0]).hide().prependTo(i).on("click",n.proxy(function(){this.prev(t.navSpeed)},this));this._controls.$next.addClass(t.navClass[1]).html(t.navText[1]).hide().appendTo(i).on("click",n.proxy(function(){this.next(t.navSpeed)},this));for(r in this._overrides)this._core[r]=n.proxy(this[r],this)};t.prototype.destroy=function(){var n,r,t,i;for(n in this._handlers)this.$element.off(n,this._handlers[n]);for(r in this._controls)this._controls[r].remove();for(i in this.overides)this._core[i]=this._overrides[i];for(t in Object.getOwnPropertyNames(this))typeof this[t]!="function"&&(this[t]=null)};t.prototype.update=function(){var t,i,u,n=this._core.settings,r=this._core.clones().length/2,e=r+this._core.items().length,f=n.center||n.autoWidth||n.dotData?1:n.dotsEach||n.items;if(n.slideBy!=="page"&&(n.slideBy=Math.min(n.slideBy,n.items)),n.dots||n.slideBy=="page")for(this._pages=[],t=r,i=0,u=0;t<e;t++)(i>=f||i===0)&&(this._pages.push({start:t-r,end:t-r+f-1}),i=0,++u),i+=this._core.mergers(this._core.relative(t))};t.prototype.draw=function(){var i,r,u="",t=this._core.settings,e=this._core.$stage.children(),f=this._core.relative(this._core.current());if(!t.nav||t.loop||t.navRewind||(this._controls.$previous.toggleClass("disabled",f<=0),this._controls.$next.toggleClass("disabled",f>=this._core.maximum())),this._controls.$previous.toggle(t.nav),this._controls.$next.toggle(t.nav),t.dots){if(i=this._pages.length-this._controls.$indicators.children().length,t.dotData&&i!==0){for(r=0;r<this._controls.$indicators.children().length;r++)u+=this._templates[this._core.relative(r)];this._controls.$indicators.html(u)}else i>0?(u=new Array(i+1).join(this._templates[0]),this._controls.$indicators.append(u)):i<0&&this._controls.$indicators.children().slice(i).remove();this._controls.$indicators.find(".active").removeClass("active");this._controls.$indicators.children().eq(n.inArray(this.current(),this._pages)).addClass("active")}this._controls.$indicators.toggle(t.dots)};t.prototype.onTrigger=function(t){var i=this._core.settings;t.page={index:n.inArray(this.current(),this._pages),count:this._pages.length,size:i&&(i.center||i.autoWidth||i.dotData?1:i.dotsEach||i.items)}};t.prototype.current=function(){var t=this._core.relative(this._core.current());return n.grep(this._pages,function(n){return n.start<=t&&n.end>=t}).pop()};t.prototype.getPosition=function(t){var i,r,u=this._core.settings;return u.slideBy=="page"?(i=n.inArray(this.current(),this._pages),r=this._pages.length,t?++i:--i,i=this._pages[(i%r+r)%r].start):(i=this._core.relative(this._core.current()),r=this._core.items().length,t?i+=u.slideBy:i-=u.slideBy),i};t.prototype.next=function(t){n.proxy(this._overrides.to,this._core)(this.getPosition(!0),t)};t.prototype.prev=function(t){n.proxy(this._overrides.to,this._core)(this.getPosition(!1),t)};t.prototype.to=function(t,i,r){var u;r?n.proxy(this._overrides.to,this._core)(t,i):(u=this._pages.length,n.proxy(this._overrides.to,this._core)(this._pages[(t%u+u)%u].start,i))};n.fn.owlCarousel.Constructor.Plugins.Navigation=t}(window.Zepto||window.jQuery,window,document),function(n,t){"use strict";var i=function(r){this._core=r;this._hashes={};this.$element=this._core.$element;this._handlers={"initialized.owl.carousel":n.proxy(function(){this._core.settings.startPosition=="URLHash"&&n(t).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":n.proxy(function(t){var i=n(t.content).find("[data-hash]").andSelf("[data-hash]").attr("data-hash");this._hashes[i]=t.content},this)};this._core.options=n.extend({},i.Defaults,this._core.options);this.$element.on(this._handlers);n(t).on("hashchange.owl.navigation",n.proxy(function(){var n=t.location.hash.substring(1),i=this._core.$stage.children(),r=this._hashes[n]&&i.index(this._hashes[n])||0;if(!n)return!1;this._core.to(r,!1,!0)},this))};i.Defaults={URLhashListener:!1};i.prototype.destroy=function(){var i,r;n(t).off("hashchange.owl.navigation");for(i in this._handlers)this._core.$element.off(i,this._handlers[i]);for(r in Object.getOwnPropertyNames(this))typeof this[r]!="function"&&(this[r]=null)};n.fn.owlCarousel.Constructor.Plugins.Hash=i}(window.Zepto||window.jQuery,window,document);!function(n){"use strict";"function"==typeof define&&define.amd?define(["jquery"],n):"undefined"!=typeof exports?module.exports=n(require("jquery")):n(jQuery)}(function(n){"use strict";var t=window.Slick||{};(t=function(){var t=0;return function(i,r){var f,u=this;u.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:n(i),appendDots:n(i),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous<\/button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next<\/button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,i){return n('<button type="button" />').text(i+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3};u.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1};n.extend(u,u.initials);u.activeBreakpoint=null;u.animType=null;u.animProp=null;u.breakpoints=[];u.breakpointSettings=[];u.cssTransitions=!1;u.focussed=!1;u.interrupted=!1;u.hidden="hidden";u.paused=!0;u.positionProp=null;u.respondTo=null;u.rowCount=1;u.shouldClick=!0;u.$slider=n(i);u.$slidesCache=null;u.transformType=null;u.transitionType=null;u.visibilityChange="visibilitychange";u.windowWidth=0;u.windowTimer=null;f=n(i).data("slick")||{};u.options=n.extend({},u.defaults,r,f);u.currentSlide=u.options.initialSlide;u.originalSettings=u.options;void 0!==document.mozHidden?(u.hidden="mozHidden",u.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(u.hidden="webkitHidden",u.visibilityChange="webkitvisibilitychange");u.autoPlay=n.proxy(u.autoPlay,u);u.autoPlayClear=n.proxy(u.autoPlayClear,u);u.autoPlayIterator=n.proxy(u.autoPlayIterator,u);u.changeSlide=n.proxy(u.changeSlide,u);u.clickHandler=n.proxy(u.clickHandler,u);u.selectHandler=n.proxy(u.selectHandler,u);u.setPosition=n.proxy(u.setPosition,u);u.swipeHandler=n.proxy(u.swipeHandler,u);u.dragHandler=n.proxy(u.dragHandler,u);u.keyHandler=n.proxy(u.keyHandler,u);u.instanceUid=t++;u.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/;u.registerBreakpoints();u.init(!0)}}()).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})};t.prototype.addSlide=t.prototype.slickAdd=function(t,i,r){var u=this;if("boolean"==typeof i)r=i,i=null;else if(i<0||i>=u.slideCount)return!1;u.unload();"number"==typeof i?0===i&&0===u.$slides.length?n(t).appendTo(u.$slideTrack):r?n(t).insertBefore(u.$slides.eq(i)):n(t).insertAfter(u.$slides.eq(i)):!0===r?n(t).prependTo(u.$slideTrack):n(t).appendTo(u.$slideTrack);u.$slides=u.$slideTrack.children(this.options.slide);u.$slideTrack.children(this.options.slide).detach();u.$slideTrack.append(u.$slides);u.$slides.each(function(t,i){n(i).attr("data-slick-index",t)});u.$slidesCache=u.$slides;u.reinit()};t.prototype.animateHeight=function(){var n=this,t;1===n.options.slidesToShow&&!0===n.options.adaptiveHeight&&!1===n.options.vertical&&(t=n.$slides.eq(n.currentSlide).outerHeight(!0),n.$list.animate({height:t},n.options.speed))};t.prototype.animateSlide=function(t,i){var u={},r=this;r.animateHeight();!0===r.options.rtl&&!1===r.options.vertical&&(t=-t);!1===r.transformsEnabled?!1===r.options.vertical?r.$slideTrack.animate({left:t},r.options.speed,r.options.easing,i):r.$slideTrack.animate({top:t},r.options.speed,r.options.easing,i):!1===r.cssTransitions?(!0===r.options.rtl&&(r.currentLeft=-r.currentLeft),n({animStart:r.currentLeft}).animate({animStart:t},{duration:r.options.speed,easing:r.options.easing,step:function(n){n=Math.ceil(n);!1===r.options.vertical?(u[r.animType]="translate("+n+"px, 0px)",r.$slideTrack.css(u)):(u[r.animType]="translate(0px,"+n+"px)",r.$slideTrack.css(u))},complete:function(){i&&i.call()}})):(r.applyTransition(),t=Math.ceil(t),u[r.animType]=!1===r.options.vertical?"translate3d("+t+"px, 0px, 0px)":"translate3d(0px,"+t+"px, 0px)",r.$slideTrack.css(u),i&&setTimeout(function(){r.disableTransition();i.call()},r.options.speed))};t.prototype.getNavTarget=function(){var i=this,t=i.options.asNavFor;return t&&null!==t&&(t=n(t).not(i.$slider)),t};t.prototype.asNavFor=function(t){var i=this.getNavTarget();null!==i&&"object"==typeof i&&i.each(function(){var i=n(this).slick("getSlick");i.unslicked||i.slideHandler(t,!0)})};t.prototype.applyTransition=function(n){var t=this,i={};i[t.transitionType]=!1===t.options.fade?t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:"opacity "+t.options.speed+"ms "+t.options.cssEase;!1===t.options.fade?t.$slideTrack.css(i):t.$slides.eq(n).css(i)};t.prototype.autoPlay=function(){var n=this;n.autoPlayClear();n.slideCount>n.options.slidesToShow&&(n.autoPlayTimer=setInterval(n.autoPlayIterator,n.options.autoplaySpeed))};t.prototype.autoPlayClear=function(){var n=this;n.autoPlayTimer&&clearInterval(n.autoPlayTimer)};t.prototype.autoPlayIterator=function(){var n=this,t=n.currentSlide+n.options.slidesToScroll;n.paused||n.interrupted||n.focussed||(!1===n.options.infinite&&(1===n.direction&&n.currentSlide+1===n.slideCount-1?n.direction=0:0===n.direction&&(t=n.currentSlide-n.options.slidesToScroll,n.currentSlide-1==0&&(n.direction=1))),n.slideHandler(t))};t.prototype.buildArrows=function(){var t=this;!0===t.options.arrows&&(t.$prevArrow=n(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=n(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),!0!==t.options.infinite&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))};t.prototype.buildDots=function(){var i,r,t=this;if(!0===t.options.dots){for(t.$slider.addClass("slick-dotted"),r=n("<ul />").addClass(t.options.dotsClass),i=0;i<=t.getDotCount();i+=1)r.append(n("<li />").append(t.options.customPaging.call(this,t,i)));t.$dots=r.appendTo(t.options.appendDots);t.$dots.find("li").first().addClass("slick-active")}};t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide");t.slideCount=t.$slides.length;t.$slides.each(function(t,i){n(i).attr("data-slick-index",t).data("originalStyling",n(i).attr("style")||"")});t.$slider.addClass("slick-slider");t.$slideTrack=0===t.slideCount?n('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent();t.$list=t.$slideTrack.wrap('<div class="slick-list"/>').parent();t.$slideTrack.css("opacity",0);!0!==t.options.centerMode&&!0!==t.options.swipeToSlide||(t.options.slidesToScroll=1);n("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading");t.setupInfinite();t.buildArrows();t.buildDots();t.updateDots();t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0);!0===t.options.draggable&&t.$list.addClass("draggable")};t.prototype.buildRows=function(){var t,i,r,f,c,u,e,n=this,o,s,h;if(f=document.createDocumentFragment(),u=n.$slider.children(),n.options.rows>1){for(e=n.options.slidesPerRow*n.options.rows,c=Math.ceil(u.length/e),t=0;t<c;t++){for(o=document.createElement("div"),i=0;i<n.options.rows;i++){for(s=document.createElement("div"),r=0;r<n.options.slidesPerRow;r++)h=t*e+(i*n.options.slidesPerRow+r),u.get(h)&&s.appendChild(u.get(h));o.appendChild(s)}f.appendChild(o)}n.$slider.empty().append(f);n.$slider.children().children().children().css({width:100/n.options.slidesPerRow+"%",display:"inline-block"})}};t.prototype.checkResponsive=function(t,i){var f,u,e,r=this,o=!1,s=r.$slider.width(),h=window.innerWidth||n(window).width();if("window"===r.respondTo?e=h:"slider"===r.respondTo?e=s:"min"===r.respondTo&&(e=Math.min(h,s)),r.options.responsive&&r.options.responsive.length&&null!==r.options.responsive){u=null;for(f in r.breakpoints)r.breakpoints.hasOwnProperty(f)&&(!1===r.originalSettings.mobileFirst?e<r.breakpoints[f]&&(u=r.breakpoints[f]):e>r.breakpoints[f]&&(u=r.breakpoints[f]));null!==u?null!==r.activeBreakpoint?(u!==r.activeBreakpoint||i)&&(r.activeBreakpoint=u,"unslick"===r.breakpointSettings[u]?r.unslick(u):(r.options=n.extend({},r.originalSettings,r.breakpointSettings[u]),!0===t&&(r.currentSlide=r.options.initialSlide),r.refresh(t)),o=u):(r.activeBreakpoint=u,"unslick"===r.breakpointSettings[u]?r.unslick(u):(r.options=n.extend({},r.originalSettings,r.breakpointSettings[u]),!0===t&&(r.currentSlide=r.options.initialSlide),r.refresh(t)),o=u):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,!0===t&&(r.currentSlide=r.options.initialSlide),r.refresh(t),o=u);t||!1===o||r.$slider.trigger("breakpoint",[r,o])}};t.prototype.changeSlide=function(t,i){var f,e,o,r=this,u=n(t.currentTarget),s;switch(u.is("a")&&t.preventDefault(),u.is("li")||(u=u.closest("li")),o=r.slideCount%r.options.slidesToScroll!=0,f=o?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,t.data.message){case"previous":e=0===f?r.options.slidesToScroll:r.options.slidesToShow-f;r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-e,!1,i);break;case"next":e=0===f?r.options.slidesToScroll:f;r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+e,!1,i);break;case"index":s=0===t.data.index?0:t.data.index||u.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(s),!1,i);u.children().trigger("focus");break;default:return}};t.prototype.checkNavigable=function(n){var t,i,r;if(t=this.getNavigableIndexes(),i=0,n>t[t.length-1])n=t[t.length-1];else for(r in t){if(n<t[r]){n=i;break}i=t[r]}return n};t.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&(n("li",t.$dots).off("click.slick",t.changeSlide).off("mouseenter.slick",n.proxy(t.interrupt,t,!0)).off("mouseleave.slick",n.proxy(t.interrupt,t,!1)),!0===t.options.accessibility&&t.$dots.off("keydown.slick",t.keyHandler));t.$slider.off("focus.slick blur.slick");!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide),!0===t.options.accessibility&&(t.$prevArrow&&t.$prevArrow.off("keydown.slick",t.keyHandler),t.$nextArrow&&t.$nextArrow.off("keydown.slick",t.keyHandler)));t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler);t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler);t.$list.off("touchend.slick mouseup.slick",t.swipeHandler);t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler);t.$list.off("click.slick",t.clickHandler);n(document).off(t.visibilityChange,t.visibility);t.cleanUpSlideEvents();!0===t.options.accessibility&&t.$list.off("keydown.slick",t.keyHandler);!0===t.options.focusOnSelect&&n(t.$slideTrack).children().off("click.slick",t.selectHandler);n(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange);n(window).off("resize.slick.slick-"+t.instanceUid,t.resize);n("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault);n(window).off("load.slick.slick-"+t.instanceUid,t.setPosition)};t.prototype.cleanUpSlideEvents=function(){var t=this;t.$list.off("mouseenter.slick",n.proxy(t.interrupt,t,!0));t.$list.off("mouseleave.slick",n.proxy(t.interrupt,t,!1))};t.prototype.cleanUpRows=function(){var t,n=this;n.options.rows>1&&((t=n.$slides.children().children()).removeAttr("style"),n.$slider.empty().append(t))};t.prototype.clickHandler=function(n){!1===this.shouldClick&&(n.stopImmediatePropagation(),n.stopPropagation(),n.preventDefault())};t.prototype.destroy=function(t){var i=this;i.autoPlayClear();i.touchObject={};i.cleanUpEvents();n(".slick-cloned",i.$slider).detach();i.$dots&&i.$dots.remove();i.$prevArrow&&i.$prevArrow.length&&(i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.prevArrow)&&i.$prevArrow.remove());i.$nextArrow&&i.$nextArrow.length&&(i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.nextArrow)&&i.$nextArrow.remove());i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){n(this).attr("style",n(this).data("originalStyling"))}),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides));i.cleanUpRows();i.$slider.removeClass("slick-slider");i.$slider.removeClass("slick-initialized");i.$slider.removeClass("slick-dotted");i.unslicked=!0;t||i.$slider.trigger("destroy",[i])};t.prototype.disableTransition=function(n){var t=this,i={};i[t.transitionType]="";!1===t.options.fade?t.$slideTrack.css(i):t.$slides.eq(n).css(i)};t.prototype.fadeSlide=function(n,t){var i=this;!1===i.cssTransitions?(i.$slides.eq(n).css({zIndex:i.options.zIndex}),i.$slides.eq(n).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(n),i.$slides.eq(n).css({opacity:1,zIndex:i.options.zIndex}),t&&setTimeout(function(){i.disableTransition(n);t.call()},i.options.speed))};t.prototype.fadeSlideOut=function(n){var t=this;!1===t.cssTransitions?t.$slides.eq(n).animate({opacity:0,zIndex:t.options.zIndex-2},t.options.speed,t.options.easing):(t.applyTransition(n),t.$slides.eq(n).css({opacity:0,zIndex:t.options.zIndex-2}))};t.prototype.filterSlides=t.prototype.slickFilter=function(n){var t=this;null!==n&&(t.$slidesCache=t.$slides,t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(n).appendTo(t.$slideTrack),t.reinit())};t.prototype.focusHandler=function(){var t=this;t.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(i){i.stopImmediatePropagation();var r=n(this);setTimeout(function(){t.options.pauseOnFocus&&(t.focussed=r.is(":focus"),t.autoPlay())},0)})};t.prototype.getCurrent=t.prototype.slickCurrentSlide=function(){return this.currentSlide};t.prototype.getDotCount=function(){var n=this,i=0,r=0,t=0;if(!0===n.options.infinite)if(n.slideCount<=n.options.slidesToShow)++t;else for(;i<n.slideCount;)++t,i=r+n.options.slidesToScroll,r+=n.options.slidesToScroll<=n.options.slidesToShow?n.options.slidesToScroll:n.options.slidesToShow;else if(!0===n.options.centerMode)t=n.slideCount;else if(n.options.asNavFor)for(;i<n.slideCount;)++t,i=r+n.options.slidesToScroll,r+=n.options.slidesToScroll<=n.options.slidesToShow?n.options.slidesToScroll:n.options.slidesToShow;else t=1+Math.ceil((n.slideCount-n.options.slidesToShow)/n.options.slidesToScroll);return t-1};t.prototype.getLeft=function(n){var f,r,i,e,t=this,u=0;return t.slideOffset=0,r=t.$slides.first().outerHeight(!0),!0===t.options.infinite?(t.slideCount>t.options.slidesToShow&&(t.slideOffset=t.slideWidth*t.options.slidesToShow*-1,e=-1,!0===t.options.vertical&&!0===t.options.centerMode&&(2===t.options.slidesToShow?e=-1.5:1===t.options.slidesToShow&&(e=-2)),u=r*t.options.slidesToShow*e),t.slideCount%t.options.slidesToScroll!=0&&n+t.options.slidesToScroll>t.slideCount&&t.slideCount>t.options.slidesToShow&&(n>t.slideCount?(t.slideOffset=(t.options.slidesToShow-(n-t.slideCount))*t.slideWidth*-1,u=(t.options.slidesToShow-(n-t.slideCount))*r*-1):(t.slideOffset=t.slideCount%t.options.slidesToScroll*t.slideWidth*-1,u=t.slideCount%t.options.slidesToScroll*r*-1))):n+t.options.slidesToShow>t.slideCount&&(t.slideOffset=(n+t.options.slidesToShow-t.slideCount)*t.slideWidth,u=(n+t.options.slidesToShow-t.slideCount)*r),t.slideCount<=t.options.slidesToShow&&(t.slideOffset=0,u=0),!0===t.options.centerMode&&t.slideCount<=t.options.slidesToShow?t.slideOffset=t.slideWidth*Math.floor(t.options.slidesToShow)/2-t.slideWidth*t.slideCount/2:!0===t.options.centerMode&&!0===t.options.infinite?t.slideOffset+=t.slideWidth*Math.floor(t.options.slidesToShow/2)-t.slideWidth:!0===t.options.centerMode&&(t.slideOffset=0,t.slideOffset+=t.slideWidth*Math.floor(t.options.slidesToShow/2)),f=!1===t.options.vertical?n*t.slideWidth*-1+t.slideOffset:n*r*-1+u,!0===t.options.variableWidth&&(i=t.slideCount<=t.options.slidesToShow||!1===t.options.infinite?t.$slideTrack.children(".slick-slide").eq(n):t.$slideTrack.children(".slick-slide").eq(n+t.options.slidesToShow),f=!0===t.options.rtl?i[0]?-1*(t.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,!0===t.options.centerMode&&(i=t.slideCount<=t.options.slidesToShow||!1===t.options.infinite?t.$slideTrack.children(".slick-slide").eq(n):t.$slideTrack.children(".slick-slide").eq(n+t.options.slidesToShow+1),f=!0===t.options.rtl?i[0]?-1*(t.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,f+=(t.$list.width()-i.outerWidth())/2)),f};t.prototype.getOption=t.prototype.slickGetOption=function(n){return this.options[n]};t.prototype.getNavigableIndexes=function(){var i,n=this,t=0,r=0,u=[];for(!1===n.options.infinite?i=n.slideCount:(t=-1*n.options.slidesToScroll,r=-1*n.options.slidesToScroll,i=2*n.slideCount);t<i;)u.push(t),t=r+n.options.slidesToScroll,r+=n.options.slidesToScroll<=n.options.slidesToShow?n.options.slidesToScroll:n.options.slidesToShow;return u};t.prototype.getSlick=function(){return this};t.prototype.getSlideCount=function(){var i,r,t=this;return r=!0===t.options.centerMode?t.slideWidth*Math.floor(t.options.slidesToShow/2):0,!0===t.options.swipeToSlide?(t.$slideTrack.find(".slick-slide").each(function(u,f){if(f.offsetLeft-r+n(f).outerWidth()/2>-1*t.swipeLeft)return i=f,!1}),Math.abs(n(i).attr("data-slick-index")-t.currentSlide)||1):t.options.slidesToScroll};t.prototype.goTo=t.prototype.slickGoTo=function(n,t){this.changeSlide({data:{message:"index",index:parseInt(n)}},t)};t.prototype.init=function(t){var i=this;n(i.$slider).hasClass("slick-initialized")||(n(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots(),i.checkResponsive(!0),i.focusHandler());t&&i.$slider.trigger("init",[i]);!0===i.options.accessibility&&i.initADA();i.options.autoplay&&(i.paused=!1,i.autoPlay())};t.prototype.initADA=function(){var t=this,f=Math.ceil(t.slideCount/t.options.slidesToShow),r=t.getNavigableIndexes().filter(function(n){return n>=0&&n<t.slideCount}),i,u;for(t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==t.$dots&&(t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function(i){var u=r.indexOf(i);n(this).attr({role:"tabpanel",id:"slick-slide"+t.instanceUid+i,tabindex:-1});-1!==u&&n(this).attr({"aria-describedby":"slick-slide-control"+t.instanceUid+u})}),t.$dots.attr("role","tablist").find("li").each(function(i){var u=r[i];n(this).attr({role:"presentation"});n(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+t.instanceUid+i,"aria-controls":"slick-slide"+t.instanceUid+u,"aria-label":i+1+" of "+f,"aria-selected":null,tabindex:"-1"})}).eq(t.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end()),i=t.currentSlide,u=i+t.options.slidesToShow;i<u;i++)t.$slides.eq(i).attr("tabindex",0);t.activateADA()};t.prototype.initArrowEvents=function(){var n=this;!0===n.options.arrows&&n.slideCount>n.options.slidesToShow&&(n.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},n.changeSlide),n.$nextArrow.off("click.slick").on("click.slick",{message:"next"},n.changeSlide),!0===n.options.accessibility&&(n.$prevArrow.on("keydown.slick",n.keyHandler),n.$nextArrow.on("keydown.slick",n.keyHandler)))};t.prototype.initDotEvents=function(){var t=this;!0===t.options.dots&&(n("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),!0===t.options.accessibility&&t.$dots.on("keydown.slick",t.keyHandler));!0===t.options.dots&&!0===t.options.pauseOnDotsHover&&n("li",t.$dots).on("mouseenter.slick",n.proxy(t.interrupt,t,!0)).on("mouseleave.slick",n.proxy(t.interrupt,t,!1))};t.prototype.initSlideEvents=function(){var t=this;t.options.pauseOnHover&&(t.$list.on("mouseenter.slick",n.proxy(t.interrupt,t,!0)),t.$list.on("mouseleave.slick",n.proxy(t.interrupt,t,!1)))};t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents();t.initDotEvents();t.initSlideEvents();t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler);t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler);t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler);t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler);t.$list.on("click.slick",t.clickHandler);n(document).on(t.visibilityChange,n.proxy(t.visibility,t));!0===t.options.accessibility&&t.$list.on("keydown.slick",t.keyHandler);!0===t.options.focusOnSelect&&n(t.$slideTrack).children().on("click.slick",t.selectHandler);n(window).on("orientationchange.slick.slick-"+t.instanceUid,n.proxy(t.orientationChange,t));n(window).on("resize.slick.slick-"+t.instanceUid,n.proxy(t.resize,t));n("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault);n(window).on("load.slick.slick-"+t.instanceUid,t.setPosition);n(t.setPosition)};t.prototype.initUI=function(){var n=this;!0===n.options.arrows&&n.slideCount>n.options.slidesToShow&&(n.$prevArrow.show(),n.$nextArrow.show());!0===n.options.dots&&n.slideCount>n.options.slidesToShow&&n.$dots.show()};t.prototype.keyHandler=function(n){var t=this;n.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===n.keyCode&&!0===t.options.accessibility?t.changeSlide({data:{message:!0===t.options.rtl?"next":"previous"}}):39===n.keyCode&&!0===t.options.accessibility&&t.changeSlide({data:{message:!0===t.options.rtl?"previous":"next"}}))};t.prototype.lazyLoad=function(){function f(i){n("img[data-lazy]",i).each(function(){var i=n(this),r=n(this).attr("data-lazy"),f=n(this).attr("data-srcset"),e=n(this).attr("data-sizes")||t.$slider.attr("data-sizes"),u=document.createElement("img");u.onload=function(){i.animate({opacity:0},100,function(){f&&(i.attr("srcset",f),e&&i.attr("sizes",e));i.attr("src",r).animate({opacity:1},200,function(){i.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")});t.$slider.trigger("lazyLoaded",[t,i,r])})};u.onerror=function(){i.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error");t.$slider.trigger("lazyLoadError",[t,i,r])};u.src=r})}var u,i,r,t=this;if(!0===t.options.centerMode?!0===t.options.infinite?r=(i=t.currentSlide+(t.options.slidesToShow/2+1))+t.options.slidesToShow+2:(i=Math.max(0,t.currentSlide-(t.options.slidesToShow/2+1)),r=t.options.slidesToShow/2+1+2+t.currentSlide):(i=t.options.infinite?t.options.slidesToShow+t.currentSlide:t.currentSlide,r=Math.ceil(i+t.options.slidesToShow),!0===t.options.fade&&(i>0&&i--,r<=t.slideCount&&r++)),u=t.$slider.find(".slick-slide").slice(i,r),"anticipated"===t.options.lazyLoad)for(var e=i-1,o=r,s=t.$slider.find(".slick-slide"),h=0;h<t.options.slidesToScroll;h++)e<0&&(e=t.slideCount-1),u=(u=u.add(s.eq(e))).add(s.eq(o)),e--,o++;f(u);t.slideCount<=t.options.slidesToShow?f(t.$slider.find(".slick-slide")):t.currentSlide>=t.slideCount-t.options.slidesToShow?f(t.$slider.find(".slick-cloned").slice(0,t.options.slidesToShow)):0===t.currentSlide&&f(t.$slider.find(".slick-cloned").slice(-1*t.options.slidesToShow))};t.prototype.loadSlider=function(){var n=this;n.setPosition();n.$slideTrack.css({opacity:1});n.$slider.removeClass("slick-loading");n.initUI();"progressive"===n.options.lazyLoad&&n.progressiveLazyLoad()};t.prototype.next=t.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})};t.prototype.orientationChange=function(){var n=this;n.checkResponsive();n.setPosition()};t.prototype.pause=t.prototype.slickPause=function(){var n=this;n.autoPlayClear();n.paused=!0};t.prototype.play=t.prototype.slickPlay=function(){var n=this;n.autoPlay();n.options.autoplay=!0;n.paused=!1;n.focussed=!1;n.interrupted=!1};t.prototype.postSlide=function(t){var i=this;i.unslicked||(i.$slider.trigger("afterChange",[i,t]),i.animating=!1,i.slideCount>i.options.slidesToShow&&i.setPosition(),i.swipeLeft=null,i.options.autoplay&&i.autoPlay(),!0===i.options.accessibility&&(i.initADA(),i.options.focusOnChange&&n(i.$slides.get(i.currentSlide)).attr("tabindex",0).focus()))};t.prototype.prev=t.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})};t.prototype.preventDefault=function(n){n.preventDefault()};t.prototype.progressiveLazyLoad=function(t){t=t||1;var r,u,f,e,o,i=this,s=n("img[data-lazy]",i.$slider);s.length?(r=s.first(),u=r.attr("data-lazy"),f=r.attr("data-srcset"),e=r.attr("data-sizes")||i.$slider.attr("data-sizes"),(o=document.createElement("img")).onload=function(){f&&(r.attr("srcset",f),e&&r.attr("sizes",e));r.attr("src",u).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading");!0===i.options.adaptiveHeight&&i.setPosition();i.$slider.trigger("lazyLoaded",[i,r,u]);i.progressiveLazyLoad()},o.onerror=function(){t<3?setTimeout(function(){i.progressiveLazyLoad(t+1)},500):(r.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),i.$slider.trigger("lazyLoadError",[i,r,u]),i.progressiveLazyLoad())},o.src=u):i.$slider.trigger("allImagesLoaded",[i])};t.prototype.refresh=function(t){var r,u,i=this;u=i.slideCount-i.options.slidesToShow;!i.options.infinite&&i.currentSlide>u&&(i.currentSlide=u);i.slideCount<=i.options.slidesToShow&&(i.currentSlide=0);r=i.currentSlide;i.destroy(!0);n.extend(i,i.initials,{currentSlide:r});i.init();t||i.changeSlide({data:{message:"index",index:r}},!1)};t.prototype.registerBreakpoints=function(){var u,f,i,t=this,r=t.options.responsive||null;if("array"===n.type(r)&&r.length){t.respondTo=t.options.respondTo||"window";for(u in r)if(i=t.breakpoints.length-1,r.hasOwnProperty(u)){for(f=r[u].breakpoint;i>=0;)t.breakpoints[i]&&t.breakpoints[i]===f&&t.breakpoints.splice(i,1),i--;t.breakpoints.push(f);t.breakpointSettings[f]=r[u].settings}t.breakpoints.sort(function(n,i){return t.options.mobileFirst?n-i:i-n})}};t.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide");t.slideCount=t.$slides.length;t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll);t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0);t.registerBreakpoints();t.setProps();t.setupInfinite();t.buildArrows();t.updateArrows();t.initArrowEvents();t.buildDots();t.updateDots();t.initDotEvents();t.cleanUpSlideEvents();t.initSlideEvents();t.checkResponsive(!1,!0);!0===t.options.focusOnSelect&&n(t.$slideTrack).children().on("click.slick",t.selectHandler);t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0);t.setPosition();t.focusHandler();t.paused=!t.options.autoplay;t.autoPlay();t.$slider.trigger("reInit",[t])};t.prototype.resize=function(){var t=this;n(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=n(window).width();t.checkResponsive();t.unslicked||t.setPosition()},50))};t.prototype.removeSlide=t.prototype.slickRemove=function(n,t,i){var r=this;if(n="boolean"==typeof n?!0===(t=n)?0:r.slideCount-1:!0===t?--n:n,r.slideCount<1||n<0||n>r.slideCount-1)return!1;r.unload();!0===i?r.$slideTrack.children().remove():r.$slideTrack.children(this.options.slide).eq(n).remove();r.$slides=r.$slideTrack.children(this.options.slide);r.$slideTrack.children(this.options.slide).detach();r.$slideTrack.append(r.$slides);r.$slidesCache=r.$slides;r.reinit()};t.prototype.setCSS=function(n){var r,u,t=this,i={};!0===t.options.rtl&&(n=-n);r="left"==t.positionProp?Math.ceil(n)+"px":"0px";u="top"==t.positionProp?Math.ceil(n)+"px":"0px";i[t.positionProp]=n;!1===t.transformsEnabled?t.$slideTrack.css(i):(i={},!1===t.cssTransitions?(i[t.animType]="translate("+r+", "+u+")",t.$slideTrack.css(i)):(i[t.animType]="translate3d("+r+", "+u+", 0px)",t.$slideTrack.css(i)))};t.prototype.setDimensions=function(){var n=this,t;!1===n.options.vertical?!0===n.options.centerMode&&n.$list.css({padding:"0px "+n.options.centerPadding}):(n.$list.height(n.$slides.first().outerHeight(!0)*n.options.slidesToShow),!0===n.options.centerMode&&n.$list.css({padding:n.options.centerPadding+" 0px"}));n.listWidth=n.$list.width();n.listHeight=n.$list.height();!1===n.options.vertical&&!1===n.options.variableWidth?(n.slideWidth=Math.ceil(n.listWidth/n.options.slidesToShow),n.$slideTrack.width(Math.ceil(n.slideWidth*n.$slideTrack.children(".slick-slide").length))):!0===n.options.variableWidth?n.$slideTrack.width(5e3*n.slideCount):(n.slideWidth=Math.ceil(n.listWidth),n.$slideTrack.height(Math.ceil(n.$slides.first().outerHeight(!0)*n.$slideTrack.children(".slick-slide").length)));t=n.$slides.first().outerWidth(!0)-n.$slides.first().width();!1===n.options.variableWidth&&n.$slideTrack.children(".slick-slide").width(n.slideWidth-t)};t.prototype.setFade=function(){var i,t=this;t.$slides.each(function(r,u){i=t.slideWidth*r*-1;!0===t.options.rtl?n(u).css({position:"relative",right:i,top:0,zIndex:t.options.zIndex-2,opacity:0}):n(u).css({position:"relative",left:i,top:0,zIndex:t.options.zIndex-2,opacity:0})});t.$slides.eq(t.currentSlide).css({zIndex:t.options.zIndex-1,opacity:1})};t.prototype.setHeight=function(){var n=this,t;1===n.options.slidesToShow&&!0===n.options.adaptiveHeight&&!1===n.options.vertical&&(t=n.$slides.eq(n.currentSlide).outerHeight(!0),n.$list.css("height",t))};t.prototype.setOption=t.prototype.slickSetOption=function(){var u,f,e,i,r,t=this,o=!1;if("object"===n.type(arguments[0])?(e=arguments[0],o=arguments[1],r="multiple"):"string"===n.type(arguments[0])&&(e=arguments[0],i=arguments[1],o=arguments[2],"responsive"===arguments[0]&&"array"===n.type(arguments[1])?r="responsive":void 0!==arguments[1]&&(r="single")),"single"===r)t.options[e]=i;else if("multiple"===r)n.each(e,function(n,i){t.options[n]=i});else if("responsive"===r)for(f in i)if("array"!==n.type(t.options.responsive))t.options.responsive=[i[f]];else{for(u=t.options.responsive.length-1;u>=0;)t.options.responsive[u].breakpoint===i[f].breakpoint&&t.options.responsive.splice(u,1),u--;t.options.responsive.push(i[f])}o&&(t.unload(),t.reinit())};t.prototype.setPosition=function(){var n=this;n.setDimensions();n.setHeight();!1===n.options.fade?n.setCSS(n.getLeft(n.currentSlide)):n.setFade();n.$slider.trigger("setPosition",[n])};t.prototype.setProps=function(){var n=this,t=document.body.style;n.positionProp=!0===n.options.vertical?"top":"left";"top"===n.positionProp?n.$slider.addClass("slick-vertical"):n.$slider.removeClass("slick-vertical");void 0===t.WebkitTransition&&void 0===t.MozTransition&&void 0===t.msTransition||!0===n.options.useCSS&&(n.cssTransitions=!0);n.options.fade&&("number"==typeof n.options.zIndex?n.options.zIndex<3&&(n.options.zIndex=3):n.options.zIndex=n.defaults.zIndex);void 0!==t.OTransform&&(n.animType="OTransform",n.transformType="-o-transform",n.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(n.animType=!1));void 0!==t.MozTransform&&(n.animType="MozTransform",n.transformType="-moz-transform",n.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(n.animType=!1));void 0!==t.webkitTransform&&(n.animType="webkitTransform",n.transformType="-webkit-transform",n.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(n.animType=!1));void 0!==t.msTransform&&(n.animType="msTransform",n.transformType="-ms-transform",n.transitionType="msTransition",void 0===t.msTransform&&(n.animType=!1));void 0!==t.transform&&!1!==n.animType&&(n.animType="transform",n.transformType="transform",n.transitionType="transition");n.transformsEnabled=n.options.useTransform&&null!==n.animType&&!1!==n.animType};t.prototype.setSlideClasses=function(n){var u,i,r,f,t=this,e;(i=t.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),t.$slides.eq(n).addClass("slick-current"),!0===t.options.centerMode)?(e=t.options.slidesToShow%2==0?1:0,u=Math.floor(t.options.slidesToShow/2),!0===t.options.infinite&&(n>=u&&n<=t.slideCount-1-u?t.$slides.slice(n-u+e,n+u+1).addClass("slick-active").attr("aria-hidden","false"):(r=t.options.slidesToShow+n,i.slice(r-u+1+e,r+u+2).addClass("slick-active").attr("aria-hidden","false")),0===n?i.eq(i.length-1-t.options.slidesToShow).addClass("slick-center"):n===t.slideCount-1&&i.eq(t.options.slidesToShow).addClass("slick-center")),t.$slides.eq(n).addClass("slick-center")):n>=0&&n<=t.slideCount-t.options.slidesToShow?t.$slides.slice(n,n+t.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=t.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(f=t.slideCount%t.options.slidesToShow,r=!0===t.options.infinite?t.options.slidesToShow+n:n,t.options.slidesToShow==t.options.slidesToScroll&&t.slideCount-n<t.options.slidesToShow?i.slice(r-(t.options.slidesToShow-f),r+f).addClass("slick-active").attr("aria-hidden","false"):i.slice(r,r+t.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==t.options.lazyLoad&&"anticipated"!==t.options.lazyLoad||t.lazyLoad()};t.prototype.setupInfinite=function(){var i,r,u,t=this;if(!0===t.options.fade&&(t.options.centerMode=!1),!0===t.options.infinite&&!1===t.options.fade&&(r=null,t.slideCount>t.options.slidesToShow)){for(u=!0===t.options.centerMode?t.options.slidesToShow+1:t.options.slidesToShow,i=t.slideCount;i>t.slideCount-u;i-=1)r=i-1,n(t.$slides[r]).clone(!0).attr("id","").attr("data-slick-index",r-t.slideCount).prependTo(t.$slideTrack).addClass("slick-cloned");for(i=0;i<u+t.slideCount;i+=1)r=i,n(t.$slides[r]).clone(!0).attr("id","").attr("data-slick-index",r+t.slideCount).appendTo(t.$slideTrack).addClass("slick-cloned");t.$slideTrack.find(".slick-cloned").find("[id]").each(function(){n(this).attr("id","")})}};t.prototype.interrupt=function(n){var t=this;n||t.autoPlay();t.interrupted=n};t.prototype.selectHandler=function(t){var i=this,u=n(t.target).is(".slick-slide")?n(t.target):n(t.target).parents(".slick-slide"),r=parseInt(u.attr("data-slick-index"));r||(r=0);i.slideCount<=i.options.slidesToShow?i.slideHandler(r,!1,!0):i.slideHandler(r)};t.prototype.slideHandler=function(n,t,i){var u,f,s,e,o,h=null,r=this;if(t=t||!1,!(!0===r.animating&&!0===r.options.waitForAnimate||!0===r.options.fade&&r.currentSlide===n))if(!1===t&&r.asNavFor(n),u=n,h=r.getLeft(u),e=r.getLeft(r.currentSlide),r.currentLeft=null===r.swipeLeft?e:r.swipeLeft,!1===r.options.infinite&&!1===r.options.centerMode&&(n<0||n>r.getDotCount()*r.options.slidesToScroll))!1===r.options.fade&&(u=r.currentSlide,!0!==i?r.animateSlide(e,function(){r.postSlide(u)}):r.postSlide(u));else if(!1===r.options.infinite&&!0===r.options.centerMode&&(n<0||n>r.slideCount-r.options.slidesToScroll))!1===r.options.fade&&(u=r.currentSlide,!0!==i?r.animateSlide(e,function(){r.postSlide(u)}):r.postSlide(u));else{if(r.options.autoplay&&clearInterval(r.autoPlayTimer),f=u<0?r.slideCount%r.options.slidesToScroll!=0?r.slideCount-r.slideCount%r.options.slidesToScroll:r.slideCount+u:u>=r.slideCount?r.slideCount%r.options.slidesToScroll!=0?0:u-r.slideCount:u,r.animating=!0,r.$slider.trigger("beforeChange",[r,r.currentSlide,f]),s=r.currentSlide,r.currentSlide=f,r.setSlideClasses(r.currentSlide),r.options.asNavFor&&(o=(o=r.getNavTarget()).slick("getSlick")).slideCount<=o.options.slidesToShow&&o.setSlideClasses(r.currentSlide),r.updateDots(),r.updateArrows(),!0===r.options.fade)return!0!==i?(r.fadeSlideOut(s),r.fadeSlide(f,function(){r.postSlide(f)})):r.postSlide(f),void r.animateHeight();!0!==i?r.animateSlide(h,function(){r.postSlide(f)}):r.postSlide(f)}};t.prototype.startLoad=function(){var n=this;!0===n.options.arrows&&n.slideCount>n.options.slidesToShow&&(n.$prevArrow.hide(),n.$nextArrow.hide());!0===n.options.dots&&n.slideCount>n.options.slidesToShow&&n.$dots.hide();n.$slider.addClass("slick-loading")};t.prototype.swipeDirection=function(){var i,r,u,n,t=this;return i=t.touchObject.startX-t.touchObject.curX,r=t.touchObject.startY-t.touchObject.curY,u=Math.atan2(r,i),(n=Math.round(180*u/Math.PI))<0&&(n=360-Math.abs(n)),n<=45&&n>=0?!1===t.options.rtl?"left":"right":n<=360&&n>=315?!1===t.options.rtl?"left":"right":n>=135&&n<=225?!1===t.options.rtl?"right":"left":!0===t.options.verticalSwiping?n>=35&&n<=135?"down":"up":"vertical"};t.prototype.swipeEnd=function(){var t,i,n=this;if(n.dragging=!1,n.swiping=!1,n.scrolling)return n.scrolling=!1,!1;if(n.interrupted=!1,n.shouldClick=!(n.touchObject.swipeLength>10),void 0===n.touchObject.curX)return!1;if(!0===n.touchObject.edgeHit&&n.$slider.trigger("edge",[n,n.swipeDirection()]),n.touchObject.swipeLength>=n.touchObject.minSwipe){switch(i=n.swipeDirection()){case"left":case"down":t=n.options.swipeToSlide?n.checkNavigable(n.currentSlide+n.getSlideCount()):n.currentSlide+n.getSlideCount();n.currentDirection=0;break;case"right":case"up":t=n.options.swipeToSlide?n.checkNavigable(n.currentSlide-n.getSlideCount()):n.currentSlide-n.getSlideCount();n.currentDirection=1}"vertical"!=i&&(n.slideHandler(t),n.touchObject={},n.$slider.trigger("swipe",[n,i]))}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),n.touchObject={})};t.prototype.swipeHandler=function(n){var t=this;if(!(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe||!1===t.options.draggable&&-1!==n.type.indexOf("mouse")))switch(t.touchObject.fingerCount=n.originalEvent&&void 0!==n.originalEvent.touches?n.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,!0===t.options.verticalSwiping&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),n.data.action){case"start":t.swipeStart(n);break;case"move":t.swipeMove(n);break;case"end":t.swipeEnd(n)}};t.prototype.swipeMove=function(n){var f,e,r,u,i,o,t=this;return i=void 0!==n.originalEvent?n.originalEvent.touches:null,!(!t.dragging||t.scrolling||i&&1!==i.length)&&(f=t.getLeft(t.currentSlide),t.touchObject.curX=void 0!==i?i[0].pageX:n.clientX,t.touchObject.curY=void 0!==i?i[0].pageY:n.clientY,t.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(t.touchObject.curX-t.touchObject.startX,2))),o=Math.round(Math.sqrt(Math.pow(t.touchObject.curY-t.touchObject.startY,2))),!t.options.verticalSwiping&&!t.swiping&&o>4?(t.scrolling=!0,!1):(!0===t.options.verticalSwiping&&(t.touchObject.swipeLength=o),e=t.swipeDirection(),void 0!==n.originalEvent&&t.touchObject.swipeLength>4&&(t.swiping=!0,n.preventDefault()),u=(!1===t.options.rtl?1:-1)*(t.touchObject.curX>t.touchObject.startX?1:-1),!0===t.options.verticalSwiping&&(u=t.touchObject.curY>t.touchObject.startY?1:-1),r=t.touchObject.swipeLength,t.touchObject.edgeHit=!1,!1===t.options.infinite&&(0===t.currentSlide&&"right"===e||t.currentSlide>=t.getDotCount()&&"left"===e)&&(r=t.touchObject.swipeLength*t.options.edgeFriction,t.touchObject.edgeHit=!0),t.swipeLeft=!1===t.options.vertical?f+r*u:f+r*(t.$list.height()/t.listWidth)*u,!0===t.options.verticalSwiping&&(t.swipeLeft=f+r*u),!0!==t.options.fade&&!1!==t.options.touchMove&&(!0===t.animating?(t.swipeLeft=null,!1):void t.setCSS(t.swipeLeft))))};t.prototype.swipeStart=function(n){var i,t=this;if(t.interrupted=!0,1!==t.touchObject.fingerCount||t.slideCount<=t.options.slidesToShow)return t.touchObject={},!1;void 0!==n.originalEvent&&void 0!==n.originalEvent.touches&&(i=n.originalEvent.touches[0]);t.touchObject.startX=t.touchObject.curX=void 0!==i?i.pageX:n.clientX;t.touchObject.startY=t.touchObject.curY=void 0!==i?i.pageY:n.clientY;t.dragging=!0};t.prototype.unfilterSlides=t.prototype.slickUnfilter=function(){var n=this;null!==n.$slidesCache&&(n.unload(),n.$slideTrack.children(this.options.slide).detach(),n.$slidesCache.appendTo(n.$slideTrack),n.reinit())};t.prototype.unload=function(){var t=this;n(".slick-cloned",t.$slider).remove();t.$dots&&t.$dots.remove();t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove();t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove();t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")};t.prototype.unslick=function(n){var t=this;t.$slider.trigger("unslick",[t,n]);t.destroy()};t.prototype.updateArrows=function(){var n=this;Math.floor(n.options.slidesToShow/2);!0===n.options.arrows&&n.slideCount>n.options.slidesToShow&&!n.options.infinite&&(n.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),n.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===n.currentSlide?(n.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),n.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):n.currentSlide>=n.slideCount-n.options.slidesToShow&&!1===n.options.centerMode?(n.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),n.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):n.currentSlide>=n.slideCount-1&&!0===n.options.centerMode&&(n.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),n.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))};t.prototype.updateDots=function(){var n=this;null!==n.$dots&&(n.$dots.find("li").removeClass("slick-active").end(),n.$dots.find("li").eq(Math.floor(n.currentSlide/n.options.slidesToScroll)).addClass("slick-active"))};t.prototype.visibility=function(){var n=this;n.options.autoplay&&(n.interrupted=document[n.hidden]?!0:!1)};n.fn.slick=function(){for(var u,i=this,r=arguments[0],f=Array.prototype.slice.call(arguments,1),e=i.length,n=0;n<e;n++)if("object"==typeof r||void 0===r?i[n].slick=new t(i[n],r):u=i[n].slick[r].apply(i[n].slick,f),void 0!==u)return u;return i}});!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.videojs=t()}(this,function(){function pf(n,t){return t={exports:{}},n(t,t.exports),t.exports}function ei(n,t){fc(n).forEach(function(i){return t(n[i],i)})}function ka(n,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return fc(n).reduce(function(i,r){return t(i,n[r],r)},i)}function a(n){for(var i=arguments.length,r=Array(i>1?i-1:0),t=1;t<i;t++)r[t-1]=arguments[t];return Object.assign?Object.assign.apply(Object,[n].concat(r)):(r.forEach(function(t){t&&ei(t,function(t,i){n[i]=t})}),n)}function ct(n){return!!n&&"object"===(void 0===n?"undefined":vi(n))}function ir(n){return ct(n)&&"[object Object]"===ly.call(n)&&n.constructor===Object}function da(n){return n.replace(/\n\r?\s*/g,"")}function wf(t,i){if(!t||!i)return"";if("function"==typeof n.getComputedStyle){var r=n.getComputedStyle(t);return r?r[i]:""}return t.currentStyle[i]||""}function es(n){return"string"==typeof n&&/\S/.test(n)}function os(n){if(/\s/.test(n))throw new Error("class has illegal whitespace characters");}function ga(n){return new RegExp("(^|\\s)"+n+"($|\\s)")}function vt(){return r===n.document&&void 0!==r.createElement}function gr(n){return ct(n)&&1===n.nodeType}function ss(){try{return n.parent!==n.self}catch(t){return!0}}function hs(n){return function(t,i){if(!es(t))return r[n](null);es(i)&&(i=r.querySelector(i));var u=gr(i)?i:r;return u[n]&&u[n](t)}}function y(){var f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments[3],n=r.createElement(f);return Object.getOwnPropertyNames(t).forEach(function(i){var r=t[i];-1!==i.indexOf("aria-")||"role"===i||"type"===i?(h.warn(ae(ay,i,r)),n.setAttribute(i,r)):"textContent"===i?rr(n,r):n[i]=r}),Object.getOwnPropertyNames(i).forEach(function(t){n.setAttribute(t,i[t])}),u&&gf(n,u),n}function rr(n,t){return void 0===n.textContent?n.innerText=t:n.textContent=t,n}function nu(n,t){t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)}function oi(n,t){return os(t),n.classList?n.classList.contains(t):ga(t).test(n.className)}function bt(n,t){return n.classList?n.classList.add(t):oi(n,t)||(n.className=(n.className+" "+t).trim()),n}function ur(n,t){return n.classList?n.classList.remove(t):(os(t),n.className=n.className.split(/\s+/).filter(function(n){return n!==t}).join(" ")),n}function cs(n,t,i){var r=oi(n,t);if("function"==typeof i&&(i=i(n,t)),"boolean"!=typeof i&&(i=!r),i!==r)return i?bt(n,t):ur(n,t),n}function ls(n,t){Object.getOwnPropertyNames(t).forEach(function(i){var r=t[i];null===r||void 0===r||!1===r?n.removeAttribute(i):n.setAttribute(i,!0===r?"":r)})}function yt(n){var f={},i,t,r,u;if(n&&n.attributes&&n.attributes.length>0)for(i=n.attributes,t=i.length-1;t>=0;t--)r=i[t].name,u=i[t].value,"boolean"!=typeof n[r]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+r+",")||(u=null!==u),f[r]=u;return f}function as(n,t){return n.getAttribute(t)}function tu(n,t,i){n.setAttribute(t,i)}function bf(n,t){n.removeAttribute(t)}function vs(){r.body.focus();r.onselectstart=function(){return!1}}function ys(){r.onselectstart=function(){return!0}}function fr(n){if(n&&n.getBoundingClientRect&&n.parentNode){var i=n.getBoundingClientRect(),t={};return["bottom","height","left","right","top","width"].forEach(function(n){void 0!==i[n]&&(t[n]=i[n])}),t.height||(t.height=parseFloat(wf(n,"height"))),t.width||(t.width=parseFloat(wf(n,"width"))),t}}function ps(t){var i=void 0;if(t.getBoundingClientRect&&t.parentNode&&(i=t.getBoundingClientRect()),!i)return{left:0,top:0};var f=r.documentElement,u=r.body,e=f.clientLeft||u.clientLeft||0,o=n.pageXOffset||u.scrollLeft,s=i.left+o-e,h=f.clientTop||u.clientTop||0,c=n.pageYOffset||u.scrollTop,l=i.top+c-h;return{left:Math.round(s),top:Math.round(l)}}function kf(n,t){var i={},r=ps(n),o=n.offsetWidth,u=n.offsetHeight,s=r.top,h=r.left,f=t.pageY,e=t.pageX;return t.changedTouches&&(e=t.changedTouches[0].pageX,f=t.changedTouches[0].pageY),i.y=Math.max(0,Math.min(1,(s-f+u)/u)),i.x=Math.max(0,Math.min(1,(e-h)/o)),i}function ws(n){return ct(n)&&3===n.nodeType}function df(n){for(;n.firstChild;)n.removeChild(n.firstChild);return n}function bs(n){return"function"==typeof n&&(n=n()),(Array.isArray(n)?n:[n]).map(function(n){return"function"==typeof n&&(n=n()),gr(n)||ws(n)?n:"string"==typeof n&&/\S/.test(n)?r.createTextNode(n):void 0}).filter(function(n){return n})}function gf(n,t){return bs(t).forEach(function(t){return n.appendChild(t)}),n}function ks(n,t){return gf(df(n),t)}function si(n){return void 0===n.button&&void 0===n.buttons||0===n.button&&void 0===n.buttons||9===wt||0===n.button&&1===n.buttons}function kt(){return vy++}function er(n){var t=n[ti];return t||(t=n[ti]=kt()),ar[t]||(ar[t]={}),ar[t]}function ds(n){var t=n[ti];return!!t&&!!Object.getOwnPropertyNames(ar[t]).length}function gs(n){var t=n[ti];if(t){delete ar[t];try{delete n[ti]}catch(t){n.removeAttribute?n.removeAttribute(ti):n[ti]=null}}}function nh(n,t){var i=er(n);0===i.handlers[t].length&&(delete i.handlers[t],n.removeEventListener?n.removeEventListener(t,i.dispatcher,!1):n.detachEvent&&n.detachEvent("on"+t,i.dispatcher));Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled);0===Object.getOwnPropertyNames(i).length&&gs(n)}function ne(n,t,i,r){i.forEach(function(i){n(t,i,r)})}function iu(t){function o(){return!0}function s(){return!1}var i,u,f,e;if(!t||!t.isPropagationStopped){i=t||n.event;t={};for(u in i)"layerX"!==u&&"layerY"!==u&&"keyLocation"!==u&&"webkitMovementX"!==u&&"webkitMovementY"!==u&&("returnValue"===u&&i.preventDefault||(t[u]=i[u]));(t.target||(t.target=t.srcElement||r),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){i.preventDefault&&i.preventDefault();t.returnValue=!1;i.returnValue=!1;t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation();t.cancelBubble=!0;i.cancelBubble=!0;t.isPropagationStopped=o},t.isPropagationStopped=s,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation();t.isImmediatePropagationStopped=o;t.stopPropagation()},t.isImmediatePropagationStopped=s,null!==t.clientX&&void 0!==t.clientX)&&(f=r.documentElement,e=r.body,t.pageX=t.clientX+(f&&f.scrollLeft||e&&e.scrollLeft||0)-(f&&f.clientLeft||e&&e.clientLeft||0),t.pageY=t.clientY+(f&&f.scrollTop||e&&e.scrollTop||0)-(f&&f.clientTop||e&&e.clientTop||0));t.which=t.charCode||t.keyCode;null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}function st(n,t,i){var r,u;if(Array.isArray(t))return ne(st,n,t,i);r=er(n);(r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),i.guid||(i.guid=kt()),r.handlers[t].push(i),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,i){var u;if(!r.disabled&&(t=iu(t),u=r.handlers[t.type],u))for(var e=u.slice(0),f=0,o=e.length;f<o&&!t.isImmediatePropagationStopped();f++)try{e[f].call(n,t,i)}catch(n){h.error(n)}}),1===r.handlers[t].length)&&(n.addEventListener?(u=!1,sc&&yy.indexOf(t)>-1&&(u={passive:!0}),n.addEventListener(t,r.dispatcher,u)):n.attachEvent&&n.attachEvent("on"+t,r.dispatcher))}function et(n,t,i){var r,e,u,f,o;if(ds(n)&&(r=er(n),r.handlers)){if(Array.isArray(t))return ne(et,n,t,i);if(e=function(n,t){r.handlers[t]=[];nh(n,t)},void 0!==t){if(u=r.handlers[t],u){if(!i)return void e(n,t);if(i.guid)for(f=0;f<u.length;f++)u[f].guid===i.guid&&u.splice(f--,1);nh(n,t)}}else for(o in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},o)&&e(n,o)}}function hi(n,t,i){var f=ds(n)?er(n):{},r=n.parentNode||n.ownerDocument,u;return("string"==typeof t&&(t={type:t,target:n}),t=iu(t),f.dispatcher&&f.dispatcher.call(n,t,i),r&&!t.isPropagationStopped()&&!0===t.bubbles)?hi.call(null,r,t,i):r||t.defaultPrevented||(u=er(t.target),t.target[t.type]&&(u.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),u.disabled=!1)),!t.defaultPrevented}function or(n,t,i){if(Array.isArray(t))return ne(or,n,t,i);var r=function r(){et(n,t,r);i.apply(this,arguments)};r.guid=i.guid=i.guid||kt();st(n,t,r)}function te(t,i){i&&(hc=i);n.setTimeout(wy,t)}function ie(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.eventBusKey;if(i){if(!t[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');t.eventBusEl_=t[i]}else t.eventBusEl_=y("span",{className:"vjs-event-bus"});return a(t,by),t.on("dispose",function(){t.off();n.setTimeout(function(){t.eventBusEl_=null},0)}),t}function th(n,t){return a(n,ky),n.state=a({},n.state,t),"function"==typeof n.handleStateChanged&&lu(n)&&n.on("statechanged",n.handleStateChanged),n}function l(n){return"string"!=typeof n?n:n.charAt(0).toUpperCase()+n.slice(1)}function nv(n,t){return l(n)===l(t)}function v(){for(var n={},i=arguments.length,r=Array(i),t=0;t<i;t++)r[t]=arguments[t];return r.forEach(function(t){t&&ei(t,function(t,i){if(!ir(t))return void(n[i]=t);ir(n[i])||(n[i]={});n[i]=v(n[i],t)})}),n}function tv(n,t,i){if("number"!=typeof t||t<0||t>i)throw new Error("Failed to execute '"+n+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+i+").");}function ih(n,t,i,r){return tv(n,r,i.length-1),i[r][t]}function re(n){return void 0===n||0===n.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty");},end:function(){throw new Error("This TimeRanges object is empty");}}:{length:n.length,start:ih.bind(null,"start",0,n),end:ih.bind(null,"end",1,n)}}function dt(n,t){return Array.isArray(n)?re(n):void 0===n||void 0===t?re():re([[n,t]])}function rh(n,t){var u=0,f=void 0,r=void 0,i;if(!t)return 0;for(n&&n.length||(n=dt(0,0)),i=0;i<n.length;i++)f=n.start(i),r=n.end(i),r>t&&(r=t),u+=r-f;return u/t}function k(n){if(n instanceof k)return n;"number"==typeof n?this.code=n:"string"==typeof n?this.message=n:ct(n)&&("number"==typeof n.code&&(this.code=n.code),a(this,n));this.message||(this.message=k.defaultMessages[this.code]||"")}function iv(n,t){var i,r=null;try{i=JSON.parse(n,t)}catch(n){r=n}return[r,i]}function uh(n){return void 0!==n&&"function"==typeof n.then}function fh(n){uh(n)&&n.then(null,function(){})}function rv(n){var t=cp.call(n);return"[object Function]"===t||"function"==typeof n&&"[object RegExp]"!==t||"undefined"!=typeof window&&(n===window.setTimeout||n===window.alert||n===window.confirm||n===window.prompt)}function uv(n,t,i){if(!tl(t))throw new TypeError("iterator must be a function");arguments.length<3&&(i=this);"[object Array]"===ap.call(n)?fv(n,t,i):"string"==typeof n?ev(n,t,i):ov(n,t,i)}function fv(n,t,i){for(var r=0,u=n.length;r<u;r++)il.call(n,r)&&t.call(i,n[r],r,n)}function ev(n,t,i){for(var r=0,u=n.length;r<u;r++)t.call(i,n.charAt(r),r,n)}function ov(n,t,i){for(var r in n)il.call(n,r)&&t.call(i,n[r],r,n)}function sv(){for(var t,i,r={},n=0;n<arguments.length;n++){t=arguments[n];for(i in t)wp.call(t,i)&&(r[i]=t[i])}return r}function hv(n){for(var t in n)if(n.hasOwnProperty(t))return!1;return!0}function eh(n,t,i){var r=n;return tl(t)?(i=t,"string"==typeof n&&(r={uri:n})):r=pp(t,{uri:n}),r.callback=i,r}function pt(n,t,i){return t=eh(n,t,i),oh(t)}function oh(n){function w(){4===t.readyState&&setTimeout(l,0)}function b(){var n=void 0;if(n=t.response?t.response:t.responseText||cv(t),y)try{n=JSON.parse(n)}catch(n){}return n}function e(n){return clearTimeout(o),n instanceof Error||(n=new Error(""+(n||"Unknown XMLHttpRequest Error"))),n.statusCode=0,v(n,p)}function l(){var u,i,e;if(!f)return clearTimeout(o),u=n.useXDR&&void 0===t.status?200:1223===t.status?204:t.status,i=p,e=null,0!==u?(i={body:b(),statusCode:u,method:r,headers:{},url:s,rawRequest:t},t.getAllResponseHeaders&&(i.headers=yp(t.getAllResponseHeaders()))):e=new Error("Internal XMLHttpRequest Error"),v(e,i,i.body)}if(void 0===n.callback)throw new Error("callback argument missing");var a=!1,v=function(t,i,r){a||(a=!0,n.callback(t,i,r))},t=n.xhr||null;t||(t=n.cors||n.useXDR?new pt.XDomainRequest:new pt.XMLHttpRequest);var u,f,o,s=t.url=n.uri||n.url,r=t.method=n.method||"GET",h=n.body||n.data,i=t.headers=n.headers||{},c=!!n.sync,y=!1,p={body:void 0,headers:{},statusCode:0,method:r,url:s,rawRequest:t};if("json"in n&&!1!==n.json&&(y=!0,i.accept||i.Accept||(i.Accept="application/json"),"GET"!==r&&"HEAD"!==r&&(i["content-type"]||i["Content-Type"]||(i["Content-Type"]="application/json"),h=JSON.stringify(!0===n.json?h:n.json))),t.onreadystatechange=w,t.onload=l,t.onerror=e,t.onprogress=function(){},t.onabort=function(){f=!0},t.ontimeout=e,t.open(r,s,!c,n.username,n.password),c||(t.withCredentials=!!n.withCredentials),!c&&n.timeout>0&&(o=setTimeout(function(){if(!f){f=!0;t.abort("timeout");var n=new Error("XMLHttpRequest timeout");n.code="ETIMEDOUT";e(n)}},n.timeout)),t.setRequestHeader)for(u in i)i.hasOwnProperty(u)&&t.setRequestHeader(u,i[u]);else if(n.headers&&!hv(n.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in n&&(t.responseType=n.responseType),"beforeSend"in n&&"function"==typeof n.beforeSend&&n.beforeSend(t),t.send(h||null),t}function cv(n){if("document"===n.responseType)return n.responseXML;var t=n.responseXML&&"parsererror"===n.responseXML.documentElement.nodeName;return""!==n.responseType||t?null:n.responseXML}function lv(){}function it(n,t){this.name="ParsingError";this.code=n.code;this.message=t||n.message}function ue(n){function i(n,t,i,r){return 3600*(0|n)+60*(0|t)+(0|i)+(0|r)/1e3}var t=n.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return t?t[3]?i(t[1],t[2],t[3].replace(":",""),t[4]):t[1]>59?i(t[1],t[2],0,t[4]):i(0,t[1],t[2],t[4]):null}function sr(){this.values=wu(null)}function hr(n,t,i,r){var f=r?n.split(r):[n],e,u,o,s;for(e in f)"string"==typeof f[e]&&(u=f[e].split(i),2===u.length&&(o=u[0],s=u[1],t(o,s)))}function av(n,t,i){function u(){var t=ue(n);if(null===t)throw new it(it.Errors.BadTimeStamp,"Malformed timestamp: "+f);return n=n.replace(/^[^\sa-zA-Z-]+/,""),t}function r(){n=n.replace(/^\s+/,"")}var f=n;if(r(),t.startTime=u(),r(),"-->"!==n.substr(0,3))throw new it(it.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+f);n=n.substr(3);r();t.endTime=u();r(),function(n,t){var r=new sr;hr(n,function(n,t){var f,u,e;switch(n){case"region":for(f=i.length-1;f>=0;f--)if(i[f].id===t){r.set(n,i[f].region);break}break;case"vertical":r.alt(n,t,["rl","lr"]);break;case"line":u=t.split(",");e=u[0];r.integer(n,e);r.percent(n,e)&&r.set("snapToLines",!1);r.alt(n,e,["auto"]);2===u.length&&r.alt("lineAlign",u[1],["start","middle","end"]);break;case"position":u=t.split(",");r.percent(n,u[0]);2===u.length&&r.alt("positionAlign",u[1],["start","middle","end"]);break;case"size":r.percent(n,t);break;case"align":r.alt(n,t,["start","middle","end","left","right"])}},/:/,/\s/);t.region=r.get("region",null);t.vertical=r.get("vertical","");t.line=r.get("line","auto");t.lineAlign=r.get("lineAlign","start");t.snapToLines=r.get("snapToLines",!0);t.size=r.get("size",100);t.align=r.get("align","middle");t.position=r.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align);t.positionAlign=r.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}(n,t)}function sh(n,t){function h(n){return kp[n]}for(var f,o,i,r,s=n.document.createElement("div"),u=s,e=[];null!==(r=function(){if(!t)return null;var n=t.match(/^([^<]*)(<[^>]+>?)?/);return function(n){return t=t.substr(n.length),n}(n[1]?n[1]:n[2])}());)if("<"!==r[0])u.appendChild(n.document.createTextNode(function(n){for(;i=n.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)n=n.replace(i[0],h);return n}(r)));else{if("/"===r[1]){e.length&&e[e.length-1]===r.substr(2).replace(">","")&&(e.pop(),u=u.parentNode);continue}if(o=ue(r.substr(1,r.length-2)),o){f=n.document.createProcessingInstruction("timestamp",o);u.appendChild(f);continue}if(i=r.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/),!i)continue;if(!(f=function(t,i){var u=dp[t],r,f;return u?(r=n.document.createElement(u),r.localName=u,f=gp[t],f&&i&&(r[f]=i.trim()),r):null}(i[1],i[3])))continue;if(!function(n,t){return!hl[t.localName]||hl[t.localName]===n.localName}(u,f))continue;i[2]&&(f.className=i[2].substr(1).replace("."," "));e.push(i[1]);u.appendChild(f);u=f}return s}function vv(n){for(var i,t=0;t<cl.length;t++)if(i=cl[t],n>=i[0]&&n<=i[1])return!0;return!1}function yv(n){function u(n,t){for(var i=t.childNodes.length-1;i>=0;i--)n.push(t.childNodes[i])}function i(n){var t,r,f;return!n||!n.length?null:(t=n.pop(),r=t.textContent||t.innerText,r)?(f=r.match(/^.*(\n|\r)/),f?(n.length=0,f[0]):r):"ruby"===t.tagName?i(n):t.childNodes?(u(n,t),i(n)):void 0}var f,e=[],r="",t;if(!n||!n.childNodes)return"ltr";for(u(e,n);r=i(e);)for(t=0;t<r.length;t++)if(f=r.charCodeAt(t),vv(f))return"rtl";return"ltr"}function pv(n){if("number"==typeof n.line&&(n.snapToLines||n.line>=0&&n.line<=100))return n.line;if(!n.track||!n.track.textTrackList||!n.track.textTrackList.mediaElement)return-1;for(var r=n.track,i=r.textTrackList,u=0,t=0;t<i.length&&i[t]!==r;t++)"showing"===i[t].mode&&u++;return-1*++u}function ru(){}function uu(n,t,i){var f=/MSIE\s8\.0/.test(navigator.userAgent),e="rgba(255, 255, 255, 1)",o="rgba(0, 0, 0, 0.8)",r,u;f&&(e="rgb(255, 255, 255)",o="rgb(0, 0, 0)");ru.call(this);this.cue=t;this.cueDiv=sh(n,t.text);r={color:e,backgroundColor:o,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};f||(r.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",r.unicodeBidi="plaintext");this.applyStyles(r,this.cueDiv);this.div=n.document.createElement("div");r={textAlign:"middle"===t.align?"center":t.align,font:i.font,whiteSpace:"pre-line",position:"absolute"};f||(r.direction=yv(this.cueDiv),r.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext");this.applyStyles(r);this.div.appendChild(this.cueDiv);u=0;switch(t.positionAlign){case"start":u=t.position;break;case"middle":u=t.position-t.size/2;break;case"end":u=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(u,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(u,"%"),height:this.formatStyle(t.size,"%")});this.move=function(n){this.applyStyles({top:this.formatStyle(n.top,"px"),bottom:this.formatStyle(n.bottom,"px"),left:this.formatStyle(n.left,"px"),right:this.formatStyle(n.right,"px"),height:this.formatStyle(n.height,"px"),width:this.formatStyle(n.width,"px")})}}function d(n){var i,r,f,u,e=/MSIE\s8\.0/.test(navigator.userAgent),t;n.div&&(r=n.div.offsetHeight,f=n.div.offsetWidth,u=n.div.offsetTop,t=(t=n.div.childNodes)&&(t=t[0])&&t.getClientRects&&t.getClientRects(),n=n.div.getBoundingClientRect(),i=t?Math.max(t[0]&&t[0].height||0,n.height/t.length):0);this.left=n.left;this.right=n.right;this.top=n.top||u;this.height=n.height||r;this.bottom=n.bottom||u+(n.height||r);this.width=n.width||f;this.lineHeight=void 0!==i?i:n.lineHeight;e&&!this.lineHeight&&(this.lineHeight=13)}function wv(n,t,i,r){var s=new d(t),e=t.cue,f=pv(e),u=[],h,l,v;if(e.snapToLines){switch(e.vertical){case"":u=["+y","-y"];h="height";break;case"rl":u=["+x","-x"];h="width";break;case"lr":u=["-x","+x"];h="width"}var c=s.lineHeight,o=c*Math.round(f),a=i[h]+c,y=u[0];Math.abs(o)>a&&(o=o<0?-1:1,o*=Math.ceil(a/c)*c);f<0&&(o+=""===e.vertical?i.height:i.width,u=u.reverse());s.move(y,o)}else{l=s.lineHeight/i.height*100;switch(e.lineAlign){case"middle":f-=l/2;break;case"end":f-=l}switch(e.vertical){case"":t.applyStyles({top:t.formatStyle(f,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(f,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(f,"%")})}u=["+y","-x","+x","-y"];s=new d(t)}v=function(n,t){for(var f,e,o=new d(n),s=1,u=0;u<t.length;u++){for(;n.overlapsOppositeAxis(i,t[u])||n.within(i)&&n.overlapsAny(r);)n.move(t[u]);if(n.within(i))return n;f=n.intersectPercentage(i);s>f&&(e=new d(n),s=f);n=new d(o)}return e||o}(s,u);t.move(v.toCSSCompatValues(i))}function ci(){}function bv(n){return"string"==typeof n&&!!iw[n.toLowerCase()]&&n.toLowerCase()}function fe(n){return"string"==typeof n&&!!rw[n.toLowerCase()]&&n.toLowerCase()}function nt(n){for(var i,r,t=1;t<arguments.length;t++){i=arguments[t];for(r in i)n[r]=i[r]}return n}function hh(n,t,i){var r=this,f=/MSIE\s8\.0/.test(navigator.userAgent),u={};f?r=document.createElement("custom"):u.enumerable=!0;r.hasBeenReset=!1;var e="",o=!1,s=n,h=t,c=i,l=null,a="",v=!0,y="auto",p="start",w=50,b="middle",k=50,d="middle";if(Object.defineProperty(r,"id",nt({},u,{get:function(){return e},set:function(n){e=""+n}})),Object.defineProperty(r,"pauseOnExit",nt({},u,{get:function(){return o},set:function(n){o=!!n}})),Object.defineProperty(r,"startTime",nt({},u,{get:function(){return s},set:function(n){if("number"!=typeof n)throw new TypeError("Start time must be set to a number.");s=n;this.hasBeenReset=!0}})),Object.defineProperty(r,"endTime",nt({},u,{get:function(){return h},set:function(n){if("number"!=typeof n)throw new TypeError("End time must be set to a number.");h=n;this.hasBeenReset=!0}})),Object.defineProperty(r,"text",nt({},u,{get:function(){return c},set:function(n){c=""+n;this.hasBeenReset=!0}})),Object.defineProperty(r,"region",nt({},u,{get:function(){return l},set:function(n){l=n;this.hasBeenReset=!0}})),Object.defineProperty(r,"vertical",nt({},u,{get:function(){return a},set:function(n){var t=bv(n);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");a=t;this.hasBeenReset=!0}})),Object.defineProperty(r,"snapToLines",nt({},u,{get:function(){return v},set:function(n){v=!!n;this.hasBeenReset=!0}})),Object.defineProperty(r,"line",nt({},u,{get:function(){return y},set:function(n){if("number"!=typeof n&&n!==tw)throw new SyntaxError("An invalid number or illegal string was specified.");y=n;this.hasBeenReset=!0}})),Object.defineProperty(r,"lineAlign",nt({},u,{get:function(){return p},set:function(n){var t=fe(n);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");p=t;this.hasBeenReset=!0}})),Object.defineProperty(r,"position",nt({},u,{get:function(){return w},set:function(n){if(n<0||n>100)throw new Error("Position must be between 0 and 100.");w=n;this.hasBeenReset=!0}})),Object.defineProperty(r,"positionAlign",nt({},u,{get:function(){return b},set:function(n){var t=fe(n);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");b=t;this.hasBeenReset=!0}})),Object.defineProperty(r,"size",nt({},u,{get:function(){return k},set:function(n){if(n<0||n>100)throw new Error("Size must be between 0 and 100.");k=n;this.hasBeenReset=!0}})),Object.defineProperty(r,"align",nt({},u,{get:function(){return d},set:function(n){var t=fe(n);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");d=t;this.hasBeenReset=!0}})),r.displayState=void 0,f)return r}function kv(n){return"string"==typeof n&&!!fw[n.toLowerCase()]&&n.toLowerCase()}function cr(n){return"number"==typeof n&&n>=0&&n<=100}function dv(){var n=100,t=3,i=0,r=100,u=0,f=100,e="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return n},set:function(t){if(!cr(t))throw new Error("Width must be between 0 and 100.");n=t}},lines:{enumerable:!0,get:function(){return t},set:function(n){if("number"!=typeof n)throw new TypeError("Lines must be set to a number.");t=n}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(n){if(!cr(n))throw new Error("RegionAnchorX must be between 0 and 100.");r=n}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(n){if(!cr(n))throw new Error("RegionAnchorY must be between 0 and 100.");i=n}},viewportAnchorY:{enumerable:!0,get:function(){return f},set:function(n){if(!cr(n))throw new Error("ViewportAnchorY must be between 0 and 100.");f=n}},viewportAnchorX:{enumerable:!0,get:function(){return u},set:function(n){if(!cr(n))throw new Error("ViewportAnchorX must be between 0 and 100.");u=n}},scroll:{enumerable:!0,get:function(){return e},set:function(n){var t=kv(n);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");e=t}}})}function gv(n,t,i,r){var u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},e=n.textTracks(),f;return u.kind=t,i&&(u.label=i),r&&(u.language=r),u.tech=n,f=new tt.text.TrackClass(u),e.addTrack(f),f}function ny(n,t){ri[n]=ri[n]||[];ri[n].push(t)}function ty(n,t,i){n.setTimeout(function(){return li(t,ri[t.type],i,n)},1)}function iy(n,t){n.forEach(function(n){return n.setTech&&n.setTech(t)})}function ry(n,t,i){return n.reduceRight(ch(i),t[i]())}function uy(n,t,i,r){return t[i](n.reduce(ch(i),r))}function ch(n){return function(t,i){return i[n]?i[n](t):t}}function li(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments[2],r=arguments[3],t=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],f=s[0],e=s.slice(1),o;"string"==typeof f?li(n,ri[f],i,r,t,u):f?(o=f(r),o.setSource(a({},n),function(f,s){if(f)return li(n,e,i,r,t,u);t.push(o);li(s,n.type===s.type?e:ri[s.type],i,r,t,u)})):e.length?li(n,e,i,r,t,u):u?i(n,t):li(n,ri["*"],i,r,t,!0)}function ee(n,t){return"rgba("+parseInt(n[1]+n[1],16)+","+parseInt(n[2]+n[2],16)+","+parseInt(n[3]+n[3],16)+","+t+")"}function oe(n,t,i){try{n.style[t]=i}catch(n){return}}function ai(n){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;n=n<0?0:n;var t=Math.floor(n%60),i=Math.floor(n/60%60),r=Math.floor(n/3600),f=Math.floor(u/60%60),e=Math.floor(u/3600);return(isNaN(n)||n===1/0)&&(r=i=t="-"),r=r>0||e>0?r+":":"",i=((r||f>=10)&&i<10?"0"+i:i)+":",t=t<10?"0"+t:t,r+i+t}function lh(n,t){if(t&&(n=t(n)),n&&"none"!==n)return n}function fy(n,t){return lh(n.options[n.options.selectedIndex].value,t)}function ey(n,t,i){if(t)for(var r=0;r<n.options.length;r++)if(lh(n.options[r].value,i)===t){n.selectedIndex=r;break}}function o(n,i,u){var f=void 0,e,c,s;if("string"==typeof n){if(e=o.getPlayers(),0===n.indexOf("#")&&(n=n.slice(1)),e[n])return i&&h.warn('Player "'+n+'" is already initialised. Options will not be applied.'),u&&e[n].ready(u),e[n];f=ni("#"+n)}else f=n;if(!f||!f.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return f.player||w.players[f.playerId]?f.player||w.players[f.playerId]:(gr(f)&&!r.body.contains(f)&&h.warn("The element supplied is not included in the DOM"),i=i||{},o.hooks("beforesetup").forEach(function(n){var t=n(f,v(i));if(!ct(t)||Array.isArray(t))return void h.error("please return an object in beforesetup hooks");i=v(i,t)}),c=t.getComponent("Player"),s=new c(f,i,u),o.hooks("setup").forEach(function(n){return n(s)}),s)}var ah,vh="6.6.0",fu="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},yr,ii,ut,bc,ft,bi,tt,wu,wr,al,vl,yl,pl,ht,io,wl,ro,ki,uo,fo,bl,eo,kl,bu,dl,gl,ku,oo,so,br,ho,co,du,na,gu,lo,ao,vo,nf,tf,rf,di,gi,yo,ui,po,uf,ff,ef,of,sf,wo,hf,bo,ko,cf,go,ns,ta,ts,is,la,aa,f,kr,nr,wa,ba,dr,yf;ah="undefined"!=typeof window?window:void 0!==fu?fu:"undefined"!=typeof self?self:{};var eu,n=ah,yh={},ph=(Object.freeze||Object)({"default":yh}),oy=ph&&yh||ph,wh=void 0!==fu?fu:"undefined"!=typeof window?window:{};"undefined"!=typeof document?eu=document:(eu=wh["__GLOBAL_DOCUMENT_CACHE@4"])||(eu=wh["__GLOBAL_DOCUMENT_CACHE@4"]=oy);var r=eu,p=n.navigator&&n.navigator.userAgent||"",bh=/AppleWebKit\/([\d.]+)/i.exec(p),sy=bh?parseFloat(bh.pop()):null,se=/iPad/i.test(p),he=/iPhone/i.test(p)&&!se,kh=/iPod/i.test(p),gt=he||se||kh,hy=function(){var n=p.match(/OS (\d+)_/i);return n&&n[1]?n[1]:null}(),lt=/Android/i.test(p),ou=function(){var n=p.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i),t,i;return n?(t=n[1]&&parseFloat(n[1]),i=n[2]&&parseFloat(n[2]),t&&i?parseFloat(n[1]+"."+n[2]):t||null):null}(),dh=lt&&/webkit/i.test(p)&&ou<2.3,gh=lt&&ou<5&&sy<537,nc=/Firefox/i.test(p),ce=/Edge/i.test(p),lr=!ce&&/Chrome/i.test(p),tc=function(){var n=p.match(/Chrome\/(\d+)/);return n&&n[1]?parseFloat(n[1]):null}(),g=/MSIE\s8\.0/.test(p),wt=function(){var t=/MSIE\s(\d+)\.\d/.exec(p),n=t&&parseFloat(t[1]);return!n&&/Trident\/7.0/i.test(p)&&/rv:11.0/.test(p)&&(n=11),n}(),ic=/Safari/i.test(p)&&!lr&&!lt&&!ce,rc=ic||gt,su=vt()&&("ontouchstart"in n||n.DocumentTouch&&n.document instanceof n.DocumentTouch),uc=vt()&&"backgroundSize"in n.document.createElement("video").style,cy=(Object.freeze||Object)({IS_IPAD:se,IS_IPHONE:he,IS_IPOD:kh,IS_IOS:gt,IOS_VERSION:hy,IS_ANDROID:lt,ANDROID_VERSION:ou,IS_OLD_ANDROID:dh,IS_NATIVE_ANDROID:gh,IS_FIREFOX:nc,IS_EDGE:ce,IS_CHROME:lr,CHROME_VERSION:tc,IS_IE8:g,IE_VERSION:wt,IS_SAFARI:ic,IS_ANY_SAFARI:rc,TOUCH_ENABLED:su,BACKGROUND_SIZE_SUPPORTED:uc}),vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},u=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");},e=function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)},i=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t},le=function(n,t){return n.raw=t,n},ly=Object.prototype.toString,fc=function(n){return ct(n)?Object.keys(n):[]},rt=void 0,hu="info",ot=[],cu=function(t,i){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!!wt&&wt<11,u=rt.levels[hu],e=new RegExp("^("+u+")$"),r;("log"!==t&&i.unshift(t.toUpperCase()+":"),ot&&ot.push([].concat(i)),i.unshift("VIDEOJS:"),n.console)&&(r=n.console[t],r||"debug"!==t||(r=n.console.info||n.console.log),r&&u&&e.test(t)&&(f&&(i=i.map(function(n){if(ct(n)||Array.isArray(n))try{return JSON.stringify(n)}catch(t){return String(n)}return String(n)}).join(" ")),r.apply?r[Array.isArray(i)?"apply":"call"](n.console,i):r(i)))};rt=function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];cu("log",i)};rt.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:hu};rt.level=function(n){if("string"==typeof n){if(!rt.levels.hasOwnProperty(n))throw new Error('"'+n+'" in not a valid log level');hu=n}return hu};rt.history=function(){return ot?[].concat(ot):[]};rt.history.clear=function(){ot&&(ot.length=0)};rt.history.disable=function(){null!==ot&&(ot.length=0,ot=null)};rt.history.enable=function(){null===ot&&(ot=[])};rt.error=function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return cu("error",i)};rt.warn=function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return cu("warn",i)};rt.debug=function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return cu("debug",i)};var h=rt,ae=function(n){for(var i="",t=0;t<arguments.length;t++)i+=da(n[t])+(arguments[t+1]||"");return i},ay=le(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]),ni=hs("querySelector"),ec=hs("querySelectorAll"),oc=(Object.freeze||Object)({isReal:vt,isEl:gr,isInFrame:ss,createEl:y,textContent:rr,prependTo:nu,hasClass:oi,addClass:bt,removeClass:ur,toggleClass:cs,setAttributes:ls,getAttributes:yt,getAttribute:as,setAttribute:tu,removeAttribute:bf,blockTextSelection:vs,unblockTextSelection:ys,getBoundingClientRect:fr,findPosition:ps,getPointerPosition:kf,isTextNode:ws,emptyEl:df,normalizeContent:bs,appendContent:gf,insertContent:ks,isSingleLeftClick:si,$:ni,$$:ec}),vy=1,ar={},ti="vdata"+(new Date).getTime(),sc=!1;!function(){try{var t=Object.defineProperty({},"passive",{get:function(){sc=!0}});n.addEventListener("test",null,t);n.removeEventListener("test",null,t)}catch(t){}}();var yy=["touchstart","touchmove"],py=(Object.freeze||Object)({fixEvent:iu,on:st,off:et,trigger:hi,one:or}),ve=!1,hc=void 0,wy=function(){var e,c,o,l,s,a,h,v,t,y;if(vt()){var i=r.getElementsByTagName("video"),u=r.getElementsByTagName("audio"),f=r.getElementsByTagName("video-js"),n=[];if(i&&i.length>0)for(e=0,c=i.length;e<c;e++)n.push(i[e]);if(u&&u.length>0)for(o=0,l=u.length;o<l;o++)n.push(u[o]);if(f&&f.length>0)for(s=0,a=f.length;s<a;s++)n.push(f[s]);if(n&&n.length>0)for(h=0,v=n.length;h<v;h++){if(t=n[h],!t||!t.getAttribute){te(1);break}void 0===t.player&&(y=t.getAttribute("data-setup"),null!==y&&hc(t))}else ve||te(1)}};vt()&&"complete"===r.readyState?ve=!0:or(n,"load",function(){ve=!0});var cc=function(n){var t=r.createElement("style");return t.className=n,t},lc=function(n,t){n.styleSheet?n.styleSheet.cssText=t:n.textContent=t},s=function(n,t,i){t.guid||(t.guid=kt());var r=function(){return t.apply(n,arguments)};return r.guid=i?i+"_"+t.guid:t.guid,r},yi=function(n,t){var i=Date.now();return function(){var r=Date.now();r-i>=t&&(n.apply(void 0,arguments),i=r)}},b=function(){};b.prototype.allowedEvents_={};b.prototype.on=function(n,t){var i=this.addEventListener;this.addEventListener=function(){};st(this,n,t);this.addEventListener=i};b.prototype.addEventListener=b.prototype.on;b.prototype.off=function(n,t){et(this,n,t)};b.prototype.removeEventListener=b.prototype.off;b.prototype.one=function(n,t){var i=this.addEventListener;this.addEventListener=function(){};or(this,n,t);this.addEventListener=i};b.prototype.trigger=function(n){var t=n.type||n;"string"==typeof n&&(n={type:t});n=iu(n);this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](n);hi(this,n)};b.prototype.dispatchEvent=b.prototype.trigger;var lu=function(n){return n instanceof b||!!n.eventBusEl_&&["on","one","off","trigger"].every(function(t){return"function"==typeof n[t]})},ac=function(n){return"string"==typeof n&&/\S/.test(n)||Array.isArray(n)&&!!n.length},ye=function(n){if(!n.nodeName&&!lu(n))throw new Error("Invalid target; must be a DOM node or evented object.");},vc=function(n){if(!ac(n))throw new Error("Invalid event type; must be a non-empty string or array.");},yc=function(n){if("function"!=typeof n)throw new Error("Invalid listener; must be a function.");},pc=function(n,t){var f=t.length<3||t[0]===n||t[0]===n.eventBusEl_,r=void 0,u=void 0,i=void 0;return f?(r=n.eventBusEl_,t.length>=3&&t.shift(),u=t[0],i=t[1]):(r=t[0],u=t[1],i=t[2]),ye(r),vc(u),yc(i),i=s(n,i),{isTargetingSelf:f,target:r,type:u,listener:i}},vr=function(n,t,i,r){ye(n);n.nodeName?py[t](n,i,r):n[t](i,r)},by={on:function(){for(var r,f,e=this,o=arguments.length,s=Array(o),n=0;n<o;n++)s[n]=arguments[n];var t=pc(this,s),c=t.isTargetingSelf,u=t.target,h=t.type,i=t.listener;(vr(u,"on",h,i),c)||(r=function(){return e.off(u,h,i)},r.guid=i.guid,f=function(){return e.off("dispose",r)},f.guid=i.guid,vr(this,"on","dispose",r),vr(u,"on","dispose",f))},one:function(){for(var e,s=this,i=arguments.length,o=Array(i),n=0;n<i;n++)o[n]=arguments[n];var t=pc(this,o),h=t.isTargetingSelf,r=t.target,u=t.type,f=t.listener;h?vr(r,"one",u,f):(e=function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];s.off(r,u,i);f.apply(null,e)},e.guid=f.guid,vr(r,"one",u,e))},off:function(n,t,i){if(!n||ac(n))et(this.eventBusEl_,n,t);else{var r=n,u=t;ye(r);vc(u);yc(i);i=s(this,i);this.off("dispose",i);r.nodeName?(et(r,u,i),et(r,"dispose",i)):lu(r)&&(r.off(u,i),r.off("dispose",i))}},trigger:function(n,t){return hi(this.eventBusEl_,n,t)}},ky={state:{},setState:function(n){var i=this,t;return"function"==typeof n&&(n=n()),t=void 0,ei(n,function(n,r){i.state[r]!==n&&(t=t||{},t[r]={from:i.state[r],to:n});i.state[r]=n}),t&&lu(this)&&this.trigger({changes:t,type:"statechanged"}),t}},t=function(){function t(n,i,r){if(u(this,t),this.player_=!n&&this.play?n=this:n,this.options_=v({},this.options_),i=this.options_=v(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){var f=n&&n.id&&n.id()||"no_player";this.id_=f+"_component_"+kt()}this.name_=i.name||null;i.el?this.el_=i.el:!1!==i.createEl&&(this.el_=this.createEl());!1!==i.evented&&ie(this,{eventBusKey:this.el_?"el_":null});th(this,this.constructor.defaultState);this.children_=[];this.childIndex_={};this.childNameIndex_={};!1!==i.initChildren&&this.initChildren();this.ready(r);!1!==i.reportTouchActivity&&this.enableTouchActivity()}return t.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var n=this.children_.length-1;n>=0;n--)this.children_[n].dispose&&this.children_[n].dispose();this.children_=null;this.childIndex_=null;this.childNameIndex_=null;this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),gs(this.el_),this.el_=null);this.player_=null},t.prototype.player=function(){return this.player_},t.prototype.options=function(n){return h.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),n?(this.options_=v(this.options_,n),this.options_):this.options_},t.prototype.el=function(){return this.el_},t.prototype.createEl=function(n,t,i){return y(n,t,i)},t.prototype.localize=function(n,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,u=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),f=r&&r[u],s=u&&u.split("-")[0],e=r&&r[s],i=o;return f&&f[n]?i=f[n]:e&&e[n]&&(i=e[n]),t&&(i=i.replace(/\{(\d+)\}/g,function(n,i){var r=t[i-1],u=r;return void 0===r&&(u=n),u})),i},t.prototype.contentEl=function(){return this.contentEl_||this.el_},t.prototype.id=function(){return this.id_},t.prototype.name=function(){return this.name_},t.prototype.children=function(){return this.children_},t.prototype.getChildById=function(n){return this.childIndex_[n]},t.prototype.getChild=function(n){if(n)return n=l(n),this.childNameIndex_[n]},t.prototype.addChild=function(n){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length,i=void 0,r=void 0,e,u,s,h;if("string"==typeof n){if(r=l(n),e=f.componentClass||r,f.name=r,u=t.getComponent(e),!u)throw new Error("Component "+e+" does not exist");if("function"!=typeof u)return null;i=new u(this.player_||this,f)}else i=n;return(this.children_.splice(o,0,i),"function"==typeof i.id&&(this.childIndex_[i.id()]=i),r=r||i.name&&l(i.name()),r&&(this.childNameIndex_[r]=i),"function"==typeof i.el&&i.el())&&(s=this.contentEl().children,h=s[o]||null,this.contentEl().insertBefore(i.el(),h)),i},t.prototype.removeChild=function(n){var i,t,r;if("string"==typeof n&&(n=this.getChild(n)),n&&this.children_){for(i=!1,t=this.children_.length-1;t>=0;t--)if(this.children_[t]===n){i=!0;this.children_.splice(t,1);break}i&&(this.childIndex_[n.id()]=null,this.childNameIndex_[n.name()]=null,r=n.el(),r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(n.el()))}},t.prototype.initChildren=function(){var i=this,n=this.options_.children;if(n){var u=this.options_,f=function(n){var r=n.name,t=n.opts,f;(void 0!==u[r]&&(t=u[r]),!1!==t)&&(!0===t&&(t={}),t.playerOptions=i.options_.playerOptions,f=i.addChild(r,t),f&&(i[r]=f))},r=void 0,e=t.getComponent("Tech");r=Array.isArray(n)?n:Object.keys(n);r.concat(Object.keys(this.options_).filter(function(n){return!r.some(function(t){return"string"==typeof t?n===t:n===t.name})})).map(function(t){var r=void 0,u=void 0;return"string"==typeof t?(r=t,u=n[r]||i.options_[r]||{}):(r=t.name,u=t),{name:r,opts:u}}).filter(function(n){var i=t.getComponent(n.opts.componentClass||l(n.name));return i&&!e.isTech(i)}).forEach(f)}},t.prototype.buildCSSClass=function(){return""},t.prototype.ready=function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n)return this.isReady_?void(t?n.call(this):this.setTimeout(n,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(n))},t.prototype.triggerReady=function(){this.isReady_=!0;this.setTimeout(function(){var n=this.readyQueue_;this.readyQueue_=[];n&&n.length>0&&n.forEach(function(n){n.call(this)},this);this.trigger("ready")},1)},t.prototype.$=function(n,t){return ni(n,t||this.contentEl())},t.prototype.$$=function(n,t){return ec(n,t||this.contentEl())},t.prototype.hasClass=function(n){return oi(this.el_,n)},t.prototype.addClass=function(n){bt(this.el_,n)},t.prototype.removeClass=function(n){ur(this.el_,n)},t.prototype.toggleClass=function(n,t){cs(this.el_,n,t)},t.prototype.show=function(){this.removeClass("vjs-hidden")},t.prototype.hide=function(){this.addClass("vjs-hidden")},t.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},t.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.prototype.getAttribute=function(n){return as(this.el_,n)},t.prototype.setAttribute=function(n,t){tu(this.el_,n,t)},t.prototype.removeAttribute=function(n){bf(this.el_,n)},t.prototype.width=function(n,t){return this.dimension("width",n,t)},t.prototype.height=function(n,t){return this.dimension("height",n,t)},t.prototype.dimensions=function(n,t){this.width(n,!0);this.height(t)},t.prototype.dimension=function(n,t,i){if(void 0!==t)return null!==t&&t===t||(t=0),this.el_.style[n]=-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?t:"auto"===t?"":t+"px",void(i||this.trigger("componentresize"));if(!this.el_)return 0;var r=this.el_.style[n],u=r.indexOf("px");return-1!==u?parseInt(r.slice(0,u),10):parseInt(this.el_["offset"+l(n)],10)},t.prototype.currentDimension=function(t){var i=0,r,u;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");return"function"==typeof n.getComputedStyle&&(r=n.getComputedStyle(this.el_),i=r.getPropertyValue(t)||r[t]),0===(i=parseFloat(i))&&(u="offset"+l(t),i=this.el_[u]),i},t.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.prototype.currentWidth=function(){return this.currentDimension("width")},t.prototype.currentHeight=function(){return this.currentDimension("height")},t.prototype.focus=function(){this.el_.focus()},t.prototype.blur=function(){this.el_.blur()},t.prototype.emitTapEvents=function(){var r=0,n=null,t=void 0,i;this.on("touchstart",function(i){1===i.touches.length&&(n={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},r=(new Date).getTime(),t=!0)});this.on("touchmove",function(i){if(i.touches.length>1)t=!1;else if(n){var r=i.touches[0].pageX-n.pageX,u=i.touches[0].pageY-n.pageY,f=Math.sqrt(r*r+u*u);f>10&&(t=!1)}});i=function(){t=!1};this.on("touchleave",i);this.on("touchcancel",i);this.on("touchend",function(i){(n=null,!0===t)&&(new Date).getTime()-r<200&&(i.preventDefault(),this.trigger("tap"))})},t.prototype.enableTouchActivity=function(){var n,t,i;if(this.player()&&this.player().reportUserActivity){n=s(this.player(),this.player().reportUserActivity);t=void 0;this.on("touchstart",function(){n();this.clearInterval(t);t=this.setInterval(n,250)});i=function(){n();this.clearInterval(t)};this.on("touchmove",n);this.on("touchend",i);this.on("touchcancel",i)}},t.prototype.setTimeout=function(t,i){var f=this,r,u;return t=s(this,t),r=n.setTimeout(t,i),u=function(){return f.clearTimeout(r)},u.guid="vjs-timeout-"+r,this.on("dispose",u),r},t.prototype.clearTimeout=function(t){n.clearTimeout(t);var i=function(){};return i.guid="vjs-timeout-"+t,this.off("dispose",i),t},t.prototype.setInterval=function(t,i){var f=this,r,u;return t=s(this,t),r=n.setInterval(t,i),u=function(){return f.clearInterval(r)},u.guid="vjs-interval-"+r,this.on("dispose",u),r},t.prototype.clearInterval=function(t){n.clearInterval(t);var i=function(){};return i.guid="vjs-interval-"+t,this.off("dispose",i),t},t.prototype.requestAnimationFrame=function(t){var u=this,i,r;return this.supportsRaf_?(t=s(this,t),i=n.requestAnimationFrame(t),r=function(){return u.cancelAnimationFrame(i)},r.guid="vjs-raf-"+i,this.on("dispose",r),i):this.setTimeout(t,1e3/60)},t.prototype.cancelAnimationFrame=function(t){if(this.supportsRaf_){n.cancelAnimationFrame(t);var i=function(){};return i.guid="vjs-raf-"+t,this.off("dispose",i),t}return this.clearTimeout(t)},t.registerComponent=function(n,i){var f,r,u,e;if("string"!=typeof n||!n)throw new Error('Illegal component name, "'+n+'"; must be a non-empty string.');var o=t.getComponent("Tech"),s=o&&o.isTech(i),h=t===i||t.prototype.isPrototypeOf(i.prototype);if(s||!h){f=void 0;throw f=s?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+n+'"; '+f+".");}if(n=l(n),t.components_||(t.components_={}),r=t.getComponent("Player"),"Player"===n&&r&&r.players&&(u=r.players,e=Object.keys(u),u&&e.length>0&&e.map(function(n){return u[n]}).every(Boolean)))throw new Error("Can not register Player component after player has been created.");return t.components_[n]=i,i},t.getComponent=function(n){if(n)return n=l(n),t.components_&&t.components_[n]?t.components_[n]:void 0},t}();t.prototype.supportsRaf_="function"==typeof n.requestAnimationFrame&&"function"==typeof n.cancelAnimationFrame;t.registerComponent("Component",t);for(var pe={},au=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],dy=au[0],vu=void 0,yu=0;yu<au.length;yu++)if(au[yu][1]in r){vu=au[yu];break}if(vu)for(yr=0;yr<vu.length;yr++)pe[dy[yr]]=vu[yr];for(k.prototype.code=0,k.prototype.message="",k.prototype.status=null,k.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],k.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."},ii=0;ii<k.errorTypes.length;ii++)k[k.errorTypes[ii]]=ii,k.prototype[k.errorTypes[ii]]=ii;var gy=iv,we=function(n){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,i){return n[i]&&(t[i]=n[i]),t},{cues:n.cues&&Array.prototype.map.call(n.cues,function(n){return{startTime:n.startTime,endTime:n.endTime,text:n.text,id:n.id}})})},np=function(n){var t=n.$$("track"),i=Array.prototype.map.call(t,function(n){return n.track});return Array.prototype.map.call(t,function(n){var t=we(n.track);return n.src&&(t.src=n.src),t}).concat(Array.prototype.filter.call(n.textTracks(),function(n){return-1===i.indexOf(n)}).map(we))},tp=function(n,t){return n.forEach(function(n){var i=t.addRemoteTextTrack(n).track;!n.src&&n.cues&&n.cues.forEach(function(n){return i.addCue(n)})}),t.textTracks()},wc={textTracksToJson:np,jsonToTextTracks:tp,trackToJson_:we},be="vjs-modal-dialog",pi=function(t){function f(n,r){u(this,f);var e=i(this,t.call(this,n,r));return e.opened_=e.hasBeenOpened_=e.hasBeenFilled_=!1,e.closeable(!e.options_.uncloseable),e.content(e.options_.content),e.contentEl_=y("div",{className:be+"-content"},{role:"document"}),e.descEl_=y("p",{className:be+"-description vjs-control-text",id:e.el().getAttribute("aria-describedby")}),rr(e.descEl_,e.description()),e.el_.appendChild(e.descEl_),e.el_.appendChild(e.contentEl_),e}return e(f,t),f.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},f.prototype.dispose=function(){this.contentEl_=null;this.descEl_=null;this.previouslyActiveEl_=null;t.prototype.dispose.call(this)},f.prototype.buildCSSClass=function(){return be+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},f.prototype.handleKeyPress=function(n){27===n.which&&this.closeable()&&this.close()},f.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},f.prototype.description=function(){var n=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(n+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),n},f.prototype.open=function(){if(!this.opened_){var n=this.player();this.trigger("beforemodalopen");this.opened_=!0;(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill();this.wasPlaying_=!n.paused();this.options_.pauseOnOpen&&this.wasPlaying_&&n.pause();this.closeable()&&this.on(this.el_.ownerDocument,"keydown",s(this,this.handleKeyPress));this.hadControls_=n.controls();n.controls(!1);this.show();this.conditionalFocus_();this.el().setAttribute("aria-hidden","false");this.trigger("modalopen");this.hasBeenOpened_=!0}},f.prototype.opened=function(n){return"boolean"==typeof n&&this[n?"open":"close"](),this.opened_},f.prototype.close=function(){if(this.opened_){var n=this.player();this.trigger("beforemodalclose");this.opened_=!1;this.wasPlaying_&&this.options_.pauseOnOpen&&n.play();this.closeable()&&this.off(this.el_.ownerDocument,"keydown",s(this,this.handleKeyPress));this.hadControls_&&n.controls(!0);this.hide();this.el().setAttribute("aria-hidden","true");this.trigger("modalclose");this.conditionalBlur_();this.options_.temporary&&this.dispose()}},f.prototype.closeable=function(n){var i,t,r;return"boolean"==typeof n&&(i=this.closeable_=!!n,t=this.getChild("closeButton"),i&&!t&&(r=this.contentEl_,this.contentEl_=this.el_,t=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(t,"close",this.close)),!i&&t&&(this.off(t,"close",this.close),this.removeChild(t),t.dispose())),this.closeable_},f.prototype.fill=function(){this.fillWith(this.content())},f.prototype.fillWith=function(n){var t=this.contentEl(),i=t.parentNode,u=t.nextSibling,r;this.trigger("beforemodalfill");this.hasBeenFilled_=!0;i.removeChild(t);this.empty();ks(t,n);this.trigger("modalfill");u?i.insertBefore(t,u):i.appendChild(t);r=this.getChild("closeButton");r&&i.appendChild(r.el_)},f.prototype.empty=function(){this.trigger("beforemodalempty");df(this.contentEl());this.trigger("modalempty")},f.prototype.content=function(n){return void 0!==n&&(this.content_=n),this.content_},f.prototype.conditionalFocus_=function(){var n=r.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null;(t.contains(n)||t===n)&&(this.previouslyActiveEl_=n,this.focus(),this.on(r,"keydown",this.handleKeyDown))},f.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null);this.off(r,"keydown",this.handleKeyDown)},f.prototype.handleKeyDown=function(n){if(9===n.which){for(var t=this.focusableEls_(),f=this.el_.querySelector(":focus"),i=void 0,u=0;u<t.length;u++)if(f===t[u]){i=u;break}r.activeElement===this.el_&&(i=0);n.shiftKey&&0===i?(t[t.length-1].focus(),n.preventDefault()):n.shiftKey||i!==t.length-1||(t[0].focus(),n.preventDefault())}},f.prototype.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,function(t){return(t instanceof n.HTMLAnchorElement||t instanceof n.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof n.HTMLInputElement||t instanceof n.HTMLSelectElement||t instanceof n.HTMLTextAreaElement||t instanceof n.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof n.HTMLIFrameElement||t instanceof n.HTMLObjectElement||t instanceof n.HTMLEmbedElement||t.hasAttribute("tabindex")&&-1!==t.getAttribute("tabindex")||t.hasAttribute("contenteditable")})},f}(t);pi.prototype.options_={pauseOnOpen:!0,temporary:!0};t.registerComponent("ModalDialog",pi);ut=function(n){function t(){var h,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s,e,o;if(u(this,t),s=i(this,n.call(this)),!f&&(f=s,g)){f=r.createElement("custom");for(e in t.prototype)"constructor"!==e&&(f[e]=t.prototype[e])}for(f.tracks_=[],Object.defineProperty(f,"length",{get:function(){return this.tracks_.length}}),o=0;o<c.length;o++)f.addTrack(c[o]);return h=f,i(s,h)}return e(t,n),t.prototype.addTrack=function(n){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}});-1===this.tracks_.indexOf(n)&&(this.tracks_.push(n),this.trigger({track:n,type:"addtrack"}))},t.prototype.removeTrack=function(n){for(var t=void 0,i=0,r=this.length;i<r;i++)if(this[i]===n){t=this[i];t.off&&t.off();this.tracks_.splice(i,1);break}t&&this.trigger({track:t,type:"removetrack"})},t.prototype.getTrackById=function(n){for(var i,r=null,t=0,u=this.length;t<u;t++)if(i=this[t],i.id===n){r=i;break}return r},t}(b);ut.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(bc in ut.prototype.allowedEvents_)ut.prototype["on"+bc]=null;var ke=function(n,t){for(var i=0;i<n.length;i++)Object.keys(n[i]).length&&t.id!==n[i].id&&(n[i].enabled=!1)},ip=function(n){function t(){var c,l,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],f,o,s,h;for(u(this,t),f=void 0,o=e.length-1;o>=0;o--)if(e[o].enabled){ke(e,e[o]);break}if(g){f=r.createElement("custom");for(s in ut.prototype)"constructor"!==s&&(f[s]=ut.prototype[s]);for(h in t.prototype)"constructor"!==h&&(f[h]=t.prototype[h])}return f=c=i(this,n.call(this,e,f)),f.changing_=!1,l=f,i(c,l)}return e(t,n),t.prototype.addTrack=function(t){var i=this;t.enabled&&ke(this,t);n.prototype.addTrack.call(this,t);t.addEventListener&&t.addEventListener("enabledchange",function(){i.changing_||(i.changing_=!0,ke(i,t),i.changing_=!1,i.trigger("change"))})},t}(ut),de=function(n,t){for(var i=0;i<n.length;i++)Object.keys(n[i]).length&&t.id!==n[i].id&&(n[i].selected=!1)},rp=function(n){function t(){var c,l,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],f,o,s,h;for(u(this,t),f=void 0,o=e.length-1;o>=0;o--)if(e[o].selected){de(e,e[o]);break}if(g){f=r.createElement("custom");for(s in ut.prototype)"constructor"!==s&&(f[s]=ut.prototype[s]);for(h in t.prototype)"constructor"!==h&&(f[h]=t.prototype[h])}return f=c=i(this,n.call(this,e,f)),f.changing_=!1,Object.defineProperty(f,"selectedIndex",{get:function(){for(var n=0;n<this.length;n++)if(this[n].selected)return n;return-1},set:function(){}}),l=f,i(c,l)}return e(t,n),t.prototype.addTrack=function(t){var i=this;t.selected&&de(this,t);n.prototype.addTrack.call(this,t);t.addEventListener&&t.addEventListener("selectedchange",function(){i.changing_||(i.changing_=!0,de(i,t),i.changing_=!1,i.trigger("change"))})},t}(ut),kc=function(n){function t(){var s,h,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],f,e,o;if(u(this,t),f=void 0,g){f=r.createElement("custom");for(e in ut.prototype)"constructor"!==e&&(f[e]=ut.prototype[e]);for(o in t.prototype)"constructor"!==o&&(f[o]=t.prototype[o])}return f=s=i(this,n.call(this,c,f)),h=f,i(s,h)}return e(t,n),t.prototype.addTrack=function(t){n.prototype.addTrack.call(this,t);t.addEventListener("modechange",s(this,function(){this.trigger("change")}));-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",s(this,function(){this.trigger("selectedlanguagechange")}))},t}(ut),up=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t,i,f,o;if(u(this,n),t=this,g){t=r.createElement("custom");for(i in n.prototype)"constructor"!==i&&(t[i]=n.prototype[i])}for(t.trackElements_=[],Object.defineProperty(t,"length",{get:function(){return this.trackElements_.length}}),f=0,o=e.length;f<o;f++)t.addTrackElement_(e[f]);if(g)return t}return n.prototype.addTrackElement_=function(n){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}});-1===this.trackElements_.indexOf(n)&&this.trackElements_.push(n)},n.prototype.getTrackElementByTrack_=function(n){for(var i=void 0,t=0,r=this.trackElements_.length;t<r;t++)if(n===this.trackElements_[t].track){i=this.trackElements_[t];break}return i},n.prototype.removeTrackElement_=function(n){for(var t=0,i=this.trackElements_.length;t<i;t++)if(n===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},n}(),dc=function(){function n(t){var i,f;if(u(this,n),i=this,g){i=r.createElement("custom");for(f in n.prototype)"constructor"!==f&&(i[f]=n.prototype[f])}if(n.prototype.setCues_.call(i,t),Object.defineProperty(i,"length",{get:function(){return this.length_}}),g)return i}return n.prototype.setCues_=function(n){var i=this.length||0,t=0,r=n.length,u;if(this.cues_=n,this.length_=n.length,u=function(n){""+n in this||Object.defineProperty(this,""+n,{get:function(){return this.cues_[n]}})},i<r)for(t=i;t<r;t++)u.call(this,t)},n.prototype.getCueById=function(n){for(var i,r=null,t=0,u=this.length;t<u;t++)if(i=this[t],i.id===n){r=i;break}return r},n}(),fp={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},ep={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},op={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},gc={disabled:"disabled",hidden:"hidden",showing:"showing"},ge=function(n){function t(){var c,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s,f,o,h,l;if(u(this,t),s=i(this,n.call(this)),f=s,g){f=r.createElement("custom");for(o in t.prototype)"constructor"!==o&&(f[o]=t.prototype[o])}h={id:e.id||"vjs_track_"+kt(),kind:e.kind||"",label:e.label||"",language:e.language||""};for(l in h)!function(n){Object.defineProperty(f,n,{get:function(){return h[n]},set:function(){}})}(l);return c=f,i(s,c)}return e(t,n),t}(b),no=function(t){var o=["protocol","hostname","port","pathname","search","hash","host"],f=r.createElement("a"),s,u,i,e;for(f.href=t,s=""===f.host&&"file:"!==f.protocol,u=void 0,s&&(u=r.createElement("div"),u.innerHTML='<a href="'+t+'"><\/a>',f=u.firstChild,u.setAttribute("style","display:none; position:absolute;"),r.body.appendChild(u)),i={},e=0;e<o.length;e++)i[o[e]]=f[o[e]];return"http:"===i.protocol&&(i.host=i.host.replace(/:80$/,"")),"https:"===i.protocol&&(i.host=i.host.replace(/:443$/,"")),i.protocol||(i.protocol=n.location.protocol),s&&r.body.removeChild(u),i},sp=function(n){if(!n.match(/^https?:\/\//)){var t=r.createElement("div");t.innerHTML='<a href="'+n+'">x<\/a>';n=t.firstChild.href}return n},nl=function(n){if("string"==typeof n){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(n);if(t)return t.pop().toLowerCase()}return""},pu=function(t){var i=n.location,r=no(t);return(":"===r.protocol?i.protocol:r.protocol)+r.host!==i.protocol+i.host},hp=(Object.freeze||Object)({parseUrl:no,getAbsoluteURL:sp,getFileExtension:nl,isCrossOrigin:pu}),tl=rv,cp=Object.prototype.toString,to=pf(function(n,t){function i(n){return n.replace(/^\s*|\s*$/g,"")}t=n.exports=i;t.left=function(n){return n.replace(/^\s*/,"")};t.right=function(n){return n.replace(/\s*$/,"")}}),lp=uv,ap=Object.prototype.toString,il=Object.prototype.hasOwnProperty,vp=function(n){return"[object Array]"===Object.prototype.toString.call(n)},yp=function(n){if(!n)return{};var t={};return lp(to(n).split("\n"),function(n){var u=n.indexOf(":"),i=to(n.slice(0,u)).toLowerCase(),r=to(n.slice(u+1));void 0===t[i]?t[i]=r:vp(t[i])?t[i].push(r):t[i]=[t[i],r]}),t},pp=sv,wp=Object.prototype.hasOwnProperty,rl=pt;pt.XMLHttpRequest=n.XMLHttpRequest||lv;pt.XDomainRequest="withCredentials"in new pt.XMLHttpRequest?pt.XMLHttpRequest:n.XDomainRequest,function(n,t){for(var i=0;i<n.length;i++)t(n[i])}(["get","put","post","patch","head","delete"],function(n){pt["delete"===n?"del":n]=function(t,i,r){return i=eh(t,i,r),i.method=n.toUpperCase(),oh(i)}});var ul=function(t,i){var r=new n.WebVTT.Parser(n,n.vttjs,n.WebVTT.StringDecoder()),u=[];r.oncue=function(n){i.addCue(n)};r.onparsingerror=function(n){u.push(n)};r.onflush=function(){i.trigger({type:"loadeddata",target:i})};r.parse(t);u.length>0&&(n.console&&n.console.groupCollapsed&&n.console.groupCollapsed("Text Track parsing errors for "+i.src),u.forEach(function(n){return h.error(n)}),n.console&&n.console.groupEnd&&n.console.groupEnd());r.flush()},bp=function(t,i){var r={uri:t},u=pu(t);u&&(r.cors=u);rl(r,s(this,function(t,r,u){if(t)return h.error(t,r);if(i.loaded_=!0,"function"!=typeof n.WebVTT){if(i.tech_){var f=function(){return ul(u,i)};i.tech_.on("vttjsloaded",f);i.tech_.on("vttjserror",function(){h.error("vttjs failed to load, stopping trying to process "+i.src);i.tech_.off("vttjsloaded",f)})}}else ul(u,i)}))},pr=function(t){function r(){var a,y,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n,c;if(u(this,r),!e.tech)throw new Error("A tech was not provided.");var f=v(e,{kind:op[e.kind]||"subtitles",language:e.language||e.srclang||""}),o=gc[f.mode]||"disabled",w=f.default;if("metadata"!==f.kind&&"chapters"!==f.kind||(o="hidden"),n=a=i(this,t.call(this,f)),n.tech_=f.tech,g)for(c in r.prototype)"constructor"!==c&&(n[c]=r.prototype[c]);n.cues_=[];n.activeCues_=[];var b=new dc(n.cues_),l=new dc(n.activeCues_),h=!1,p=s(n,function(){this.activeCues;h&&(this.trigger("cuechange"),h=!1)});return"disabled"!==o&&n.tech_.ready(function(){n.tech_.on("timeupdate",p)},!0),Object.defineProperty(n,"default",{get:function(){return w},set:function(){}}),Object.defineProperty(n,"mode",{get:function(){return o},set:function(n){var t=this;gc[n]&&(o=n,"showing"===o&&this.tech_.ready(function(){t.tech_.on("timeupdate",p)},!0),this.trigger("modechange"))}}),Object.defineProperty(n,"cues",{get:function(){return this.loaded_?b:null},set:function(){}}),Object.defineProperty(n,"activeCues",{get:function(){var n,r;if(!this.loaded_)return null;if(0===this.cues.length)return l;for(var i=this.tech_.currentTime(),t=[],u=0,f=this.cues.length;u<f;u++)n=this.cues[u],n.startTime<=i&&n.endTime>=i?t.push(n):n.startTime===n.endTime&&n.startTime<=i&&n.startTime+.5>=i&&t.push(n);if(h=!1,t.length!==this.activeCues_.length)h=!0;else for(r=0;r<t.length;r++)-1===this.activeCues_.indexOf(t[r])&&(h=!0);return this.activeCues_=t,l.setCues_(this.activeCues_),l},set:function(){}}),f.src?(n.src=f.src,bp(f.src,n)):n.loaded_=!0,y=n,i(a,y)}return e(r,t),r.prototype.addCue=function(t){var i=t,u,f,r;if(n.vttjs&&!(t instanceof n.vttjs.VTTCue)){i=new n.vttjs.VTTCue(t.startTime,t.endTime,t.text);for(u in t)u in i||(i[u]=t[u]);i.id=t.id;i.originalCue_=t}for(f=this.tech_.textTracks(),r=0;r<f.length;r++)f[r]!==this&&f[r].removeCue(i);this.cues_.push(i);this.cues.setCues_(this.cues_)},r.prototype.removeCue=function(n){for(var i,t=this.cues_.length;t--;)if(i=this.cues_[t],i===n||i.originalCue_&&i.originalCue_===n){this.cues_.splice(t,1);this.cues.setCues_(this.cues_);break}},r}(ge);pr.prototype.allowedEvents_={cuechange:"cuechange"};var fl=function(n){function t(){var s,h,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f;u(this,t);var e=v(c,{kind:ep[c.kind]||""}),r=s=i(this,n.call(this,e)),o=!1;if(g)for(f in t.prototype)"constructor"!==f&&(r[f]=t.prototype[f]);return Object.defineProperty(r,"enabled",{get:function(){return o},set:function(n){"boolean"==typeof n&&n!==o&&(o=n,this.trigger("enabledchange"))}}),e.enabled&&(r.enabled=e.enabled),r.loaded_=!0,h=r,i(s,h)}return e(t,n),t}(ge),el=function(n){function t(){var s,h,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f;u(this,t);var e=v(c,{kind:fp[c.kind]||""}),r=s=i(this,n.call(this,e)),o=!1;if(g)for(f in t.prototype)"constructor"!==f&&(r[f]=t.prototype[f]);return Object.defineProperty(r,"selected",{get:function(){return o},set:function(n){"boolean"==typeof n&&n!==o&&(o=n,this.trigger("selectedchange"))}}),e.selected&&(r.selected=e.selected),h=r,i(s,h)}return e(t,n),t}(ge),ol=0,sl=2,wi=function(n){function t(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o,e,c;u(this,t);var s=i(this,n.call(this)),h=void 0,f=s;if(g){f=r.createElement("custom");for(o in t.prototype)"constructor"!==o&&(f[o]=t.prototype[o])}return(e=new pr(l),f.kind=e.kind,f.src=e.src,f.srclang=e.language,f.label=e.label,f.default=e.default,Object.defineProperty(f,"readyState",{get:function(){return h}}),Object.defineProperty(f,"track",{get:function(){return e}}),h=ol,e.addEventListener("loadeddata",function(){h=sl;f.trigger({type:"load",target:f})}),g)?(c=f,i(s,c)):s}return e(t,n),t}(b);wi.prototype.allowedEvents_={load:"load"};wi.NONE=ol;wi.LOADING=1;wi.LOADED=sl;wi.ERROR=3;ft={audio:{ListClass:ip,TrackClass:fl,capitalName:"Audio"},video:{ListClass:rp,TrackClass:el,capitalName:"Video"},text:{ListClass:kc,TrackClass:pr,capitalName:"Text"}};Object.keys(ft).forEach(function(n){ft[n].getterName=n+"Tracks";ft[n].privateName=n+"Tracks_"});bi={remoteText:{ListClass:kc,TrackClass:pr,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:up,TrackClass:wi,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}};tt=v(ft,bi);bi.names=Object.keys(bi);ft.names=Object.keys(ft);tt.names=[].concat(bi.names).concat(ft.names);wu=Object.create||function(){function n(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return n.prototype=t,new n}}();it.prototype=wu(Error.prototype);it.prototype.constructor=it;it.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};sr.prototype={set:function(n,t){this.get(n)||""===t||(this.values[n]=t)},get:function(n,t,i){return i?this.has(n)?this.values[n]:t[i]:this.has(n)?this.values[n]:t},has:function(n){return n in this.values},alt:function(n,t,i){for(var r=0;r<i.length;++r)if(t===i[r]){this.set(n,t);break}},integer:function(n,t){/^-?\d+$/.test(t)&&this.set(n,parseInt(t,10))},percent:function(n,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(n,t),!0)}};var kp={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"â","&rlm;":"â","&nbsp;":"Â "},dp={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},gp={v:"title",lang:"lang"},hl={rt:"ruby"},cl=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];ru.prototype.applyStyles=function(n,t){t=t||this.div;for(var i in n)n.hasOwnProperty(i)&&(t.style[i]=n[i])};ru.prototype.formatStyle=function(n,t){return 0===n?0:n+t};uu.prototype=wu(ru.prototype);uu.prototype.constructor=uu;d.prototype.move=function(n,t){switch(t=void 0!==t?t:this.lineHeight,n){case"+x":this.left+=t;this.right+=t;break;case"-x":this.left-=t;this.right-=t;break;case"+y":this.top+=t;this.bottom+=t;break;case"-y":this.top-=t;this.bottom-=t}};d.prototype.overlaps=function(n){return this.left<n.right&&this.right>n.left&&this.top<n.bottom&&this.bottom>n.top};d.prototype.overlapsAny=function(n){for(var t=0;t<n.length;t++)if(this.overlaps(n[t]))return!0;return!1};d.prototype.within=function(n){return this.top>=n.top&&this.bottom<=n.bottom&&this.left>=n.left&&this.right<=n.right};d.prototype.overlapsOppositeAxis=function(n,t){switch(t){case"+x":return this.left<n.left;case"-x":return this.right>n.right;case"+y":return this.top<n.top;case"-y":return this.bottom>n.bottom}};d.prototype.intersectPercentage=function(n){return Math.max(0,Math.min(this.right,n.right)-Math.max(this.left,n.left))*Math.max(0,Math.min(this.bottom,n.bottom)-Math.max(this.top,n.top))/(this.height*this.width)};d.prototype.toCSSCompatValues=function(n){return{top:this.top-n.top,bottom:n.bottom-this.bottom,left:this.left-n.left,right:n.right-this.right,height:this.height,width:this.width}};d.getSimpleBoxPosition=function(n){var t=n.div?n.div.offsetHeight:n.tagName?n.offsetHeight:0,r=n.div?n.div.offsetWidth:n.tagName?n.offsetWidth:0,i=n.div?n.div.offsetTop:n.tagName?n.offsetTop:0;return n=n.div?n.div.getBoundingClientRect():n.tagName?n.getBoundingClientRect():n,{left:n.left,right:n.right,top:n.top||i,height:n.height||t,bottom:n.bottom||i+(n.height||t),width:n.width||r}};ci.StringDecoder=function(){return{decode:function(n){if(!n)return"";if("string"!=typeof n)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(n))}}};ci.convertCueToDOMTree=function(n,t){return n&&t?sh(n,t):null};ci.processCues=function(n,t,i){var r,u;if(!n||!t||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);if(r=n.document.createElement("div"),r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin="1.5%",i.appendChild(r),function(n){for(var t=0;t<n.length;t++)if(n[t].hasBeenReset||!n[t].displayState)return!0;return!1}(t)){var f=[],e=d.getSimpleBoxPosition(r),o=Math.round(.05*e.height*100)/100,s={font:o+"px sans-serif"};!function(){for(var i,u,o=0;o<t.length;o++)u=t[o],i=new uu(n,u,s),r.appendChild(i.div),wv(n,i,e,f),u.displayState=i.div,f.push(d.getSimpleBoxPosition(i))}()}else for(u=0;u<t.length;u++)r.appendChild(t[u].displayState)};ci.Parser=function(n,t,i){i||(i=t,t={});t||(t={});this.window=n;this.vttjs=t;this.state="INITIAL";this.buffer="";this.decoder=i||new TextDecoder("utf8");this.regionList=[]};ci.Parser.prototype={reportOrThrowError:function(n){if(!(n instanceof it))throw n;this.onparsingerror&&this.onparsingerror(n)},parse:function(n){function f(){for(var r,i=t.buffer,n=0;n<i.length&&"\r"!==i[n]&&"\n"!==i[n];)++n;return r=i.substr(0,n),"\r"===i[n]&&++n,"\n"===i[n]&&++n,t.buffer=i.substr(n),r}function o(n){var i=new sr,r;(hr(n,function(n,t){var u,r;switch(n){case"id":i.set(n,t);break;case"width":i.percent(n,t);break;case"lines":i.integer(n,t);break;case"regionanchor":case"viewportanchor":if(u=t.split(","),2!==u.length)break;if(r=new sr,r.percent("x",u[0]),r.percent("y",u[1]),!r.has("x")||!r.has("y"))break;i.set(n+"X",r.get("x"));i.set(n+"Y",r.get("y"));break;case"scroll":i.alt(n,t,["up"])}},/=/,/\s/),i.has("id"))&&(r=new(t.vttjs.VTTRegion||t.window.VTTRegion),r.width=i.get("width",100),r.lines=i.get("lines",3),r.regionAnchorX=i.get("regionanchorX",0),r.regionAnchorY=i.get("regionanchorY",100),r.viewportAnchorX=i.get("viewportanchorX",0),r.viewportAnchorY=i.get("viewportanchorY",100),r.scroll=i.get("scroll",""),t.onregion&&t.onregion(r),t.regionList.push({id:i.get("id"),region:r}))}function s(n){var i=new sr;hr(n,function(n,t){switch(n){case"MPEGT":i.integer(n+"S",t);break;case"LOCA":i.set(n+"L",ue(t))}},/[^\d]:/,/,/);t.ontimestampmap&&t.ontimestampmap({MPEGTS:i.get("MPEGTS"),LOCAL:i.get("LOCAL")})}var t=this,i,u,r,e;n&&(t.buffer+=t.decoder.decode(n,{stream:!0}));try{if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;if(i=f(),u=i.match(/^WEBVTT([ \t].*)?$/),!u||!u[0])throw new it(it.Errors.BadSignature);t.state="HEADER"}for(r=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(r?r=!1:i=f(),t.state){case"HEADER":/:/.test(i)?function(n){n.match(/X-TIMESTAMP-MAP/)?hr(n,function(n,t){switch(n){case"X-TIMESTAMP-MAP":s(t)}},/=/):hr(n,function(n,t){switch(n){case"Region":o(t)}},/:/)}(i):i||(t.state="ID");continue;case"NOTE":i||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){t.state="NOTE";break}if(!i)continue;if(t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,""),t.state="CUE",-1===i.indexOf("-->")){t.cue.id=i;continue}case"CUE":try{av(i,t.cue,t.regionList)}catch(n){t.reportOrThrowError(n);t.cue=null;t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":if(e=-1!==i.indexOf("-->"),!i||e&&(r=!0)){t.oncue&&t.oncue(t.cue);t.cue=null;t.state="ID";continue}t.cue.text&&(t.cue.text+="\n");t.cue.text+=i;continue;case"BADCUE":i||(t.state="ID");continue}}}catch(n){t.reportOrThrowError(n);"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue);t.cue=null;t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var n=this;try{if(n.buffer+=n.decoder.decode(),(n.cue||"HEADER"===n.state)&&(n.buffer+="\n\n",n.parse()),"INITIAL"===n.state)throw new it(it.Errors.BadSignature);}catch(t){n.reportOrThrowError(t)}return n.onflush&&n.onflush(),this}};var nw=ci,tw="auto",iw={"":!0,lr:!0,rl:!0},rw={start:!0,middle:!0,end:!0,left:!0,right:!0};hh.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var uw=hh,fw={"":!0,up:!0},ew=dv,ll=pf(function(t){var i=t.exports={WebVTT:nw,VTTCue:uw,VTTRegion:ew};n.vttjs=i;n.WebVTT=i.WebVTT;var r=i.VTTCue,u=i.VTTRegion,f=n.VTTCue,e=n.VTTRegion;i.shim=function(){n.VTTCue=r;n.VTTRegion=u};i.restore=function(){n.VTTCue=f;n.VTTRegion=e};n.VTTCue||i.shim()}),c=function(t){function f(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n;return u(this,f),r.reportTouchActivity=!1,n=i(this,t.call(this,null,r,e)),n.hasStarted_=!1,n.on("playing",function(){this.hasStarted_=!0}),n.on("loadstart",function(){this.hasStarted_=!1}),tt.names.forEach(function(t){var i=tt[t];r&&r[i.getterName]&&(n[i.privateName]=r[i.getterName])}),n.featuresProgressEvents||n.manualProgressOn(),n.featuresTimeupdateEvents||n.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){!1===r["native"+t+"Tracks"]&&(n["featuresNative"+t+"Tracks"]=!1)}),!1===r.nativeCaptions||!1===r.nativeTextTracks?n.featuresNativeTextTracks=!1:!0!==r.nativeCaptions&&!0!==r.nativeTextTracks||(n.featuresNativeTextTracks=!0),n.featuresNativeTextTracks||n.emulateTextTracks(),n.autoRemoteTextTracks_=new tt.text.ListClass,n.initTrackListeners(),r.nativeControlsForTouch||n.emitTapEvents(),n.constructor&&(n.name_=n.constructor.name||"Unknown Tech"),n}return e(f,t),f.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange);this.manualProgress=!0;this.one("ready",this.trackProgress)},f.prototype.manualProgressOff=function(){this.manualProgress=!1;this.stopTrackingProgress();this.off("durationchange",this.onDurationChange)},f.prototype.trackProgress=function(){this.stopTrackingProgress();this.progressInterval=this.setInterval(s(this,function(){var n=this.bufferedPercent();this.bufferedPercent_!==n&&this.trigger("progress");this.bufferedPercent_=n;1===n&&this.stopTrackingProgress()}),500)},f.prototype.onDurationChange=function(){this.duration_=this.duration()},f.prototype.buffered=function(){return dt(0,0)},f.prototype.bufferedPercent=function(){return rh(this.buffered(),this.duration_)},f.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},f.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0;this.on("play",this.trackCurrentTime);this.on("pause",this.stopTrackingCurrentTime)},f.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1;this.stopTrackingCurrentTime();this.off("play",this.trackCurrentTime);this.off("pause",this.stopTrackingCurrentTime)},f.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime();this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},f.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval);this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},f.prototype.dispose=function(){this.clearTracks(ft.names);this.manualProgress&&this.manualProgressOff();this.manualTimeUpdates&&this.manualTimeUpdatesOff();t.prototype.dispose.call(this)},f.prototype.clearTracks=function(n){var t=this;n=[].concat(n);n.forEach(function(n){for(var u,i=t[n+"Tracks"]()||[],r=i.length;r--;)u=i[r],"text"===n&&t.removeRemoteTextTrack(u),i.removeTrack(u)})},f.prototype.cleanupAutoTextTracks=function(){for(var i,n=this.autoRemoteTextTracks_||[],t=n.length;t--;)i=n[t],this.removeRemoteTextTrack(i)},f.prototype.reset=function(){},f.prototype.error=function(n){return void 0!==n&&(this.error_=new k(n),this.trigger("error")),this.error_},f.prototype.played=function(){return this.hasStarted_?dt(0,0):dt()},f.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},f.prototype.initTrackListeners=function(){var n=this;ft.names.forEach(function(t){var u=ft[t],i=function(){n.trigger(t+"trackchange")},r=n[u.getterName]();r.addEventListener("removetrack",i);r.addEventListener("addtrack",i);n.on("dispose",function(){r.removeEventListener("removetrack",i);r.removeEventListener("addtrack",i)})})},f.prototype.addWebVttScript_=function(){var i=this,t;if(!n.WebVTT)if(r.body.contains(this.el())){if(!this.options_["vtt.js"]&&ir(ll)&&Object.keys(ll).length>0)return void this.trigger("vttjsloaded");t=r.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js";t.onload=function(){i.trigger("vttjsloaded")};t.onerror=function(){i.trigger("vttjserror")};this.on("dispose",function(){t.onload=null;t.onerror=null});n.WebVTT=!0;this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},f.prototype.emulateTextTracks=function(){var e=this,n=this.textTracks(),r=this.remoteTextTracks(),u=function(t){return n.addTrack(t.track)},f=function(t){return n.removeTrack(t.track)},i,t;r.on("addtrack",u);r.on("removetrack",f);this.addWebVttScript_();i=function(){return e.trigger("texttrackchange")};t=function(){var t,r;for(i(),t=0;t<n.length;t++)r=n[t],r.removeEventListener("cuechange",i),"showing"===r.mode&&r.addEventListener("cuechange",i)};t();n.addEventListener("change",t);n.addEventListener("addtrack",t);n.addEventListener("removetrack",t);this.on("dispose",function(){r.off("addtrack",u);r.off("removetrack",f);n.removeEventListener("change",t);n.removeEventListener("addtrack",t);n.removeEventListener("removetrack",t);for(var e=0;e<n.length;e++)n[e].removeEventListener("cuechange",i)})},f.prototype.addTextTrack=function(n,t,i){if(!n)throw new Error("TextTrack kind is required but was not provided");return gv(this,n,t,i)},f.prototype.createRemoteTextTrack=function(n){var t=v(n,{tech:this});return new bi.remoteTextEl.TrackClass(t)},f.prototype.addRemoteTextTrack=function(){var i=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],t=this.createRemoteTextTrack(r);return!0!==n&&!1!==n&&(h.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().addTrackElement_(t),this.remoteTextTracks().addTrack(t.track),!0!==n&&this.ready(function(){return i.autoRemoteTextTracks_.addTrack(t.track)}),t},f.prototype.removeRemoteTextTrack=function(n){var t=this.remoteTextTrackEls().getTrackElementByTrack_(n);this.remoteTextTrackEls().removeTrackElement_(t);this.remoteTextTracks().removeTrack(n);this.autoRemoteTextTracks_.removeTrack(n)},f.prototype.getVideoPlaybackQuality=function(){return{}},f.prototype.setPoster=function(){},f.prototype.playsinline=function(){},f.prototype.setPlaysinline=function(){},f.prototype.canPlayType=function(){return""},f.canPlayType=function(){return""},f.canPlaySource=function(n){return f.canPlayType(n.type)},f.isTech=function(n){return n.prototype instanceof f||n instanceof f||n===f},f.registerTech=function(n,t){if(f.techs_||(f.techs_={}),!f.isTech(t))throw new Error("Tech "+n+" must be a Tech");if(!f.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!f.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return n=l(n),f.techs_[n]=t,"Tech"!==n&&f.defaultTechOrder_.push(n),t},f.getTech=function(t){if(t)return t=l(t),f.techs_&&f.techs_[t]?f.techs_[t]:n&&n.videojs&&n.videojs[t]?(h.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),n.videojs[t]):void 0},f}(t);tt.names.forEach(function(n){var t=tt[n];c.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}});c.prototype.featuresVolumeControl=!0;c.prototype.featuresFullscreenResize=!1;c.prototype.featuresPlaybackRate=!1;c.prototype.featuresProgressEvents=!1;c.prototype.featuresTimeupdateEvents=!1;c.prototype.featuresNativeTextTracks=!1;c.withSourceHandlers=function(n){n.registerSourceHandler=function(t,i){var r=n.sourceHandlers;r||(r=n.sourceHandlers=[]);void 0===i&&(i=r.length);r.splice(i,0,t)};n.canPlayType=function(t){for(var r=n.sourceHandlers||[],u=void 0,i=0;i<r.length;i++)if(u=r[i].canPlayType(t))return u;return""};n.selectSourceHandler=function(t,i){for(var u=n.sourceHandlers||[],r=0;r<u.length;r++)if(u[r].canHandleSource(t,i))return u[r];return null};n.canPlaySource=function(t,i){var r=n.selectSourceHandler(t,i);return r?r.canHandleSource(t,i):""};["seekable","duration"].forEach(function(n){var t=this[n];"function"==typeof t&&(this[n]=function(){return this.sourceHandler_&&this.sourceHandler_[n]?this.sourceHandler_[n].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},n.prototype);n.prototype.setSource=function(t){var i=n.selectSourceHandler(t,this.options_);i||(n.nativeSourceHandler?i=n.nativeSourceHandler:h.error("No source hander found for the current source."));this.disposeSourceHandler();this.off("dispose",this.disposeSourceHandler);i!==n.nativeSourceHandler&&(this.currentSource_=t);this.sourceHandler_=i.handleSource(t,this,this.options_);this.on("dispose",this.disposeSourceHandler)};n.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null);this.cleanupAutoTextTracks();this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};t.registerComponent("Tech",c);c.registerTech("Tech",c);c.defaultTechOrder_=[];var ri={},ow={buffered:1,currentTime:1,duration:1,seekable:1,played:1},sw={setCurrentTime:1},hw=function pf(n){if(Array.isArray(n)){var t=[];n.forEach(function(n){n=pf(n);Array.isArray(n)?t=t.concat(n):ct(n)&&t.push(n)});n=t}else n="string"==typeof n&&n.trim()?[{src:n}]:ct(n)&&"string"==typeof n.src&&n.src&&n.src.trim()?[n]:[];return n},cw=function(n){function r(f,e,o){var p,w,h,y,s,a;if(u(this,r),p=v({createEl:!1},e),w=i(this,n.call(this,f,p,o)),e.playerOptions.sources&&0!==e.playerOptions.sources.length)f.src(e.playerOptions.sources);else for(h=0,y=e.playerOptions.techOrder;h<y.length;h++)if(s=l(y[h]),a=c.getTech(s),s||(a=t.getComponent(s)),a&&a.isSupported()){f.loadTech_(s);break}return w}return e(r,n),r}(t);t.registerComponent("MediaLoader",cw);wr=function(n){function t(r,f){u(this,t);var e=i(this,n.call(this,r,f));return e.emitTapEvents(),e.enable(),e}return e(t,n),t.prototype.createEl=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u;return t=a({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"><\/span>',className:this.buildCSSClass(),tabIndex:0},t),"button"===i&&h.error("Creating a ClickableComponent with an HTML element of "+i+" is not supported; use a Button instead."),r=a({role:"button","aria-live":"polite"},r),this.tabIndex_=t.tabIndex,u=n.prototype.createEl.call(this,i,t,r),this.createControlTextEl(u),u},t.prototype.dispose=function(){this.controlTextEl_=null;n.prototype.dispose.call(this)},t.prototype.createControlTextEl=function(n){return this.controlTextEl_=y("span",{className:"vjs-control-text"}),n&&n.appendChild(this.controlTextEl_),this.controlText(this.controlText_,n),this.controlTextEl_},t.prototype.controlText=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el(),t;if(void 0===n)return this.controlText_||"Need Text";t=this.localize(n);this.controlText_=n;rr(this.controlTextEl_,t);this.nonIconControl||i.setAttribute("title",t)},t.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+n.prototype.buildCSSClass.call(this)},t.prototype.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},t.prototype.disable=function(){this.enabled_=!1;this.addClass("vjs-disabled");this.el_.setAttribute("aria-disabled","true");void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex");this.off(["tap","click"],this.handleClick);this.off("focus",this.handleFocus);this.off("blur",this.handleBlur)},t.prototype.handleClick=function(){},t.prototype.handleFocus=function(){st(r,"keydown",s(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.trigger("click")):n.prototype.handleKeyPress&&n.prototype.handleKeyPress.call(this,t)},t.prototype.handleBlur=function(){et(r,"keydown",s(this,this.handleKeyPress))},t}(t);t.registerComponent("ClickableComponent",wr);al=function(n){function t(r,f){u(this,t);var e=i(this,n.call(this,r,f));return e.update(),r.on("posterchange",s(e,e.update)),e}return e(t,n),t.prototype.dispose=function(){this.player().off("posterchange",this.update);n.prototype.dispose.call(this)},t.prototype.createEl=function(){var n=y("div",{className:"vjs-poster",tabIndex:-1});return uc||(this.fallbackImg_=y("img"),n.appendChild(this.fallbackImg_)),n},t.prototype.update=function(){var n=this.player().poster();this.setSrc(n);n?this.show():this.hide()},t.prototype.setSrc=function(n){if(this.fallbackImg_)this.fallbackImg_.src=n;else{var t="";n&&(t='url("'+n+'")');this.el_.style.backgroundImage=t}},t.prototype.handleClick=function(){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())},t}(wr);t.registerComponent("PosterImage",al);vl={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};yl=function(t){function r(n,f,e){u(this,r);var o=i(this,t.call(this,n,f,e));return n.on("loadstart",s(o,o.toggleDisplay)),n.on("texttrackchange",s(o,o.updateDisplay)),n.on("loadstart",s(o,o.preselectTrack)),n.ready(s(o,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)return void this.hide();n.on("fullscreenchange",s(this,this.updateDisplay));for(var i=this.options_.playerOptions.tracks||[],t=0;t<i.length;t++)this.player_.addRemoteTextTrack(i[t],!0);this.preselectTrack()})),o}return e(r,t),r.prototype.preselectTrack=function(){for(var n,o={captions:1,subtitles:1},e=this.player_.textTracks(),t=this.player_.cache_.selectedLanguage,r=void 0,u=void 0,i=void 0,f=0;f<e.length;f++)n=e[f],t&&t.enabled&&t.language===n.language?n.kind===t.kind?i=n:i||(i=n):t&&!t.enabled?(i=null,r=null,u=null):n.default&&("descriptions"!==n.kind||r?n.kind in o&&!u&&(u=n):r=n);i?i.mode="showing":u?u.mode="showing":r&&(r.mode="showing")},r.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},r.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},r.prototype.clearDisplay=function(){"function"==typeof n.WebVTT&&n.WebVTT.processCues(n,[],this.el_)},r.prototype.updateDisplay=function(){var r=this.player_.textTracks(),n;this.clearDisplay();for(var t=null,i=null,u=r.length;u--;)n=r[u],"showing"===n.mode&&("descriptions"===n.kind?t=n:i=n);i?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))},r.prototype.updateForTrack=function(t){var e,o,r,s;if("function"==typeof n.WebVTT&&t.activeCues){for(var i=this.player_.textTrackSettings.getValues(),u=[],f=0;f<t.activeCues.length;f++)u.push(t.activeCues[f]);for(n.WebVTT.processCues(n,u,this.el_),e=u.length;e--;)o=u[e],o&&(r=o.displayState,(i.color&&(r.firstChild.style.color=i.color),i.textOpacity&&oe(r.firstChild,"color",ee(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(r.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&oe(r.firstChild,"backgroundColor",ee(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?oe(r,"backgroundColor",ee(i.windowColor,i.windowOpacity)):r.style.backgroundColor=i.windowColor),i.edgeStyle&&("dropshadow"===i.edgeStyle?r.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===i.edgeStyle?r.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===i.edgeStyle?r.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===i.edgeStyle&&(r.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),i.fontPercent&&1!==i.fontPercent)&&(s=n.parseFloat(r.style.fontSize),r.style.fontSize=s*i.fontPercent+"px",r.style.height="auto",r.style.top="auto",r.style.bottom="2px"),i.fontFamily&&"default"!==i.fontFamily&&("small-caps"===i.fontFamily?r.firstChild.style.fontVariant="small-caps":r.firstChild.style.fontFamily=vl[i.fontFamily]))}},r}(t);t.registerComponent("TextTrackDisplay",yl);pl=function(n){function t(){return u(this,t),i(this,n.apply(this,arguments))}return e(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},t}(t);t.registerComponent("LoadingSpinner",pl);ht=function(n){function r(){return u(this,r),i(this,n.apply(this,arguments))}return e(r,n),r.prototype.createEl=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u;return n="button",i=a({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"><\/span>',className:this.buildCSSClass()},i),r=a({type:"button","aria-live":"polite"},r),u=t.prototype.createEl.call(this,n,i,r),this.createControlTextEl(u),u},r.prototype.addChild=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.constructor.name;return h.warn("Adding an actionable (user controllable) child to a Button ("+r+") is not supported; use a ClickableComponent instead."),t.prototype.addChild.call(this,n,i)},r.prototype.enable=function(){n.prototype.enable.call(this);this.el_.removeAttribute("disabled")},r.prototype.disable=function(){n.prototype.disable.call(this);this.el_.setAttribute("disabled","disabled")},r.prototype.handleKeyPress=function(t){32!==t.which&&13!==t.which&&n.prototype.handleKeyPress.call(this,t)},r}(wr);t.registerComponent("Button",ht);io=function(n){function t(r,f){u(this,t);var e=i(this,n.call(this,r,f));return e.mouseused_=!1,e.on("mousedown",e.handleMouseDown),e}return e(t,n),t.prototype.buildCSSClass=function(){return"vjs-big-play-button"},t.prototype.handleClick=function(n){var u=this.player_.play(),t,i,r;if(!(this.mouseused_&&n.clientX&&n.clientY)){if(t=this.player_.getChild("controlBar"),i=t&&t.getChild("playToggle"),!i)return void this.player_.focus();r=function(){return i.focus()};uh(u)?u.then(r,function(){}):this.setTimeout(r,1)}},t.prototype.handleKeyPress=function(t){this.mouseused_=!1;n.prototype.handleKeyPress.call(this,t)},t.prototype.handleMouseDown=function(){this.mouseused_=!0},t}(ht);io.prototype.controlText_="Play Video";t.registerComponent("BigPlayButton",io);wl=function(n){function t(r,f){u(this,t);var e=i(this,n.call(this,r,f));return e.controlText(f&&f.controlText||e.localize("Close")),e}return e(t,n),t.prototype.buildCSSClass=function(){return"vjs-close-button "+n.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.trigger({type:"close",bubbles:!1})},t}(ht);t.registerComponent("CloseButton",wl);ro=function(n){function t(r,f){u(this,t);var e=i(this,n.call(this,r,f));return e.on(r,"play",e.handlePlay),e.on(r,"pause",e.handlePause),e.on(r,"ended",e.handleEnded),e}return e(t,n),t.prototype.buildCSSClass=function(){return"vjs-play-control "+n.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handleSeeked=function(n){this.removeClass("vjs-ended");this.player_.paused()?this.handlePause(n):this.handlePlay(n)},t.prototype.handlePlay=function(){this.removeClass("vjs-ended");this.removeClass("vjs-paused");this.addClass("vjs-playing");this.controlText("Pause")},t.prototype.handlePause=function(){this.removeClass("vjs-playing");this.addClass("vjs-paused");this.controlText("Play")},t.prototype.handleEnded=function(){this.removeClass("vjs-playing");this.addClass("vjs-ended");this.controlText("Replay");this.one(this.player_,"seeked",this.handleSeeked)},t}(ht);ro.prototype.controlText_="Play";t.registerComponent("PlayToggle",ro);ki=function(n){function t(r,f){u(this,t);var e=i(this,n.call(this,r,f));return e.throttledUpdateContent=yi(s(e,e.updateContent),25),e.on(r,"timeupdate",e.throttledUpdateContent),e}return e(t,n),t.prototype.createEl=function(){var t=this.buildCSSClass(),i=n.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control"});return this.contentEl_=y("div",{className:t+"-display"},{"aria-live":"off"},y("span",{className:"vjs-control-text",textContent:this.localize(this.controlText_)})),this.updateTextNode_(),i.appendChild(this.contentEl_),i},t.prototype.dispose=function(){this.contentEl_=null;this.textNode_=null;n.prototype.dispose.call(this)},t.prototype.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=r.createTextNode(this.formattedTime_||"0:00");this.contentEl_.appendChild(this.textNode_)}},t.prototype.formatTime_=function(n){return ai(n)},t.prototype.updateFormattedTime_=function(n){var t=this.formatTime_(n);t!==this.formattedTime_&&(this.formattedTime_=t,this.requestAnimationFrame(this.updateTextNode_))},t.prototype.updateContent=function(){},t}(t);ki.prototype.controlText_="Time";t.registerComponent("TimeDisplay",ki);uo=function(n){function t(r,f){u(this,t);var e=i(this,n.call(this,r,f));return e.on(r,"ended",e.handleEnded),e}return e(t,n),t.prototype.buildCSSClass=function(){return"vjs-current-time"},t.prototype.updateContent=function(){var n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(n)},t.prototype.handleEnded=function(){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},t}(ki);uo.prototype.controlText_="Current Time";t.registerComponent("CurrentTimeDisplay",uo);fo=function(n){function t(r,f){u(this,t);var e=i(this,n.call(this,r,f));return e.on(r,"durationchange",e.updateContent),e.on(r,"loadedmetadata",e.throttledUpdateContent),e}return e(t,n),t.prototype.buildCSSClass=function(){return"vjs-duration"},t.prototype.updateContent=function(){var n=this.player_.duration();n&&this.duration_!==n&&(this.duration_=n,this.updateFormattedTime_(n))},t}(ki);fo.prototype.controlText_="Duration Time";t.registerComponent("DurationDisplay",fo);bl=function(n){function t(){return u(this,t),i(this,n.apply(this,arguments))}return e(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/<\/span><\/div>"})},t}(t);t.registerComponent("TimeDivider",bl);eo=function(n){function t(r,f){u(this,t);var e=i(this,n.call(this,r,f));return e.on(r,"durationchange",e.throttledUpdateContent),e.on(r,"ended",e.handleEnded),e}return e(t,n),t.prototype.buildCSSClass=function(){return"vjs-remaining-time"},t.prototype.formatTime_=function(t){return"-"+n.prototype.formatTime_.call(this,t)},t.prototype.updateContent=function(){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},t.prototype.handleEnded=function(){this.player_.duration()&&this.updateFormattedTime_(0)},t}(ki);eo.prototype.controlText_="Remaining Time";t.registerComponent("RemainingTimeDisplay",eo);kl=function(n){function t(r,f){u(this,t);var e=i(this,n.call(this,r,f));return e.updateShowing(),e.on(e.player(),"durationchange",e.updateShowing),e}return e(t,n),t.prototype.createEl=function(){var t=n.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=y("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"<\/span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.dispose=function(){this.contentEl_=null;n.prototype.dispose.call(this)},t.prototype.updateShowing=function(){this.player().duration()===1/0?this.show():this.hide()},t}(t);t.registerComponent("LiveDisplay",kl);bu=function(n){function t(r,f){u(this,t);var e=i(this,n.call(this,r,f));return e.bar=e.getChild(e.options_.barName),e.vertical(!!e.options_.vertical),e.enable(),e}return e(t,n),t.prototype.enabled=function(){return this.enabled_},t.prototype.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},t.prototype.disable=function(){if(this.enabled()){var n=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown);this.off("touchstart",this.handleMouseDown);this.off("focus",this.handleFocus);this.off("blur",this.handleBlur);this.off("click",this.handleClick);this.off(this.player_,"controlsvisible",this.update);this.off(n,"mousemove",this.handleMouseMove);this.off(n,"mouseup",this.handleMouseUp);this.off(n,"touchmove",this.handleMouseMove);this.off(n,"touchend",this.handleMouseUp);this.removeAttribute("tabindex");this.addClass("disabled");this.playerEvent&&this.off(this.player_,this.playerEvent,this.update);this.enabled_=!1}},t.prototype.createEl=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.className=i.className+" vjs-slider",i=a({tabIndex:0},i),r=a({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),n.prototype.createEl.call(this,t,i,r)},t.prototype.handleMouseDown=function(n){var t=this.bar.el_.ownerDocument;n.preventDefault();vs();this.addClass("vjs-sliding");this.trigger("slideractive");this.on(t,"mousemove",this.handleMouseMove);this.on(t,"mouseup",this.handleMouseUp);this.on(t,"touchmove",this.handleMouseMove);this.on(t,"touchend",this.handleMouseUp);this.handleMouseMove(n)},t.prototype.handleMouseMove=function(){},t.prototype.handleMouseUp=function(){var n=this.bar.el_.ownerDocument;ys();this.removeClass("vjs-sliding");this.trigger("sliderinactive");this.off(n,"mousemove",this.handleMouseMove);this.off(n,"mouseup",this.handleMouseUp);this.off(n,"touchmove",this.handleMouseMove);this.off(n,"touchend",this.handleMouseUp);this.update()},t.prototype.update=function(){var n,t,i,r;if(this.el_&&(n=this.getPercent(),t=this.bar,t))return("number"!=typeof n||n!==n||n<0||n===1/0)&&(n=0),i=(100*n).toFixed(2)+"%",r=t.el().style,this.vertical()?r.height=i:r.width=i,n},t.prototype.calculateDistance=function(n){var t=kf(this.el_,n);return this.vertical()?t.y:t.x},t.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleKeyPress=function(n){37===n.which||40===n.which?(n.preventDefault(),this.stepBack()):38!==n.which&&39!==n.which||(n.preventDefault(),this.stepForward())},t.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleClick=function(n){n.stopImmediatePropagation();n.preventDefault()},t.prototype.vertical=function(n){if(void 0===n)return this.vertical_||!1;this.vertical_=!!n;this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(t);t.registerComponent("Slider",bu);dl=function(n){function t(r,f){u(this,t);var e=i(this,n.call(this,r,f));return e.partEls_=[],e.on(r,"progress",e.update),e}return e(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"<\/span>: 0%<\/span>"})},t.prototype.dispose=function(){this.partEls_=null;n.prototype.dispose.call(this)},t.prototype.update=function(){var t=this.player_.buffered(),s=this.player_.duration(),f=this.player_.bufferedEnd(),i=this.partEls_,e=function(n,t){var i=n/t||0;return 100*(i>=1?1:i)+"%"},n,u;for(this.el_.style.width=e(f,s),n=0;n<t.length;n++){var o=t.start(n),h=t.end(n),r=i[n];r||(r=this.el_.appendChild(y()),i[n]=r);r.style.left=e(o,f);r.style.width=e(h-o,f)}for(u=i.length;u>t.length;u--)this.el_.removeChild(i[u-1]);i.length=t.length},t}(t);t.registerComponent("LoadProgressBar",dl);gl=function(n){function t(){return u(this,t),i(this,n.apply(this,arguments))}return e(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},t.prototype.update=function(n,t,i){var u=fr(this.el_),f=fr(this.player_.el()),e=n.width*t;if(f&&u){var o=n.left-f.left+e,s=n.width-e+(f.right-n.right),r=u.width/2;o<r?r+=r-o:s<r&&(r=s);r<0?r=0:r>u.width&&(r=u.width);this.el_.style.right="-"+r+"px";rr(this.el_,i)}},t}(t);t.registerComponent("TimeTooltip",gl);ku=function(n){function t(){return u(this,t),i(this,n.apply(this,arguments))}return e(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"<\/span>: 0%<\/span>"})},t.prototype.update=function(n,t){var i=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_);this.rafId_=this.requestAnimationFrame(function(){var u=i.player_.scrubbing()?i.player_.getCache().currentTime:i.player_.currentTime(),f=ai(u,i.player_.duration()),r=i.getChild("timeTooltip");r&&r.update(n,t,f)})},t}(t);ku.prototype.options_={children:[]};wt&&!(wt>8)||gt||lt||ku.prototype.options_.children.push("timeTooltip");t.registerComponent("PlayProgressBar",ku);oo=function(n){function t(r,f){u(this,t);var e=i(this,n.call(this,r,f));return e.update=yi(s(e,e.update),25),e}return e(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.prototype.update=function(n,t){var i=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_);this.rafId_=this.requestAnimationFrame(function(){var r=i.player_.duration(),u=ai(t*r,r);i.el_.style.left=n.width*t+"px";i.getChild("timeTooltip").update(n,t,u)})},t}(t);oo.prototype.options_={children:["timeTooltip"]};t.registerComponent("MouseTimeDisplay",oo);so=30;br=function(n){function t(r,f){u(this,t);var e=i(this,n.call(this,r,f));return e.update=yi(s(e,e.update),so),e.on(r,"timeupdate",e.update),e.on(r,"ended",e.handleEnded),e.updateInterval=null,e.on(r,["playing"],function(){e.clearInterval(e.updateInterval);e.updateInterval=e.setInterval(function(){e.requestAnimationFrame(function(){e.update()})},so)}),e.on(r,["ended","pause","waiting"],function(){e.clearInterval(e.updateInterval)}),e.on(r,["timeupdate","ended"],e.update),e}return e(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},t.prototype.update_=function(n,t){var i=this.player_.duration();this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2));this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[ai(n,i),ai(i,i)],"{1} of {2}"));this.bar.update(fr(this.el_),t)},t.prototype.update=function(){var t=n.prototype.update.call(this);return this.update_(this.getCurrentTime_(),t),t},t.prototype.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},t.prototype.handleEnded=function(){this.update_(this.player_.duration(),1)},t.prototype.getPercent=function(){var n=this.getCurrentTime_()/this.player_.duration();return n>=1?1:n},t.prototype.handleMouseDown=function(t){si(t)&&(this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),n.prototype.handleMouseDown.call(this,t))},t.prototype.handleMouseMove=function(n){if(si(n)){var t=this.calculateDistance(n)*this.player_.duration();t===this.player_.duration()&&(t-=.1);this.player_.currentTime(t)}},t.prototype.enable=function(){n.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},t.prototype.disable=function(){n.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},t.prototype.handleMouseUp=function(t){n.prototype.handleMouseUp.call(this,t);this.player_.scrubbing(!1);this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0});this.videoWasPlaying&&this.player_.play()},t.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},t.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},t.prototype.handleAction=function(){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleAction(t)):n.prototype.handleKeyPress&&n.prototype.handleKeyPress.call(this,t)},t}(bu);br.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};wt&&!(wt>8)||gt||lt||br.prototype.options_.children.splice(1,0,"mouseTimeDisplay");br.prototype.playerEvent="timeupdate";t.registerComponent("SeekBar",br);ho=function(n){function t(r,f){u(this,t);var e=i(this,n.call(this,r,f));return e.handleMouseMove=yi(s(e,e.handleMouseMove),25),e.throttledHandleMouseSeek=yi(s(e,e.handleMouseSeek),25),e.enable(),e}return e(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t.prototype.handleMouseMove=function(n){var i=this.getChild("seekBar"),r=i.getChild("mouseTimeDisplay"),u=i.el(),f=fr(u),t=kf(u,n).x;t>1?t=1:t<0&&(t=0);r&&r.update(f,t)},t.prototype.handleMouseSeek=function(n){this.getChild("seekBar").handleMouseMove(n)},t.prototype.enabled=function(){return this.enabled_},t.prototype.disable=function(){this.children().forEach(function(n){return n.disable&&n.disable()});this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},t.prototype.enable=function(){this.children().forEach(function(n){return n.enable&&n.enable()});this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},t.prototype.handleMouseDown=function(){var n=this.el_.ownerDocument;this.on(n,"mousemove",this.throttledHandleMouseSeek);this.on(n,"touchmove",this.throttledHandleMouseSeek);this.on(n,"mouseup",this.handleMouseUp);this.on(n,"touchend",this.handleMouseUp)},t.prototype.handleMouseUp=function(){var n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseSeek);this.off(n,"touchmove",this.throttledHandleMouseSeek);this.off(n,"mouseup",this.handleMouseUp);this.off(n,"touchend",this.handleMouseUp)},t}(t);ho.prototype.options_={children:["seekBar"]};t.registerComponent("ProgressControl",ho);co=function(n){function t(r,f){u(this,t);var e=i(this,n.call(this,r,f));return e.on(r,"fullscreenchange",e.handleFullscreenChange),e}return e(t,n),t.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+n.prototype.buildCSSClass.call(this)},t.prototype.handleFullscreenChange=function(){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},t.prototype.handleClick=function(){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(ht);co.prototype.controlText_="Fullscreen";t.registerComponent("FullscreenToggle",co);du=function(n,t){t.tech_&&!t.tech_.featuresVolumeControl&&n.addClass("vjs-hidden");n.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?n.removeClass("vjs-hidden"):n.addClass("vjs-hidden")})};na=function(n){function t(){return u(this,t),i(this,n.apply(this,arguments))}return e(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"><\/span>'})},t}(t);t.registerComponent("VolumeLevel",na);gu=function(n){function t(r,f){u(this,t);var e=i(this,n.call(this,r,f));return e.on("slideractive",e.updateLastVolume_),e.on(r,"volumechange",e.updateARIAAttributes),r.ready(function(){return e.updateARIAAttributes()}),e}return e(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},t.prototype.handleMouseDown=function(t){si(t)&&n.prototype.handleMouseDown.call(this,t)},t.prototype.handleMouseMove=function(n){si(n)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(n)))},t.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.prototype.stepForward=function(){this.checkMuted();this.player_.volume(this.player_.volume()+.1)},t.prototype.stepBack=function(){this.checkMuted();this.player_.volume(this.player_.volume()-.1)},t.prototype.updateARIAAttributes=function(){var n=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",n);this.el_.setAttribute("aria-valuetext",n+"%")},t.prototype.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},t.prototype.updateLastVolume_=function(){var n=this,t=this.player_.volume();this.one("sliderinactive",function(){0===n.player_.volume()&&n.player_.lastVolume_(t)})},t}(bu);gu.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};gu.prototype.playerEvent="volumechange";t.registerComponent("VolumeBar",gu);lo=function(n){function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f;return u(this,t),e.vertical=e.vertical||!1,(void 0===e.volumeBar||ir(e.volumeBar))&&(e.volumeBar=e.volumeBar||{},e.volumeBar.vertical=e.vertical),f=i(this,n.call(this,r,e)),du(f,r),f.throttledHandleMouseMove=yi(s(f,f.handleMouseMove),25),f.on("mousedown",f.handleMouseDown),f.on("touchstart",f.handleMouseDown),f.on(f.volumeBar,["focus","slideractive"],function(){f.volumeBar.addClass("vjs-slider-active");f.addClass("vjs-slider-active");f.trigger("slideractive")}),f.on(f.volumeBar,["blur","sliderinactive"],function(){f.volumeBar.removeClass("vjs-slider-active");f.removeClass("vjs-slider-active");f.trigger("sliderinactive")}),f}return e(t,n),t.prototype.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),n.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},t.prototype.handleMouseDown=function(){var n=this.el_.ownerDocument;this.on(n,"mousemove",this.throttledHandleMouseMove);this.on(n,"touchmove",this.throttledHandleMouseMove);this.on(n,"mouseup",this.handleMouseUp);this.on(n,"touchend",this.handleMouseUp)},t.prototype.handleMouseUp=function(){var n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseMove);this.off(n,"touchmove",this.throttledHandleMouseMove);this.off(n,"mouseup",this.handleMouseUp);this.off(n,"touchend",this.handleMouseUp)},t.prototype.handleMouseMove=function(n){this.volumeBar.handleMouseMove(n)},t}(t);lo.prototype.options_={children:["volumeBar"]};t.registerComponent("VolumeControl",lo);ao=function(n){function t(r,f){u(this,t);var e=i(this,n.call(this,r,f));return du(e,r),e.on(r,["loadstart","volumechange"],e.update),e}return e(t,n),t.prototype.buildCSSClass=function(){return"vjs-mute-control "+n.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){var i=this.player_.volume(),n=this.player_.lastVolume_(),t;0===i?(t=n<.1?.1:n,this.player_.volume(t),this.player_.muted(!1)):this.player_.muted(!this.player_.muted())},t.prototype.update=function(){this.updateIcon_();this.updateControlText_()},t.prototype.updateIcon_=function(){var i=this.player_.volume(),n=3,t;for(0===i||this.player_.muted()?n=0:i<.33?n=1:i<.67&&(n=2),t=0;t<4;t++)ur(this.el_,"vjs-vol-"+t);bt(this.el_,"vjs-vol-"+n)},t.prototype.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume(),n=t?"Unmute":"Mute";this.controlText()!==n&&this.controlText(n)},t}(ht);ao.prototype.controlText_="Mute";t.registerComponent("MuteToggle",ao);vo=function(n){function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f;return u(this,t),e.inline=void 0!==e.inline?e.inline:!0,(void 0===e.volumeControl||ir(e.volumeControl))&&(e.volumeControl=e.volumeControl||{},e.volumeControl.vertical=!e.inline),f=i(this,n.call(this,r,e)),du(f,r),f.on(f.volumeControl,["slideractive"],f.sliderActive_),f.on(f.muteToggle,"focus",f.sliderActive_),f.on(f.volumeControl,["sliderinactive"],f.sliderInactive_),f.on(f.muteToggle,"blur",f.sliderInactive_),f}return e(t,n),t.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},t.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},t.prototype.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),n.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},t}(t);vo.prototype.options_={children:["muteToggle","volumeControl"]};t.registerComponent("VolumePanel",vo);nf=function(n){function t(r,f){u(this,t);var e=i(this,n.call(this,r,f));return f&&(e.menuButton_=f.menuButton),e.focusedChild_=-1,e.on("keydown",e.handleKeyPress),e}return e(t,n),t.prototype.addItem=function(n){this.addChild(n);n.on("click",s(this,function(){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus())}))},t.prototype.createEl=function(){var i=this.options_.contentElType||"ul",t;return this.contentEl_=y(i,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu"),t=n.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"}),t.appendChild(this.contentEl_),st(t,"click",function(n){n.preventDefault();n.stopImmediatePropagation()}),t},t.prototype.dispose=function(){this.contentEl_=null;n.prototype.dispose.call(this)},t.prototype.handleKeyPress=function(n){37===n.which||40===n.which?(n.preventDefault(),this.stepForward()):38!==n.which&&39!==n.which||(n.preventDefault(),this.stepBack())},t.prototype.stepForward=function(){var n=0;void 0!==this.focusedChild_&&(n=this.focusedChild_+1);this.focus(n)},t.prototype.stepBack=function(){var n=0;void 0!==this.focusedChild_&&(n=this.focusedChild_-1);this.focus(n)},t.prototype.focus=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this.children().slice();n.length&&n[0].className&&/vjs-menu-title/.test(n[0].className)&&n.shift();n.length>0&&(t<0?t=0:t>=n.length&&(t=n.length-1),this.focusedChild_=t,n[t].el_.focus())},t}(t);t.registerComponent("Menu",nf);tf=function(n){function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f,o;return u(this,t),f=i(this,n.call(this,r,e)),f.menuButton_=new ht(r,e),f.menuButton_.controlText(f.controlText_),f.menuButton_.el_.setAttribute("aria-haspopup","true"),o=ht.prototype.buildCSSClass(),f.menuButton_.el_.className=f.buildCSSClass()+" "+o,f.menuButton_.removeClass("vjs-control"),f.addChild(f.menuButton_),f.update(),f.enabled_=!0,f.on(f.menuButton_,"tap",f.handleClick),f.on(f.menuButton_,"click",f.handleClick),f.on(f.menuButton_,"focus",f.handleFocus),f.on(f.menuButton_,"blur",f.handleBlur),f.on("keydown",f.handleSubmenuKeyPress),f}return e(t,n),t.prototype.update=function(){var n=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu));this.menu=n;this.addChild(n);this.buttonPressed_=!1;this.menuButton_.el_.setAttribute("aria-expanded","false");this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},t.prototype.createMenu=function(){var n=new nf(this.player_,{menuButton:this}),i,t;if((this.hideThreshold_=0,this.options_.title)&&(i=y("li",{className:"vjs-menu-title",innerHTML:l(this.options_.title),tabIndex:-1}),this.hideThreshold_+=1,n.children_.unshift(i),nu(i,n.contentEl())),this.items=this.createItems(),this.items)for(t=0;t<this.items.length;t++)n.addItem(this.items[t]);return n},t.prototype.createItems=function(){},t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},t.prototype.buildWrapperCSSClass=function(){var t="vjs-menu-button";return t+=!0===this.options_.inline?"-inline":"-popup","vjs-menu-button "+t+" "+ht.prototype.buildCSSClass()+" "+n.prototype.buildCSSClass.call(this)},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return t+=!0===this.options_.inline?"-inline":"-popup","vjs-menu-button "+t+" "+n.prototype.buildCSSClass.call(this)},t.prototype.controlText=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(n,t)},t.prototype.handleClick=function(){this.one(this.menu.contentEl(),"mouseleave",s(this,function(){this.unpressButton();this.el_.blur()}));this.buttonPressed_?this.unpressButton():this.pressButton()},t.prototype.focus=function(){this.menuButton_.focus()},t.prototype.blur=function(){this.menuButton_.blur()},t.prototype.handleFocus=function(){st(r,"keydown",s(this,this.handleKeyPress))},t.prototype.handleBlur=function(){et(r,"keydown",s(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(n){27===n.which||9===n.which?(this.buttonPressed_&&this.unpressButton(),9!==n.which&&(n.preventDefault(),this.menuButton_.el_.focus())):38!==n.which&&40!==n.which||this.buttonPressed_||(this.pressButton(),n.preventDefault())},t.prototype.handleSubmenuKeyPress=function(n){27!==n.which&&9!==n.which||(this.buttonPressed_&&this.unpressButton(),9!==n.which&&(n.preventDefault(),this.menuButton_.el_.focus()))},t.prototype.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),gt&&ss())return;this.menu.focus()}},t.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},t.prototype.disable=function(){this.unpressButton();this.enabled_=!1;this.addClass("vjs-disabled");this.menuButton_.disable()},t.prototype.enable=function(){this.enabled_=!0;this.removeClass("vjs-disabled");this.menuButton_.enable()},t}(t);t.registerComponent("MenuButton",tf);rf=function(n){function t(r,f){var o,e,h;return(u(this,t),o=f.tracks,e=i(this,n.call(this,r,f)),e.items.length<=1&&e.hide(),!o)?i(e):(h=s(e,e.update),o.addEventListener("removetrack",h),o.addEventListener("addtrack",h),e.player_.on("ready",h),e.player_.on("dispose",function(){o.removeEventListener("removetrack",h);o.removeEventListener("addtrack",h)}),e)}return e(t,n),t}(tf);t.registerComponent("TrackButton",rf);di=function(n){function t(r,f){u(this,t);var e=i(this,n.call(this,r,f));return e.selectable=f.selectable,e.selected(f.selected),e.selectable?e.el_.setAttribute("role","menuitemcheckbox"):e.el_.setAttribute("role","menuitem"),e}return e(t,n),t.prototype.createEl=function(t,i,r){return this.nonIconControl=!0,n.prototype.createEl.call(this,"li",a({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"<\/span>",tabIndex:-1},i),r)},t.prototype.handleClick=function(){this.selected(!0)},t.prototype.selected=function(n){this.selectable&&(n?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText("")))},t}(wr);t.registerComponent("MenuItem",di);gi=function(t){function f(e,o){var l,h,s,a,v,c;if(u(this,f),l=o.track,h=e.textTracks(),o.label=l.label||l.language||"Unknown",o.selected="showing"===l.mode,s=i(this,t.call(this,e,o)),s.track=l,a=function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];s.handleTracksChange.apply(s,i)},v=function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];s.handleSelectedLanguageChange.apply(s,i)},e.on(["loadstart","texttrackchange"],a),h.addEventListener("change",a),h.addEventListener("selectedlanguagechange",v),s.on("dispose",function(){e.off(["loadstart","texttrackchange"],a);h.removeEventListener("change",a);h.removeEventListener("selectedlanguagechange",v)}),void 0===h.onchange){c=void 0;s.on(["tap","click"],function(){if("object"!==vi(n.Event))try{c=new n.Event("change")}catch(t){}c||(c=r.createEvent("Event"),c.initEvent("change",!0,!0));h.dispatchEvent(c)})}return s.handleTracksChange(),s}return e(f,t),f.prototype.handleClick=function(n){var e=this.track.kind,u=this.track.kinds,f=this.player_.textTracks(),r,i;if(u||(u=[e]),t.prototype.handleClick.call(this,n),f)for(r=0;r<f.length;r++)i=f[r],i===this.track&&u.indexOf(i.kind)>-1?"showing"!==i.mode&&(i.mode="showing"):"disabled"!==i.mode&&(i.mode="disabled")},f.prototype.handleTracksChange=function(){this.selected("showing"===this.track.mode)},f.prototype.handleSelectedLanguageChange=function(){if("showing"===this.track.mode){var n=this.player_.cache_.selectedLanguage;if(n&&n.enabled&&n.language===this.track.language&&n.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},f.prototype.dispose=function(){this.track=null;t.prototype.dispose.call(this)},f}(di);t.registerComponent("TextTrackMenuItem",gi);yo=function(n){function t(r,f){return u(this,t),f.track={player:r,kind:f.kind,kinds:f.kinds,"default":!1,mode:"disabled"},f.kinds||(f.kinds=[f.kind]),f.track.label=f.label?f.label:f.kinds.join(" and ")+" off",f.selectable=!0,i(this,n.call(this,r,f))}return e(t,n),t.prototype.handleTracksChange=function(){for(var t,i=this.player().textTracks(),r=!0,n=0,u=i.length;n<u;n++)if(t=i[n],this.options_.kinds.indexOf(t.kind)>-1&&"showing"===t.mode){r=!1;break}this.selected(r)},t.prototype.handleSelectedLanguageChange=function(){for(var t,i=this.player().textTracks(),r=!0,n=0,u=i.length;n<u;n++)if(t=i[n],["captions","descriptions","subtitles"].indexOf(t.kind)>-1&&"showing"===t.mode){r=!1;break}r&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(gi);t.registerComponent("OffTextTrackMenuItem",yo);ui=function(n){function t(r){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u(this,t),f.tracks=r.textTracks(),i(this,n.call(this,r,f))}return e(t,n),t.prototype.createItems=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gi,f=void 0,r,n,t,u;for(this.label_&&(f=this.label_+" off"),i.push(new yo(this.player_,{kinds:this.kinds_,kind:this.kind_,label:f})),this.hideThreshold_+=1,r=this.player_.textTracks(),Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]),n=0;n<r.length;n++)t=r[n],this.kinds_.indexOf(t.kind)>-1&&(u=new e(this.player_,{track:t,selectable:!0}),u.addClass("vjs-"+t.kind+"-menu-item"),i.push(u));return i},t}(rf);t.registerComponent("TextTrackButton",ui);po=function(n){function t(r,f){var e;u(this,t);var h=f.track,o=f.cue,c=r.currentTime();return f.selectable=!0,f.label=o.text,f.selected=o.startTime<=c&&c<o.endTime,e=i(this,n.call(this,r,f)),e.track=h,e.cue=o,h.addEventListener("cuechange",s(e,e.update)),e}return e(t,n),t.prototype.handleClick=function(){n.prototype.handleClick.call(this);this.player_.currentTime(this.cue.startTime);this.update(this.cue.startTime)},t.prototype.update=function(){var n=this.cue,t=this.player_.currentTime();this.selected(n.startTime<=t&&t<n.endTime)},t}(di);t.registerComponent("ChaptersTrackMenuItem",po);uf=function(n){function t(r,f,e){return u(this,t),i(this,n.call(this,r,f,e))}return e(t,n),t.prototype.buildCSSClass=function(){return"vjs-chapters-button "+n.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+n.prototype.buildWrapperCSSClass.call(this)},t.prototype.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack());n.prototype.update.call(this)},t.prototype.setTrack=function(n){var t,i;this.track_!==n&&((this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_)&&(t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_),t&&t.removeEventListener("load",this.updateHandler_),this.track_=null),(this.track_=n,this.track_)&&(this.track_.mode="hidden",i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_),i&&i.addEventListener("load",this.updateHandler_)))},t.prototype.findChaptersTrack=function(){for(var i,t=this.player_.textTracks()||[],n=t.length-1;n>=0;n--)if(i=t[n],i.kind===this.kind_)return i},t.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(l(this.kind_))},t.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),n.prototype.createMenu.call(this)},t.prototype.createItems=function(){var i=[],n,t,r,u,f;if(!this.track_||(n=this.track_.cues,!n))return i;for(t=0,r=n.length;t<r;t++)u=n[t],f=new po(this.player_,{track:this.track_,cue:u}),i.push(f);return i},t}(ui);uf.prototype.kind_="chapters";uf.prototype.controlText_="Chapters";t.registerComponent("ChaptersButton",uf);ff=function(n){function t(r,f,e){u(this,t);var o=i(this,n.call(this,r,f,e)),h=r.textTracks(),c=s(o,o.handleTracksChange);return h.addEventListener("change",c),o.on("dispose",function(){h.removeEventListener("change",c)}),o}return e(t,n),t.prototype.handleTracksChange=function(){for(var t,i=this.player().textTracks(),r=!1,n=0,u=i.length;n<u;n++)if(t=i[n],t.kind!==this.kind_&&"showing"===t.mode){r=!0;break}r?this.disable():this.enable()},t.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+n.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+n.prototype.buildWrapperCSSClass.call(this)},t}(ui);ff.prototype.kind_="descriptions";ff.prototype.controlText_="Descriptions";t.registerComponent("DescriptionsButton",ff);ef=function(n){function t(r,f,e){return u(this,t),i(this,n.call(this,r,f,e))}return e(t,n),t.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+n.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+n.prototype.buildWrapperCSSClass.call(this)},t}(ui);ef.prototype.kind_="subtitles";ef.prototype.controlText_="Subtitles";t.registerComponent("SubtitlesButton",ef);of=function(n){function t(r,f){u(this,t);f.track={player:r,kind:f.kind,label:f.kind+" settings",selectable:!1,"default":!1,mode:"disabled"};f.selectable=!1;f.name="CaptionSettingsMenuItem";var e=i(this,n.call(this,r,f));return e.addClass("vjs-texttrack-settings"),e.controlText(", opens "+f.kind+" settings dialog"),e}return e(t,n),t.prototype.handleClick=function(){this.player().getChild("textTrackSettings").open()},t}(gi);t.registerComponent("CaptionSettingsMenuItem",of);sf=function(n){function t(r,f,e){return u(this,t),i(this,n.call(this,r,f,e))}return e(t,n),t.prototype.buildCSSClass=function(){return"vjs-captions-button "+n.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+n.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||(t.push(new of(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),n.prototype.createItems.call(this,t)},t}(ui);sf.prototype.kind_="captions";sf.prototype.controlText_="Captions";t.registerComponent("CaptionsButton",sf);wo=function(n){function t(){return u(this,t),i(this,n.apply(this,arguments))}return e(t,n),t.prototype.createEl=function(t,i,r){var u='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(u+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"><\/span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"<\/span>\n      "),u+="<\/span>",n.prototype.createEl.call(this,t,a({innerHTML:u},i),r)},t}(gi);t.registerComponent("SubsCapsMenuItem",wo);hf=function(n){function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f;return u(this,t),f=i(this,n.call(this,r,e)),f.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(f.player_.language_)>-1&&(f.label_="captions"),f.menuButton_.controlText(l(f.label_)),f}return e(t,n),t.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+n.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+n.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||(t.push(new of(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=n.prototype.createItems.call(this,t,wo)},t}(ui);hf.prototype.kinds_=["captions","subtitles"];hf.prototype.controlText_="Subtitles";t.registerComponent("SubsCapsButton",hf);bo=function(n){function t(r,f){var o,h,e,c;return u(this,t),o=f.track,h=r.audioTracks(),f.label=o.label||o.language||"Unknown",f.selected=o.enabled,e=i(this,n.call(this,r,f)),e.track=o,c=s(e,e.handleTracksChange),h.addEventListener("change",c),e.on("dispose",function(){h.removeEventListener("change",c)}),e}return e(t,n),t.prototype.handleClick=function(t){var u=this.player_.audioTracks(),i,r;for(n.prototype.handleClick.call(this,t),i=0;i<u.length;i++)r=u[i],r.enabled=r===this.track},t.prototype.handleTracksChange=function(){this.selected(this.track.enabled)},t}(di);t.registerComponent("AudioTrackMenuItem",bo);ko=function(n){function t(r){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u(this,t),f.tracks=r.audioTracks(),i(this,n.call(this,r,f))}return e(t,n),t.prototype.buildCSSClass=function(){return"vjs-audio-button "+n.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+n.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t,n,r;for(this.hideThreshold_=1,t=this.player_.audioTracks(),n=0;n<t.length;n++)r=t[n],i.push(new bo(this.player_,{track:r,selectable:!0}));return i},t}(rf);ko.prototype.controlText_="Audio Track";t.registerComponent("AudioTrackButton",ko);cf=function(n){function t(r,f){var o,s,e;return u(this,t),o=f.rate,s=parseFloat(o,10),f.label=o,f.selected=1===s,f.selectable=!0,e=i(this,n.call(this,r,f)),e.label=o,e.rate=s,e.on(r,"ratechange",e.update),e}return e(t,n),t.prototype.handleClick=function(){n.prototype.handleClick.call(this);this.player().playbackRate(this.rate)},t.prototype.update=function(){this.selected(this.player().playbackRate()===this.rate)},t}(di);cf.prototype.contentElType="button";t.registerComponent("PlaybackRateMenuItem",cf);go=function(n){function t(r,f){u(this,t);var e=i(this,n.call(this,r,f));return e.updateVisibility(),e.updateLabel(),e.on(r,"loadstart",e.updateVisibility),e.on(r,"ratechange",e.updateLabel),e}return e(t,n),t.prototype.createEl=function(){var t=n.prototype.createEl.call(this);return this.labelEl_=y("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},t.prototype.dispose=function(){this.labelEl_=null;n.prototype.dispose.call(this)},t.prototype.buildCSSClass=function(){return"vjs-playback-rate "+n.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+n.prototype.buildWrapperCSSClass.call(this)},t.prototype.createMenu=function(){var i=new nf(this.player()),t=this.playbackRates(),n;if(t)for(n=t.length-1;n>=0;n--)i.addChild(new cf(this.player(),{rate:t[n]+"x"}));return i},t.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.prototype.handleClick=function(){for(var r=this.player().playbackRate(),n=this.playbackRates(),i=n[0],t=0;t<n.length;t++)if(n[t]>r){i=n[t];break}this.player().playbackRate(i)},t.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},t.prototype.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.prototype.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(tf);go.prototype.controlText_="Playback Rate";t.registerComponent("PlaybackRateMenuButton",go);ns=function(n){function t(){return u(this,t),i(this,n.apply(this,arguments))}return e(t,n),t.prototype.buildCSSClass=function(){return"vjs-spacer "+n.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(t);t.registerComponent("Spacer",ns);ta=function(n){function t(){return u(this,t),i(this,n.apply(this,arguments))}return e(t,n),t.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+n.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){var t=n.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="&nbsp;",t},t}(ns);t.registerComponent("CustomControlSpacer",ta);ts=function(n){function t(){return u(this,t),i(this,n.apply(this,arguments))}return e(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},t}(t);ts.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};t.registerComponent("ControlBar",ts);is=function(n){function t(r,f){u(this,t);var e=i(this,n.call(this,r,f));return e.on(r,"error",e.open),e}return e(t,n),t.prototype.buildCSSClass=function(){return"vjs-error-display "+n.prototype.buildCSSClass.call(this)},t.prototype.content=function(){var n=this.player().error();return n?this.localize(n.message):""},t}(pi);is.prototype.options_=v(pi.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});t.registerComponent("ErrorDisplay",is);var ia=["#000","Black"],ra=["#00F","Blue"],ua=["#0FF","Cyan"],fa=["#0F0","Green"],ea=["#F0F","Magenta"],oa=["#F00","Red"],sa=["#FFF","White"],ha=["#FF0","Yellow"],rs=["1","Opaque"],us=["0.5","Semi-Transparent"],ca=["0","Transparent"],fi={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[ia,sa,oa,fa,ra,ha,ea,ua]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[rs,us,ca]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[sa,ia,oa,fa,ra,ha,ea,ua]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],"default":2,parser:function(n){return"1.00"===n?null:Number(n)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[rs,us]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[ca,us,rs]}};fi.windowColor.options=fi.backgroundColor.options;la=function(t){function f(n,r){u(this,f);r.temporary=!1;var e=i(this,t.call(this,n,r));return e.updateDisplay=s(e,e.updateDisplay),e.fill(),e.hasBeenOpened_=e.hasBeenFilled_=!0,e.endDialog=y("p",{className:"vjs-control-text",textContent:e.localize("End of dialog window.")}),e.el().appendChild(e.endDialog),e.setDefaults(),void 0===r.persistTextTrackSettings&&(e.options_.persistTextTrackSettings=e.options_.playerOptions.persistTextTrackSettings),e.on(e.$(".vjs-done-button"),"click",function(){e.saveSettings();e.close()}),e.on(e.$(".vjs-default-button"),"click",function(){e.setDefaults();e.updateDisplay()}),ei(fi,function(n){e.on(e.$(n.selector),"change",e.updateDisplay)}),e.options_.persistTextTrackSettings&&e.restoreSettings(),e}return e(f,t),f.prototype.dispose=function(){this.endDialog=null;t.prototype.dispose.call(this)},f.prototype.createElSelect_=function(n){var f=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label",u=fi[n],i=u.id.replace("%s",this.id_);return["<"+r+' id="'+i+'" class="'+("label"===r?"vjs-label":"")+'">',this.localize(u.label),"<\/"+r+">",'<select aria-labelledby="'+(""!==t?t+" ":"")+i+'">'].concat(u.options.map(function(n){var r=i+"-"+n[1];return['<option id="'+r+'" value="'+n[0]+'" ','aria-labelledby="'+(""!==t?t+" ":"")+i+" "+r+'">',f.localize(n[1]),"<\/option>"].join("")})).concat("<\/select>").join("")},f.prototype.createElFgColor_=function(){var n="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Text"),"<\/legend>",this.createElSelect_("color",n),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",n),"<\/span>","<\/fieldset>"].join("")},f.prototype.createElBgColor_=function(){var n="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Background"),"<\/legend>",this.createElSelect_("backgroundColor",n),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",n),"<\/span>","<\/fieldset>"].join("")},f.prototype.createElWinColor_=function(){var n="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Window"),"<\/legend>",this.createElSelect_("windowColor",n),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",n),"<\/span>","<\/fieldset>"].join("")},f.prototype.createElColors_=function(){return y("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},f.prototype.createElFont_=function(){return y("div",{className:'vjs-track-settings-font">',innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"<\/fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"<\/fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"<\/fieldset>"].join("")})},f.prototype.createElControls_=function(){var n=this.localize("restore all settings to the default values");return y("div",{className:"vjs-track-settings-controls",innerHTML:['<button class="vjs-default-button" title="'+n+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+n+"<\/span>","<\/button>",'<button class="vjs-done-button">'+this.localize("Done")+"<\/button>"].join("")})},f.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},f.prototype.label=function(){return this.localize("Caption Settings Dialog")},f.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},f.prototype.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},f.prototype.getValues=function(){var n=this;return ka(fi,function(t,i,r){var u=fy(n.$(i.selector),i.parser);return void 0!==u&&(t[r]=u),t},{})},f.prototype.setValues=function(n){var t=this;ei(fi,function(i,r){ey(t.$(i.selector),n[r],i.parser)})},f.prototype.setDefaults=function(){var n=this;ei(fi,function(t){var i=t.hasOwnProperty("default")?t.default:0;n.$(t.selector).selectedIndex=i})},f.prototype.restoreSettings=function(){var t=void 0;try{t=JSON.parse(n.localStorage.getItem("vjs-text-track-settings"))}catch(t){h.warn(t)}t&&this.setValues(t)},f.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?n.localStorage.setItem("vjs-text-track-settings",JSON.stringify(t)):n.localStorage.removeItem("vjs-text-track-settings")}catch(t){h.warn(t)}}},f.prototype.updateDisplay=function(){var n=this.player_.getChild("textTrackDisplay");n&&n.updateDisplay()},f.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null;this.off(r,"keydown",this.handleKeyDown);var n=this.player_.controlBar,t=n&&n.subsCapsButton,i=n&&n.captionsButton;t?t.focus():i&&i.focus()},f}(pi);t.registerComponent("TextTrackSettings",la);aa=le(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]);f=function(t){function f(n,r){var o,s;u(this,f);var e=i(this,t.call(this,n,r)),c=n.source,l=!1;if(c&&(e.el_.currentSrc!==c.src||n.tag&&3===n.tag.initNetworkState_)?e.setSource(c):e.handleLateInit_(e.el_),e.el_.hasChildNodes()){for(var v=e.el_.childNodes,y=v.length,a=[];y--;)o=v[y],"track"===o.nodeName.toLowerCase()&&(e.featuresNativeTextTracks?(e.remoteTextTrackEls().addTrackElement_(o),e.remoteTextTracks().addTrack(o.track),e.textTracks().addTrack(o.track),l||e.el_.hasAttribute("crossorigin")||!pu(o.src)||(l=!0)):a.push(o));for(s=0;s<a.length;s++)e.el_.removeChild(a[s])}return e.proxyNativeTracks_(),e.featuresNativeTextTracks&&l&&h.warn(ae(aa)),e.restoreMetadataTracksInIOSNativePlayer_(),(su||he||gh)&&!0===n.nativeControlsForTouch&&e.setControls(!0),e.proxyWebkitFullscreen_(),e.triggerReady(),e}return e(f,t),f.prototype.dispose=function(){f.disposeMediaElement(this.el_);this.options_=null;t.prototype.dispose.call(this)},f.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){var n=this.textTracks(),i=void 0,t=function(){var t,r;for(i=[],t=0;t<n.length;t++)r=n[t],"metadata"===r.kind&&i.push({track:r,storedMode:r.mode})},r;t();n.addEventListener("change",t);this.on("dispose",function(){return n.removeEventListener("change",t)});r=function t(){for(var r,u=0;u<i.length;u++)r=i[u],"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode);n.removeEventListener("change",t)};this.on("webkitbeginfullscreen",function(){n.removeEventListener("change",t);n.removeEventListener("change",r);n.addEventListener("change",r)});this.on("webkitendfullscreen",function(){n.removeEventListener("change",t);n.addEventListener("change",t);n.removeEventListener("change",r)})},f.prototype.proxyNativeTracks_=function(){var n=this;ft.names.forEach(function(t){var u=ft[t],r=n.el()[u.getterName],i=n[u.getterName](),f,e;n["featuresNative"+u.capitalName+"Tracks"]&&r&&r.addEventListener&&(f={change:function(){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},addtrack:function(n){i.addTrack(n.track)},removetrack:function(n){i.removeTrack(n.track)}},e=function(){for(var f,u,t=[],n=0;n<i.length;n++){for(f=!1,u=0;u<r.length;u++)if(r[u]===i[n]){f=!0;break}f||t.push(i[n])}for(;t.length;)i.removeTrack(t.shift())},Object.keys(f).forEach(function(t){var i=f[t];r.addEventListener(t,i);n.on("dispose",function(){return r.removeEventListener(t,i)})}),n.on("loadstart",e),n.on("dispose",function(){return n.off("loadstart",e)}))})},f.prototype.createEl=function(){var n=this.options_.tag,e,h,o,s,i,t,u;for(n&&(this.options_.playerElIngest||this.movingMediaElementInDOM)||(n?(e=n.cloneNode(!0),n.parentNode&&n.parentNode.insertBefore(e,n),f.disposeMediaElement(n),n=e):(n=r.createElement("video"),h=this.options_.tag&&yt(this.options_.tag),o=v({},h),su&&!0===this.options_.nativeControlsForTouch||delete o.controls,ls(n,a(o,{id:this.options_.techId,"class":"vjs-tech"}))),n.playerId=this.options_.playerId),void 0!==this.options_.preload&&tu(n,"preload",this.options_.preload),s=["loop","muted","playsinline","autoplay"],i=0;i<s.length;i++)t=s[i],u=this.options_[t],void 0!==u&&(u?tu(n,t,t):bf(n,t),n[t]=u);return n},f.prototype.handleLateInit_=function(n){var i,r,u,t;if(0!==n.networkState&&3!==n.networkState){if(0===n.readyState){i=!1;r=function(){i=!0};this.on("loadstart",r);return u=function(){i||this.trigger("loadstart")},this.on("loadedmetadata",u),void this.ready(function(){this.off("loadstart",r);this.off("loadedmetadata",u);i||this.trigger("loadstart")})}t=["loadstart"];t.push("loadedmetadata");n.readyState>=2&&t.push("loadeddata");n.readyState>=3&&t.push("canplay");n.readyState>=4&&t.push("canplaythrough");this.ready(function(){t.forEach(function(n){this.trigger(n)},this)})}},f.prototype.setCurrentTime=function(n){try{this.el_.currentTime=n}catch(n){h(n,"Video is not ready. (Video.js)")}},f.prototype.duration=function(){var n=this,t;return this.el_.duration===1/0&&lt&&lr&&0===this.el_.currentTime?(t=function t(){n.el_.currentTime>0&&(n.el_.duration===1/0&&n.trigger("durationchange"),n.off("timeupdate",t))},this.on("timeupdate",t),NaN):this.el_.duration||NaN},f.prototype.width=function(){return this.el_.offsetWidth},f.prototype.height=function(){return this.el_.offsetHeight},f.prototype.proxyWebkitFullscreen_=function(){var i=this,n,t;"webkitDisplayingFullscreen"in this.el_&&(n=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},t=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",n),this.trigger("fullscreenchange",{isFullscreen:!0}))},this.on("webkitbeginfullscreen",t),this.on("dispose",function(){i.off("webkitbeginfullscreen",t);i.off("webkitendfullscreen",n)}))},f.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var t=n.navigator&&n.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},f.prototype.enterFullScreen=function(){var n=this.el_;n.paused&&n.networkState<=n.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){n.pause();n.webkitEnterFullScreen()},0)):n.webkitEnterFullScreen()},f.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},f.prototype.src=function(n){if(void 0===n)return this.el_.src;this.setSrc(n)},f.prototype.reset=function(){f.resetMediaElement(this.el_)},f.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},f.prototype.setControls=function(n){this.el_.controls=!!n},f.prototype.addTextTrack=function(n,i,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(n,i,r):t.prototype.addTextTrack.call(this,n,i,r)},f.prototype.createRemoteTextTrack=function(n){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,n);var i=r.createElement("track");return n.kind&&(i.kind=n.kind),n.label&&(i.label=n.label),(n.language||n.srclang)&&(i.srclang=n.language||n.srclang),n.default&&(i.default=n.default),n.id&&(i.id=n.id),n.src&&(i.src=n.src),i},f.prototype.addRemoteTextTrack=function(n,i){var r=t.prototype.addRemoteTextTrack.call(this,n,i);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},f.prototype.removeRemoteTextTrack=function(n){if(t.prototype.removeRemoteTextTrack.call(this,n),this.featuresNativeTextTracks)for(var i=this.$$("track"),r=i.length;r--;)n!==i[r]&&n!==i[r].track||this.el().removeChild(i[r])},f.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),n.performance&&"function"==typeof n.performance.now?t.creationTime=n.performance.now():n.performance&&n.performance.timing&&"number"==typeof n.performance.timing.navigationStart&&(t.creationTime=n.Date.now()-n.performance.timing.navigationStart),t},f}(c);vt()&&(f.TEST_VID=r.createElement("video"),kr=r.createElement("track"),kr.kind="captions",kr.srclang="en",kr.label="English",f.TEST_VID.appendChild(kr));f.isSupported=function(){try{f.TEST_VID.volume=.5}catch(n){return!1}return!(!f.TEST_VID||!f.TEST_VID.canPlayType)};f.canPlayType=function(n){return f.TEST_VID.canPlayType(n)};f.canPlaySource=function(n){return f.canPlayType(n.type)};f.canControlVolume=function(){try{var n=f.TEST_VID.volume;return f.TEST_VID.volume=n/2+.1,n!==f.TEST_VID.volume}catch(n){return!1}};f.canControlPlaybackRate=function(){if(lt&&lr&&tc<58)return!1;try{var n=f.TEST_VID.playbackRate;return f.TEST_VID.playbackRate=n/2+.1,n!==f.TEST_VID.playbackRate}catch(n){return!1}};f.supportsNativeTextTracks=function(){return rc};f.supportsNativeVideoTracks=function(){return!(!f.TEST_VID||!f.TEST_VID.videoTracks)};f.supportsNativeAudioTracks=function(){return!(!f.TEST_VID||!f.TEST_VID.audioTracks)};f.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];f.prototype.featuresVolumeControl=f.canControlVolume();f.prototype.featuresPlaybackRate=f.canControlPlaybackRate();f.prototype.movingMediaElementInDOM=!gt;f.prototype.featuresFullscreenResize=!0;f.prototype.featuresProgressEvents=!0;f.prototype.featuresTimeupdateEvents=!0;f.prototype.featuresNativeTextTracks=f.supportsNativeTextTracks();f.prototype.featuresNativeVideoTracks=f.supportsNativeVideoTracks();f.prototype.featuresNativeAudioTracks=f.supportsNativeAudioTracks();var fs=f.TEST_VID&&f.TEST_VID.constructor.prototype.canPlayType,lw=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,aw=/^video\/mp4/i;f.patchCanPlayType=function(){ou>=4&&!nc?f.TEST_VID.constructor.prototype.canPlayType=function(n){return n&&lw.test(n)?"maybe":fs.call(this,n)}:dh&&(f.TEST_VID.constructor.prototype.canPlayType=function(n){return n&&aw.test(n)?"maybe":fs.call(this,n)})};f.unpatchCanPlayType=function(){var n=f.TEST_VID.constructor.prototype.canPlayType;return f.TEST_VID.constructor.prototype.canPlayType=fs,n};f.patchCanPlayType();f.disposeMediaElement=function(n){if(n){for(n.parentNode&&n.parentNode.removeChild(n);n.hasChildNodes();)n.removeChild(n.firstChild);n.removeAttribute("src");"function"==typeof n.load&&function(){try{n.load()}catch(n){}}()}};f.resetMediaElement=function(n){if(n){for(var t=n.querySelectorAll("source"),i=t.length;i--;)n.removeChild(t[i]);n.removeAttribute("src");"function"==typeof n.load&&function(){try{n.load()}catch(n){}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(n){f.prototype[n]=function(){return this.el_[n]||this.el_.hasAttribute(n)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(n){f.prototype["set"+l(n)]=function(t){this.el_[n]=t;t?this.el_.setAttribute(n,n):this.el_.removeAttribute(n)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(n){f.prototype[n]=function(){return this.el_[n]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(n){f.prototype["set"+l(n)]=function(t){this.el_[n]=t}});["pause","load","play"].forEach(function(n){f.prototype[n]=function(){return this.el_[n]()}});c.withSourceHandlers(f);f.nativeSourceHandler={};f.nativeSourceHandler.canPlayType=function(n){try{return f.TEST_VID.canPlayType(n)}catch(n){return""}};f.nativeSourceHandler.canHandleSource=function(n){if(n.type)return f.nativeSourceHandler.canPlayType(n.type);if(n.src){var t=nl(n.src);return f.nativeSourceHandler.canPlayType("video/"+t)}return""};f.nativeSourceHandler.handleSource=function(n,t){t.setSrc(n.src)};f.nativeSourceHandler.dispose=function(){};f.registerSourceHandler(f.nativeSourceHandler);c.registerTech("Html5",f);var vw=le(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),va=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","resize","volumechange","texttrackchange"],w=function(f){function o(n,t,r){var h,s,e,c,y,l,p;if(u(this,o),n.id=n.id||"vjs_video_"+kt(),t=a(o.getTagSettings(n),t),t.initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language)if("function"==typeof n.closest)h=n.closest("[lang]"),h&&h.getAttribute&&(t.language=h.getAttribute("lang"));else for(s=n;s&&1===s.nodeType;){if(yt(s).hasOwnProperty("lang")){t.language=s.getAttribute("lang");break}s=s.parentNode}if(e=i(this,f.call(this,null,t,r)),e.isReady_=!1,e.hasStarted_=!1,e.userActive_=!1,!e.options_||!e.options_.techOrder||!e.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");return(e.tag=n,e.tagAttributes=n&&yt(n),e.language(e.options_.language),t.languages)?(c={},Object.getOwnPropertyNames(t.languages).forEach(function(n){c[n.toLowerCase()]=t.languages[n]}),e.languages_=c):e.languages_=o.prototype.options_.languages,e.cache_={},e.poster_=t.poster||"",e.controls_=!!t.controls,e.cache_.lastVolume=1,n.controls=!1,n.removeAttribute("controls"),e.scrubbing_=!1,e.el_=e.createEl(),ie(e,{eventBusKey:"el_"}),y=v(e.options_),t.plugins&&(l=t.plugins,Object.keys(l).forEach(function(n){if("function"!=typeof this[n])throw new Error('plugin "'+n+'" does not exist');this[n](l[n])},e)),e.options_.playerOptions=y,e.middleware_=[],e.initChildren(),e.isAudio("audio"===n.nodeName.toLowerCase()),e.controls()?e.addClass("vjs-controls-enabled"):e.addClass("vjs-controls-disabled"),e.el_.setAttribute("role","region"),e.isAudio()?e.el_.setAttribute("aria-label",e.localize("Audio Player")):e.el_.setAttribute("aria-label",e.localize("Video Player")),e.isAudio()&&e.addClass("vjs-audio"),e.flexNotSupported_()&&e.addClass("vjs-no-flex"),gt||e.addClass("vjs-workinghover"),o.players[e.id_]=e,p=vh.split(".")[0],e.addClass("vjs-v"+p),e.userActive(!0),e.reportUserActivity(),e.listenForUserActivity_(),e.on("fullscreenchange",e.handleFullscreenChange_),e.on("stageclick",e.handleStageClick_),e.changingSrc_=!1,e.playWaitingForReady_=!1,e.playOnLoadstart_=null,e.forceAutoplayInChrome_(),e}return e(o,f),o.prototype.dispose=function(){this.trigger("dispose");this.off("dispose");this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null);o.players[this.id_]=null;this.tag&&this.tag.player&&(this.tag.player=null);this.el_&&this.el_.player&&(this.el_.player=null);this.tech_&&this.tech_.dispose();this.playerElIngest_&&(this.playerElIngest_=null);this.tag&&(this.tag=null);f.prototype.dispose.call(this)},o.prototype.createEl=function(){var t=this.tag,i=void 0,s=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player"),e="video-js"===this.tag.tagName.toLowerCase(),u,h,c,l,o,a;if(s?i=this.el_=t.parentNode:e||(i=this.el_=f.prototype.createEl.call(this,"div")),u=yt(t),e){for(i=this.el_=t,t=this.tag=r.createElement("video");i.children.length;)t.appendChild(i.firstChild);oi(i,"video-js")||bt(i,"video-js");i.appendChild(t);s=this.playerElIngest_=i}for((t.setAttribute("tabindex","-1"),t.removeAttribute("width"),t.removeAttribute("height"),Object.getOwnPropertyNames(u).forEach(function(n){"class"===n?(i.className+=" "+u[n],e&&(t.className+=" "+u[n])):(i.setAttribute(n,u[n]),e&&t.setAttribute(n,u[n]))}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=i.player=this,this.addClass("vjs-paused"),!0!==n.VIDEOJS_NO_DYNAMIC_STYLE)&&(this.styleEl_=cc("vjs-styles-dimensions"),h=ni(".vjs-styles-defaults"),c=ni("head"),c.insertBefore(this.styleEl_,h?h.nextSibling:c.firstChild)),this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),l=t.getElementsByTagName("a"),o=0;o<l.length;o++)a=l.item(o),bt(a,"vjs-hidden"),a.setAttribute("hidden","hidden");return t.initNetworkState_=t.networkState,t.parentNode&&!s&&t.parentNode.insertBefore(i,t),nu(t,i),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_=i,i},o.prototype.width=function(n,t){return this.dimension("width",n,t)},o.prototype.height=function(n,t){return this.dimension("height",n,t)},o.prototype.dimension=function(n,t,i){var r=n+"_",u;if(void 0===t)return this[r]||0;if(""===t)return this[r]=void 0,void this.updateStyleEl_();if(u=parseFloat(t),isNaN(u))return void h.error('Improper value "'+t+'" supplied for for '+n);this[r]=u;this.updateStyleEl_();this.isReady_&&!i&&this.trigger("playerresize")},o.prototype.fluid=function(n){if(void 0===n)return!!this.fluid_;this.fluid_=!!n;n?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid");this.updateStyleEl_()},o.prototype.aspectRatio=function(n){if(void 0===n)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(n))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=n;this.fluid(!0);this.updateStyleEl_()},o.prototype.updateStyleEl_=function(){var f,i;if(!0===n.VIDEOJS_NO_DYNAMIC_STYLE){var e="number"==typeof this.width_?this.width_:this.options_.width,o="number"==typeof this.height_?this.height_:this.options_.height,r=this.tech_&&this.tech_.el();return void(r&&(e>=0&&(r.width=e),o>=0&&(r.height=o)))}var u=void 0,s=void 0,h=void 0,t=void 0;h=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";f=h.split(":");i=f[1]/f[0];u=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/i:this.videoWidth()||300;s=void 0!==this.height_?this.height_:u*i;t=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions";this.addClass(t);lc(this.styleEl_,"\n      ."+t+" {\n        width: "+u+"px;\n        height: "+s+"px;\n      }\n\n      ."+t+".vjs-fluid {\n        padding-top: "+100*i+"%;\n      }\n    ")},o.prototype.loadTech_=function(n,t){var u=this,i,e,r,f;if(this.tech_&&this.unloadTech_(),i=l(n),e=n.charAt(0).toLowerCase()+n.slice(1),"Html5"!==i&&this.tag&&(c.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1,r={source:t,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+i+"_api",autoplay:this.options_.autoplay,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"]},tt.names.forEach(function(n){var t=tt[n];r[t.getterName]=u[t.privateName]}),a(r,this.options_[i]),a(r,this.options_[e]),a(r,this.options_[n.toLowerCase()]),this.tag&&(r.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(r.startTime=this.cache_.currentTime),f=c.getTech(n),!f)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new f(r);this.tech_.ready(s(this,this.handleTechReady_),!0);wc.jsonToTextTracks(this.textTracksJson_||[],this.tech_);va.forEach(function(n){u.on(u.tech_,n,u["handleTech"+l(n)+"_"])});this.on(this.tech_,"loadstart",this.handleTechLoadStart_);this.on(this.tech_,"waiting",this.handleTechWaiting_);this.on(this.tech_,"canplay",this.handleTechCanPlay_);this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_);this.on(this.tech_,"playing",this.handleTechPlaying_);this.on(this.tech_,"ended",this.handleTechEnded_);this.on(this.tech_,"seeking",this.handleTechSeeking_);this.on(this.tech_,"seeked",this.handleTechSeeked_);this.on(this.tech_,"play",this.handleTechPlay_);this.on(this.tech_,"firstplay",this.handleTechFirstPlay_);this.on(this.tech_,"pause",this.handleTechPause_);this.on(this.tech_,"durationchange",this.handleTechDurationChange_);this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_);this.on(this.tech_,"error",this.handleTechError_);this.on(this.tech_,"loadedmetadata",this.updateStyleEl_);this.on(this.tech_,"posterchange",this.handleTechPosterChange_);this.on(this.tech_,"textdata",this.handleTechTextData_);this.usingNativeControls(this.techGet_("controls"));this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_();this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||nu(this.tech_.el(),this.el());this.tag&&(this.tag.player=null,this.tag=null)},o.prototype.unloadTech_=function(){var n=this;tt.names.forEach(function(t){var i=tt[t];n[i.privateName]=n[i.getterName]()});this.textTracksJson_=wc.textTracksToJson(this.tech_);this.isReady_=!1;this.tech_.dispose();this.tech_=!1},o.prototype.tech=function(n){return void 0===n&&h.warn(ae(vw)),this.tech_},o.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_();this.on(this.tech_,"mousedown",this.handleTechClick_);this.on(this.tech_,"touchstart",this.handleTechTouchStart_);this.on(this.tech_,"touchmove",this.handleTechTouchMove_);this.on(this.tech_,"touchend",this.handleTechTouchEnd_);this.on(this.tech_,"tap",this.handleTechTap_)},o.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_);this.off(this.tech_,"touchstart",this.handleTechTouchStart_);this.off(this.tech_,"touchmove",this.handleTechTouchMove_);this.off(this.tech_,"touchend",this.handleTechTouchEnd_);this.off(this.tech_,"mousedown",this.handleTechClick_)},o.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused())try{delete this.tag.poster}catch(n){h("deleting tag.poster throws in some browsers",n)}},o.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended");this.removeClass("vjs-seeking");this.error(null);this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},o.prototype.hasStarted=function(n){if(void 0===n)return this.hasStarted_;n!==this.hasStarted_&&(this.hasStarted_=n,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},o.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended");this.removeClass("vjs-paused");this.addClass("vjs-playing");this.hasStarted(!0);this.trigger("play")},o.prototype.handleTechWaiting_=function(){var n=this;this.addClass("vjs-waiting");this.trigger("waiting");this.one("timeupdate",function(){return n.removeClass("vjs-waiting")})},o.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting");this.trigger("canplay")},o.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting");this.trigger("canplaythrough")},o.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting");this.trigger("playing")},o.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking");this.trigger("seeking")},o.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking");this.trigger("seeked")},o.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(h.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime));this.addClass("vjs-has-started");this.trigger("firstplay")},o.prototype.handleTechPause_=function(){this.removeClass("vjs-playing");this.addClass("vjs-paused");this.trigger("pause")},o.prototype.handleTechEnded_=function(){this.addClass("vjs-ended");this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause();this.trigger("ended")},o.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},o.prototype.handleTechClick_=function(n){si(n)&&this.controls_&&(this.paused()?this.play():this.pause())},o.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},o.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},o.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},o.prototype.handleTechTouchEnd_=function(n){n.preventDefault()},o.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},o.prototype.handleStageClick_=function(){this.reportUserActivity()},o.prototype.handleTechFullscreenChange_=function(n,t){t&&this.isFullscreen(t.isFullscreen);this.trigger("fullscreenchange")},o.prototype.handleTechError_=function(){var n=this.tech_.error();this.error(n)},o.prototype.handleTechTextData_=function(){var n=null;arguments.length>1&&(n=arguments[1]);this.trigger("textdata",n)},o.prototype.getCache=function(){return this.cache_},o.prototype.techCall_=function(n,t){this.ready(function(){if(n in sw)return uy(this.middleware_,this.tech_,n,t);try{this.tech_&&this.tech_[n](t)}catch(n){throw h(n),n;}},!0)},o.prototype.techGet_=function(n){if(this.tech_&&this.tech_.isReady_){if(n in ow)return ry(this.middleware_,this.tech_,n);try{return this.tech_[n]()}catch(t){if(void 0===this.tech_[n])throw h("Video.js: "+n+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw h("Video.js: "+n+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw h(t),t;}}},o.prototype.play=function(){var n=this;if(this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_){if(!this.changingSrc_&&(this.src()||this.currentSrc()))return this.techGet_("play");this.playOnLoadstart_=function(){n.playOnLoadstart_=null;fh(n.play())};this.one("loadstart",this.playOnLoadstart_)}else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0;this.ready(function(){n.playWaitingForReady_=!1;fh(n.play())})}},o.prototype.pause=function(){this.techCall_("pause")},o.prototype.paused=function(){return!1!==this.techGet_("paused")},o.prototype.played=function(){return this.techGet_("played")||dt(0,0)},o.prototype.scrubbing=function(n){if(void 0===n)return this.scrubbing_;this.scrubbing_=!!n;n?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},o.prototype.currentTime=function(n){return void 0!==n?(n<0&&(n=0),void this.techCall_("setCurrentTime",n)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},o.prototype.duration=function(n){if(void 0===n)return void 0!==this.cache_.duration?this.cache_.duration:NaN;n=parseFloat(n);n<0&&(n=1/0);n!==this.cache_.duration&&(this.cache_.duration=n,n===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},o.prototype.remainingTime=function(){return this.duration()-this.currentTime()},o.prototype.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},o.prototype.buffered=function(){var n=this.techGet_("buffered");return n&&n.length||(n=dt(0,0)),n},o.prototype.bufferedPercent=function(){return rh(this.buffered(),this.duration())},o.prototype.bufferedEnd=function(){var t=this.buffered(),i=this.duration(),n=t.end(t.length-1);return n>i&&(n=i),n},o.prototype.volume=function(n){var t=void 0;return void 0!==n?(t=Math.max(0,Math.min(1,parseFloat(n))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},o.prototype.muted=function(n){return void 0!==n?void this.techCall_("setMuted",n):this.techGet_("muted")||!1},o.prototype.defaultMuted=function(n){return void 0!==n?this.techCall_("setDefaultMuted",n):this.techGet_("defaultMuted")||!1},o.prototype.lastVolume_=function(n){return void 0!==n&&0!==n?void(this.cache_.lastVolume=n):this.cache_.lastVolume},o.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},o.prototype.isFullscreen=function(n){return void 0!==n?void(this.isFullscreen_=!!n):!!this.isFullscreen_},o.prototype.requestFullscreen=function(){var n=pe;this.isFullscreen(!0);n.requestFullscreen?(st(r,n.fullscreenchange,s(this,function t(){this.isFullscreen(r[n.fullscreenElement]);!1===this.isFullscreen()&&et(r,n.fullscreenchange,t);this.trigger("fullscreenchange")})),this.el_[n.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},o.prototype.exitFullscreen=function(){var n=pe;this.isFullscreen(!1);n.requestFullscreen?r[n.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},o.prototype.enterFullWindow=function(){this.isFullWindow=!0;this.docOrigOverflow=r.documentElement.style.overflow;st(r,"keydown",s(this,this.fullWindowOnEscKey));r.documentElement.style.overflow="hidden";bt(r.body,"vjs-full-window");this.trigger("enterFullWindow")},o.prototype.fullWindowOnEscKey=function(n){27===n.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},o.prototype.exitFullWindow=function(){this.isFullWindow=!1;et(r,"keydown",this.fullWindowOnEscKey);r.documentElement.style.overflow=this.docOrigOverflow;ur(r.body,"vjs-full-window");this.trigger("exitFullWindow")},o.prototype.canPlayType=function(n){for(var r,i,f=void 0,u=0,e=this.options_.techOrder;u<e.length;u++)if(r=e[u],i=c.getTech(r),i||(i=t.getComponent(r)),i){if(i.isSupported()&&(f=i.canPlayType(n)))return f}else h.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.');return""},o.prototype.selectSource=function(n){var u=this,t=this.options_.techOrder.map(function(n){return[n,c.getTech(n)]}).filter(function(n){var i=n[0],t=n[1];return t?t.isSupported():(h.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),i=function(n,t,i){var r=void 0;return n.some(function(n){return t.some(function(t){if(r=i(n,t))return!0})}),r},r=function(n,t){var i=n[0];if(n[1].canPlaySource(t,u.options_[i.toLowerCase()]))return{source:t,tech:i}};return(this.options_.sourceOrder?i(n,t,function(n){return function(t,i){return n(i,t)}}(r)):i(t,n,r))||!1},o.prototype.src=function(n){var t=this,i;if(void 0===n)return this.cache_.src||"";if(i=hw(n),!i.length)return void this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);this.cache_.sources=i;this.changingSrc_=!0;this.cache_.source=i[0];ty(this,i[0],function(n,r){if(t.middleware_=r,t.src_(n))return i.length>1?t.src(i.slice(1)):(t.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void t.triggerReady());t.changingSrc_=!1;t.cache_.src=n.src;iy(r,t.tech_)})},o.prototype.src_=function(n){var t=this.selectSource([n]);return!t||(nv(t.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",n):this.techCall_("src",n.src);"auto"===this.options_.preload&&this.load()},!0),!1):(this.changingSrc_=!0,this.loadTech_(t.tech,t.source),!1))},o.prototype.load=function(){this.techCall_("load")},o.prototype.reset=function(){this.loadTech_(this.options_.techOrder[0],null);this.techCall_("reset")},o.prototype.currentSources=function(){var n=this.currentSource(),t=[];return 0!==Object.keys(n).length&&t.push(n),this.cache_.sources||t},o.prototype.currentSource=function(){return this.cache_.source||{}},o.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},o.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},o.prototype.preload=function(n){return void 0!==n?(this.techCall_("setPreload",n),void(this.options_.preload=n)):this.techGet_("preload")},o.prototype.autoplay=function(n){return void 0!==n?(this.techCall_("setAutoplay",n),this.options_.autoplay=n,void this.ready(this.forceAutoplayInChrome_)):this.techGet_("autoplay",n)},o.prototype.forceAutoplayInChrome_=function(){this.paused()&&(this.autoplay()||this.options_.autoplay)&&lr&&!lt&&this.play()},o.prototype.playsinline=function(n){return void 0!==n?(this.techCall_("setPlaysinline",n),this.options_.playsinline=n,this):this.techGet_("playsinline")},o.prototype.loop=function(n){return void 0!==n?(this.techCall_("setLoop",n),void(this.options_.loop=n)):this.techGet_("loop")},o.prototype.poster=function(n){if(void 0===n)return this.poster_;n||(n="");this.poster_=n;this.techCall_("setPoster",n);this.trigger("posterchange")},o.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},o.prototype.controls=function(n){if(void 0===n)return!!this.controls_;n=!!n;this.controls_!==n&&(this.controls_=n,this.usingNativeControls()&&this.techCall_("setControls",n),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},o.prototype.usingNativeControls=function(n){if(void 0===n)return!!this.usingNativeControls_;n=!!n;this.usingNativeControls_!==n&&(this.usingNativeControls_=n,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},o.prototype.error=function(n){return void 0===n?this.error_||null:null===n?(this.error_=n,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new k(n),this.addClass("vjs-error"),h.error("(CODE:"+this.error_.code+" "+k.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},o.prototype.reportUserActivity=function(){this.userActivity_=!0},o.prototype.userActive=function(n){if(void 0===n)return this.userActive_;if((n=!!n)!==this.userActive_){if(this.userActive_=n,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(n){n.stopPropagation();n.preventDefault()});this.userActivity_=!1;this.removeClass("vjs-user-active");this.addClass("vjs-user-inactive");this.trigger("userinactive")}},o.prototype.listenForUserActivity_=function(){var t=void 0,r=void 0,u=void 0,n=s(this,this.reportUserActivity),f=function(t){t.screenX===r&&t.screenY===u||(r=t.screenX,u=t.screenY,n())},e=function(){n();this.clearInterval(t);t=this.setInterval(n,250)},o=function(){n();this.clearInterval(t)},i;this.on("mousedown",e);this.on("mousemove",f);this.on("mouseup",o);this.on("keydown",n);this.on("keyup",n);i=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1;this.userActive(!0);this.clearTimeout(i);var n=this.options_.inactivityTimeout;n<=0||(i=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},n))}},250)},o.prototype.playbackRate=function(n){return void 0!==n?void this.techCall_("setPlaybackRate",n):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},o.prototype.defaultPlaybackRate=function(n){return void 0!==n?this.techCall_("setDefaultPlaybackRate",n):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},o.prototype.isAudio=function(n){return void 0!==n?void(this.isAudio_=!!n):!!this.isAudio_},o.prototype.addTextTrack=function(n,t,i){if(this.tech_)return this.tech_.addTextTrack(n,t,i)},o.prototype.addRemoteTextTrack=function(n,t){if(this.tech_)return this.tech_.addRemoteTextTrack(n,t)},o.prototype.removeRemoteTextTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.track,i=void 0===n?arguments[0]:n;if(this.tech_)return this.tech_.removeRemoteTextTrack(i)},o.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},o.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},o.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},o.prototype.language=function(n){if(void 0===n)return this.language_;this.language_=String(n).toLowerCase()},o.prototype.languages=function(){return v(o.prototype.options_.languages,this.languages_)},o.prototype.toJSON=function(){var i=v(this.options_),r=i.tracks,n,t;for(i.tracks=[],n=0;n<r.length;n++)t=r[n],t=v(t),t.player=void 0,i.tracks[n]=t;return i},o.prototype.createModal=function(n,t){var r=this,i;return t=t||{},t.content=n||"",i=new pi(this,t),this.addChild(i),i.on("dispose",function(){r.removeChild(i)}),i.open(),i},o.getTagSettings=function(n){var t={sources:[],tracks:[]},i=yt(n),e=i["data-setup"],r,f;if(oi(n,"vjs-fluid")&&(i.fluid=!0),null!==e){var o=gy(e||"{}"),s=o[0],l=o[1];s&&h.error(s);a(i,l)}if(a(t,i),n.hasChildNodes())for(var c=n.childNodes,u=0,v=c.length;u<v;u++)r=c[u],f=r.nodeName.toLowerCase(),"source"===f?t.sources.push(yt(r)):"track"===f&&t.tracks.push(yt(r));return t},o.prototype.flexNotSupported_=function(){var n=r.createElement("i");return!("flexBasis"in n.style||"webkitFlexBasis"in n.style||"mozFlexBasis"in n.style||"msFlexBasis"in n.style||"msFlexOrder"in n.style)},o}(t);tt.names.forEach(function(n){var t=tt[n];w.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}});w.players={};nr=n.navigator;w.prototype.options_={techOrder:c.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:nr&&(nr.languages&&nr.languages[0]||nr.userLanguage||nr.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."};["ended","seeking","seekable","networkState","readyState"].forEach(function(n){w.prototype[n]=function(){return this.techGet_(n)}});va.forEach(function(n){w.prototype["handleTech"+l(n)+"_"]=function(){return this.trigger(n)}});t.registerComponent("Player",w);var tr={},lf=function(n){return tr.hasOwnProperty(n)},af=function(n){if(lf(n))return tr[n]},ya=function(n,t){n.activePlugins_=n.activePlugins_||{};n.activePlugins_[t]=!0},vf=function(n,t,i){var r=(i?"before":"")+"pluginsetup";n.trigger(r,t);n.trigger(r+":"+t.name,t)},yw=function(n,t){var i=function(){vf(this,{name:n,plugin:t,instance:null},!0);var i=t.apply(this,arguments);return ya(this,n),vf(this,{name:n,plugin:t,instance:i}),i};return Object.keys(t).forEach(function(n){i[n]=t[n]}),i},pa=function(n,t){return t.prototype.name=n,function(){var r;vf(this,{name:n,plugin:t,instance:null},!0);for(var u=arguments.length,f=Array(u),i=0;i<u;i++)f[i]=arguments[i];return r=new(Function.prototype.bind.apply(t,[null].concat([this].concat(f)))),this[n]=function(){return r},vf(this,r.getEventHash()),r}},at=function(){function n(t){if(u(this,n),this.constructor===n)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t;ie(this);delete this.trigger;th(this,this.constructor.defaultState);ya(t,this.name);this.dispose=s(this,this.dispose);t.on("dispose",this.dispose)}return n.prototype.version=function(){return this.constructor.VERSION},n.prototype.getEventHash=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.name=this.name,n.plugin=this.constructor,n.instance=this,n},n.prototype.trigger=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return hi(this.eventBusEl_,n,this.getEventHash(t))},n.prototype.handleStateChanged=function(){},n.prototype.dispose=function(){var n=this.name,t=this.player;this.trigger("dispose");this.off();t.off("dispose",this.dispose);t.activePlugins_[n]=!1;this.player=this.state=null;t[n]=pa(n,tr[n])},n.isBasic=function(t){var i="string"==typeof t?af(t):t;return"function"==typeof i&&!n.prototype.isPrototypeOf(i.prototype)},n.registerPlugin=function(t,i){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+(void 0===t?"undefined":vi(t))+".");if(lf(t))h.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(w.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof i)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+(void 0===i?"undefined":vi(i))+".");return tr[t]=i,"plugin"!==t&&(w.prototype[t]=n.isBasic(i)?yw(t,i):pa(t,i)),i},n.deregisterPlugin=function(n){if("plugin"===n)throw new Error("Cannot de-register base plugin.");lf(n)&&(delete tr[n],delete w.prototype[n])},n.getPlugins=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(tr),n=void 0;return t.forEach(function(t){var i=af(t);i&&(n=n||{},n[t]=i)}),n},n.getPluginVersion=function(n){var t=af(n);return t&&t.VERSION||""},n}();return at.getPlugin=af,at.BASE_PLUGIN_NAME="plugin",at.registerPlugin("plugin",at),w.prototype.usingPlugin=function(n){return!!this.activePlugins_&&!0===this.activePlugins_[n]},w.prototype.hasPlugin=function(n){return!!lf(n)},wa=function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":vi(t)));n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(n.super_=t)},ba=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=function(){n.apply(this,arguments)},r={},u;"object"===(void 0===t?"undefined":vi(t))?(t.constructor!==Object.prototype.constructor&&(i=t.constructor),r=t):"function"==typeof t&&(i=t);wa(i,n);for(u in r)r.hasOwnProperty(u)&&(i.prototype[u]=r[u]);return i},("undefined"==typeof HTMLVideoElement&&vt()&&(r.createElement("video"),r.createElement("audio"),r.createElement("track"),r.createElement("video-js")),o.hooks_={},o.hooks=function(n,t){return o.hooks_[n]=o.hooks_[n]||[],t&&(o.hooks_[n]=o.hooks_[n].concat(t)),o.hooks_[n]},o.hook=function(n,t){o.hooks(n,t)},o.hookOnce=function(n,t){o.hooks(n,[].concat(t).map(function(t){return function i(){o.removeHook(n,i);t.apply(void 0,arguments)}}))},o.removeHook=function(n,t){var i=o.hooks(n).indexOf(t);return!(i<=-1)&&(o.hooks_[n]=o.hooks_[n].slice(),o.hooks_[n].splice(i,1),!0)},!0!==n.VIDEOJS_NO_DYNAMIC_STYLE&&vt())&&(dr=ni(".vjs-styles-defaults"),dr||(dr=cc("vjs-styles-defaults"),yf=ni("head"),yf&&yf.insertBefore(dr,yf.firstChild),lc(dr,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    "))),te(1,o),o.VERSION=vh,o.options=w.prototype.options_,o.getPlayers=function(){return w.players},o.players=w.players,o.getComponent=t.getComponent,o.registerComponent=function(n,i){c.isTech(i)&&h.warn("The "+n+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)");t.registerComponent.call(t,n,i)},o.getTech=c.getTech,o.registerTech=c.registerTech,o.use=ny,o.browser=cy,o.TOUCH_ENABLED=su,o.extend=ba,o.mergeOptions=v,o.bind=s,o.registerPlugin=at.registerPlugin,o.plugin=function(n,t){return h.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),at.registerPlugin(n,t)},o.getPlugins=at.getPlugins,o.getPlugin=at.getPlugin,o.getPluginVersion=at.getPluginVersion,o.addLanguage=function(n,t){var i;return n=(""+n).toLowerCase(),o.options.languages=v(o.options.languages,(i={},i[n]=t,i)),o.options.languages[n]},o.log=h,o.createTimeRange=o.createTimeRanges=dt,o.formatTime=ai,o.parseUrl=no,o.isCrossOrigin=pu,o.EventTarget=b,o.on=st,o.one=or,o.off=et,o.trigger=hi,o.xhr=rl,o.TextTrack=pr,o.AudioTrack=fl,o.VideoTrack=el,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(n){o[n]=function(){return h.warn("videojs."+n+"() is deprecated; use videojs.dom."+n+"() instead"),oc[n].apply(null,arguments)}}),o.computedStyle=wf,o.dom=oc,o.url=hp,o}),function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof module=="object"&&module.exports?module.exports=function(t,i){return i===undefined&&(i=typeof window!="undefined"?require("jquery"):require("jquery")(t)),n(i),i}:n(jQuery)}(function(n){"use strict";var r=n(document),u=n(window),i="selectric",o="Input Items Open Disabled TempShow HideSelect Wrapper Focus Hover Responsive Above Scroll Group GroupLabel",t=".sl",s=["a","e","i","o","u","n","c","y"],f=[/[\xE0-\xE5]/g,/[\xE8-\xEB]/g,/[\xEC-\xEF]/g,/[\xF2-\xF6]/g,/[\xF9-\xFC]/g,/[\xF1]/g,/[\xE7]/g,/[\xFD-\xFF]/g],e=function(t,i){var r=this;r.element=t;r.$element=n(t);r.state={enabled:!1,opened:!1,currValue:-1,selectedIdx:-1};r.eventTriggers={open:r.open,close:r.close,destroy:r.destroy,refresh:r.refresh,init:r.init};r.init(i)};e.prototype={utils:{isMobile:function(){return/android|ip(hone|od|ad)/i.test(navigator.userAgent)},escapeRegExp:function(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},replaceDiacritics:function(n){for(var t=f.length;t--;)n=n.toLowerCase().replace(f[t],s[t]);return n},format:function(n){var t=arguments;return(""+n).replace(/\{(?:(\d+)|(\w+))\}/g,function(n,i,r){return r&&t[1]?t[1][r]:t[i]})},nextEnabledItem:function(n,t){while(n[t=(t+1)%n.length].disabled);return t},previousEnabledItem:function(n,t){while(n[t=(t>0?t:n.length)-1].disabled);return t},toDash:function(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},triggerCallback:function(t,r){var u=r.element,f=r.options["on"+t];n.isFunction(f)&&f.call(u,u,r);n.fn[i].hooks[t]&&n.each(n.fn[i].hooks[t],function(){this.call(u,u,r)});n(u).trigger(i+"-"+this.toDash(t),r)}},init:function(t){var r=this;if(r.options=n.extend(!0,{},n.fn[i].defaults,r.options,t),r.utils.triggerCallback("BeforeInit",r),r.destroy(!0),r.options.disableOnMobile&&r.utils.isMobile()){r.disableOnMobile=!0;return}r.classes=r.getClassNames();var u=n("<input/>",{"class":r.classes.input,readonly:r.utils.isMobile()}),f=n("<div/>",{"class":r.classes.items,tabindex:-1}),s=n("<div/>",{"class":r.classes.scroll}),e=n("<div/>",{"class":r.classes.prefix,html:r.options.arrowButtonMarkup}),o=n("<span/>",{"class":"label"}),h=r.$element.wrap("<div/>").parent().append(e.prepend(o),f,u);r.elements={input:u,items:f,itemsScroll:s,wrapper:e,label:o,outerWrapper:h};r.$element.on(r.eventTriggers).wrap('<div class="'+r.classes.hideselect+'"/>');r.originalTabindex=r.$element.prop("tabindex");r.$element.prop("tabindex",!1);r.populate();r.activate();r.utils.triggerCallback("Init",r)},activate:function(){var n=this,t=n.$element.width();n.utils.triggerCallback("BeforeActivate",n);n.elements.outerWrapper.prop("class",[n.classes.wrapper,n.$element.prop("class").replace(/\S+/g,n.classes.prefix+"-$&"),n.options.responsive?n.classes.responsive:""].join(" "));n.options.inheritOriginalWidth&&t>0&&n.elements.outerWrapper.width(t);n.$element.prop("disabled")?(n.elements.outerWrapper.addClass(n.classes.disabled),n.elements.input.prop("disabled",!0)):(n.state.enabled=!0,n.elements.outerWrapper.removeClass(n.classes.disabled),n.$li=n.elements.items.removeAttr("style").find("li"),n.bindEvents());n.utils.triggerCallback("Activate",n)},getClassNames:function(){var r=this,t=r.options.customClass,i={};return n.each(o.split(" "),function(n,u){var f=t.prefix+u;i[u.toLowerCase()]=t.camelCase?f:r.utils.toDash(f)}),i.prefix=t.prefix,i},setLabel:function(){var t=this,i=t.options.labelBuilder,r=t.lookupItems[t.state.currValue];t.elements.label.html(n.isFunction(i)?i(r):t.utils.format(i,r))},populate:function(){var t=this,r=t.$element.children(),u=t.$element.find("option"),f=u.index(u.filter(":selected")),i=0;t.state.currValue=t.state.selected=~f?f:0;t.state.selectedIdx=t.state.currValue;t.items=[];t.lookupItems=[];r.length&&(r.each(function(r){var u=n(this),f,e;u.is("optgroup")?(f={element:u,label:u.prop("label"),groupDisabled:u.prop("disabled"),items:[]},u.children().each(function(r){var u=n(this),e=u.html();f.items[r]={index:i,element:u,value:u.val(),text:e,slug:t.utils.replaceDiacritics(e),disabled:f.groupDisabled};t.lookupItems[i]=f.items[r];i++}),t.items[r]=f):(e=u.html(),t.items[r]={index:i,element:u,value:u.val(),text:e,slug:t.utils.replaceDiacritics(e),disabled:u.prop("disabled")},t.lookupItems[i]=t.items[r],i++)}),t.setLabel(),t.elements.items.append(t.elements.itemsScroll.html(t.getItemsMarkup(t.items))))},getItemsMarkup:function(t){var i=this,r="<ul>";return n.each(t,function(t,u){u.label!==undefined?(r+=i.utils.format('<ul class="{1}"><li class="{2}">{3}<\/li>',n.trim([i.classes.group,u.groupDisabled?"disabled":"",u.element.prop("class")].join(" ")),i.classes.grouplabel,u.element.prop("label")),n.each(u.items,function(n,t){r+=i.getItemMarkup(t.index,t)}),r+="<\/ul>"):r+=i.getItemMarkup(u.index,u)}),r+"<\/ul>"},getItemMarkup:function(t,i){var r=this,u=r.options.optionsItemBuilder;return r.utils.format('<li data-index="{1}" class="{2}">{3}<\/li>',t,n.trim([t===r.state.currValue?"selected":"",t===r.items.length-1?"last":"",i.disabled?"disabled":""].join(" ")),n.isFunction(u)?u(i,i.element,t):r.utils.format(u,i))},bindEvents:function(){var i=this;i.elements.wrapper.add(i.$element).add(i.elements.outerWrapper).add(i.elements.input).off(t);i.elements.outerWrapper.on("mouseenter"+t+" mouseleave"+t,function(t){n(this).toggleClass(i.classes.hover,t.type==="mouseenter");i.options.openOnHover&&(clearTimeout(i.closeTimer),t.type==="mouseleave"?i.closeTimer=setTimeout(n.proxy(i.close,i),i.options.hoverIntentTimeout):i.open())});i.elements.wrapper.on("click"+t,function(n){i.state.opened?i.close():i.open(n)});i.elements.input.prop({tabindex:i.originalTabindex,disabled:!1}).on("keydown"+t,n.proxy(i.handleKeys,i)).on("focusin"+t,function(n){i.elements.outerWrapper.addClass(i.classes.focus);i.elements.input.one("blur",function(){i.elements.input.blur()});i.options.openOnFocus&&!i.state.opened&&i.open(n)}).on("focusout"+t,function(){i.elements.outerWrapper.removeClass(i.classes.focus)}).on("input propertychange",function(){var t=i.elements.input.val();clearTimeout(i.resetStr);i.resetStr=setTimeout(function(){i.elements.input.val("")},i.options.keySearchTimeout);t.length&&n.each(i.items,function(n,r){if(RegExp("^"+i.utils.escapeRegExp(t),"i").test(r.slug)&&!r.disabled)return i.select(n),!1})});i.$li.on({mousedown:function(n){n.preventDefault();n.stopPropagation()},click:function(){return i.select(n(this).data("index"),!0),!1}})},handleKeys:function(t){var i=this,r=t.keyCode||t.which,f=i.options.keys,e=n.inArray(r,f.previous)>-1,o=n.inArray(r,f.next)>-1,h=n.inArray(r,f.select)>-1,c=n.inArray(r,f.open)>-1,u=i.state.selectedIdx,l=e&&u===0||o&&u+1===i.items.length,s=0;if((r===13||r===32)&&t.preventDefault(),e||o){if(!i.options.allowWrap&&l)return;e&&(s=i.utils.previousEnabledItem(i.items,u));o&&(s=i.utils.nextEnabledItem(i.items,u));i.select(s)}if(h&&i.state.opened){i.select(u,!0);return}c&&!i.state.opened&&i.open()},refresh:function(){var n=this;n.populate();n.activate();n.utils.triggerCallback("Refresh",n)},setOptionsDimensions:function(){var n=this,u=n.elements.items.closest(":visible").children(":hidden").addClass(n.classes.tempshow),t=n.options.maxHeight,i=n.elements.items.outerWidth(),r=n.elements.wrapper.outerWidth()-(i-n.elements.items.width());!n.options.expandToItemText||r>i?n.finalWidth=r:(n.elements.items.css("overflow","scroll"),n.elements.outerWrapper.width(9e4),n.finalWidth=n.elements.items.width(),n.elements.items.css("overflow",""),n.elements.outerWrapper.width(""));n.elements.items.width(n.finalWidth).height()>t&&n.elements.items.height(t);u.removeClass(n.classes.tempshow)},isInViewport:function(){var n=this,t=u.scrollTop(),r=u.height(),i=n.elements.outerWrapper.offset().top,f=n.elements.outerWrapper.outerHeight(),e=i+f+n.itemsHeight<=t+r,o=i-n.itemsHeight>t,s=!e&&o;n.elements.outerWrapper.toggleClass(n.classes.above,s)},detectItemVisibility:function(n){var t=this,i=t.$li.eq(n).outerHeight(),r=t.$li[n].offsetTop,u=t.elements.itemsScroll.scrollTop(),f=r+i*2;t.elements.itemsScroll.scrollTop(f>u+t.itemsHeight?f-t.itemsHeight:r-i<u?r-i:u)},open:function(u){var f=this;if(f.utils.triggerCallback("BeforeOpen",f),u&&(u.preventDefault(),u.stopPropagation()),f.state.enabled){f.setOptionsDimensions();n("."+f.classes.hideselect,"."+f.classes.open).children()[i]("close");f.state.opened=!0;f.itemsHeight=f.elements.items.outerHeight();f.itemsInnerHeight=f.elements.items.height();f.elements.outerWrapper.addClass(f.classes.open);f.elements.input.val("");u&&u.type!=="focusin"&&f.elements.input.focus();r.on("click"+t,n.proxy(f.close,f)).on("scroll"+t,n.proxy(f.isInViewport,f));if(f.isInViewport(),f.options.preventWindowScroll)r.on("mousewheel"+t+" DOMMouseScroll"+t,"."+f.classes.scroll,function(t){var i=t.originalEvent,u=n(this).scrollTop(),r=0;"detail"in i&&(r=i.detail*-1);"wheelDelta"in i&&(r=i.wheelDelta);"wheelDeltaY"in i&&(r=i.wheelDeltaY);"deltaY"in i&&(r=i.deltaY*-1);(u===this.scrollHeight-f.itemsInnerHeight&&r<0||u===0&&r>0)&&t.preventDefault()});f.detectItemVisibility(f.state.selectedIdx);f.utils.triggerCallback("Open",f)}},close:function(){var n=this;n.utils.triggerCallback("BeforeClose",n);n.change();r.off(t);n.elements.outerWrapper.removeClass(n.classes.open);n.state.opened=!1;n.utils.triggerCallback("Close",n)},change:function(){var n=this;n.utils.triggerCallback("BeforeChange",n);n.state.currValue!==n.state.selectedIdx&&(n.$element.prop("selectedIndex",n.state.currValue=n.state.selectedIdx).data("value",n.lookupItems[n.state.selectedIdx].text),n.setLabel());n.utils.triggerCallback("Change",n)},select:function(n,t){var i=this;n!==undefined&&(i.lookupItems[n].disabled||(i.$li.filter("[data-index]").removeClass("selected").eq(i.state.selectedIdx=n).addClass("selected"),i.detectItemVisibility(n),t&&i.close()))},destroy:function(n){var r=this;r.state&&r.state.enabled&&(r.elements.items.add(r.elements.wrapper).add(r.elements.input).remove(),n||r.$element.removeData(i).removeData("value"),r.$element.prop("tabindex",r.originalTabindex).off(t).off(r.eventTriggers).unwrap().unwrap(),r.state.enabled=!1)}};n.fn[i]=function(t){return this.each(function(){var r=n.data(this,i);r&&!r.disableOnMobile?typeof t=="string"&&r[t]?r[t]():r.init(t):n.data(this,i,new e(this,t))})};n.fn[i].hooks={add:function(n,t,i){this[n]||(this[n]={});this[n][t]=i},remove:function(n,t){delete this[n][t]}};n.fn[i].defaults={onChange:function(t){n(t).change()},maxHeight:300,keySearchTimeout:500,arrowButtonMarkup:'<b class="button">&#x25be;<\/b>',disableOnMobile:!0,openOnFocus:!0,openOnHover:!1,hoverIntentTimeout:500,expandToItemText:!1,responsive:!1,preventWindowScroll:!0,inheritOriginalWidth:!1,allowWrap:!0,optionsItemBuilder:"{text}",labelBuilder:"{text}",keys:{previous:[37,38],next:[39,40],select:[9,13,27],open:[13,32,37,38,39,40],close:[9,27]},customClass:{prefix:i,camelCase:!1}}}),function(n){function h(n,r,u){var c=n[0],s=/er/.test(u)?_indeterminate:/bl/.test(u)?i:t,h=u==_update?{checked:c[t],disabled:c[i],indeterminate:"true"==n.attr(_indeterminate)||"false"==n.attr(_determinate)}:c[s],l;if(/^(ch|di|in)/.test(u)&&!h)o(n,s);else if(/^(un|en|de)/.test(u)&&h)f(n,s);else if(u==_update)for(l in h)h[l]?o(n,l,!0):f(n,l,!0);else r&&"toggle"!=u||(r||n[_callback]("ifClicked"),h?c[_type]!==e&&f(n,s):o(n,s))}function o(o,h,l){var y=o[0],p=o.parent(),b=h==t,k=h==_indeterminate,nt=h==i,d=k?_determinate:b?v:"enabled",tt=r(o,d+s(y[_type])),it=r(o,h+s(y[_type]));if(!0!==y[h]){if(!l&&h==t&&y[_type]==e&&y.name){var g=o.closest("form"),w='input[name="'+y.name+'"]',w=g.length?g.find(w):n(w);w.each(function(){this!==y&&n(this).data(u)&&f(n(this),h)})}k?(y[h]=!0,y[t]&&f(o,t,"force")):(l||(y[h]=!0),b&&y[_indeterminate]&&f(o,_indeterminate,!1));a(o,b,h,l)}y[i]&&r(o,_cursor,!0)&&p.find("."+c).css(_cursor,"default");p[_add](it||r(o,h)||"");p.attr("role")&&!k&&p.attr("aria-"+(nt?i:t),"true");p[_remove](tt||r(o,d)||"")}function f(n,u,f){var e=n[0],o=n.parent(),y=u==t,h=u==_indeterminate,p=u==i,l=h?_determinate:y?v:"enabled",w=r(n,l+s(e[_type])),b=r(n,u+s(e[_type]));!1!==e[u]&&((h||!f||"force"==f)&&(e[u]=!1),a(n,y,l,f));!e[i]&&r(n,_cursor,!0)&&o.find("."+c).css(_cursor,"pointer");o[_remove](b||r(n,u)||"");o.attr("role")&&!h&&o.attr("aria-"+(p?i:t),"false");o[_add](w||r(n,l)||"")}function l(t,i){t.data(u)&&(t.parent().html(t.attr("style",t.data(u).s||"")),i&&t[_callback](i),t.off(".i").unwrap(),n(_label+'[for="'+t[0].id+'"]').add(t.closest(_label)).off(".i"))}function r(n,t,i){if(n.data(u))return n.data(u).o[t+(i?"":"Class")]}function s(n){return n.charAt(0).toUpperCase()+n.slice(1)}function a(n,t,i,r){r||(t&&n[_callback]("ifToggled"),n[_callback]("ifChanged")[_callback]("if"+s(i)))}var u="iCheck",c=u+"-helper",e="radio",t="checked",v="un"+t,i="disabled";_determinate="determinate";_indeterminate="in"+_determinate;_update="update";_type="type";_click="click";_touch="touchbegin.i touchend.i";_add="addClass";_remove="removeClass";_callback="trigger";_label="label";_cursor="cursor";_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);n.fn[u]=function(r,s){var w='input[type="checkbox"], input[type="'+e+'"]',v=n(),d=function(t){t.each(function(){var t=n(this);v=t.is(w)?v.add(t):v.add(t.find(w))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(r))return r=r.toLowerCase(),d(this),v.each(function(){var t=n(this);"destroy"==r?l(t,"ifDestroyed"):h(t,!0,r);n.isFunction(s)&&s()});if("object"!=typeof r&&r)return this;var a=n.extend({checkedClass:t,disabledClass:i,indeterminateClass:_indeterminate,labelHover:!0},r),b=a.handle,p=a.hoverClass||"hover",tt=a.focusClass||"focus",g=a.activeClass||"active",nt=!!a.labelHover,k=a.labelHoverClass||"hover",y=(""+a.increaseArea).replace("%","")|0;return("checkbox"==b||b==e)&&(w='input[type="'+b+'"]'),-50>y&&(y=-50),d(this),v.each(function(){var s=n(this);l(s);var v=this,it=v.id,d=-y+"%",w=100+2*y+"%",w={position:"absolute",top:d,left:d,display:"block",width:w,height:w,margin:0,padding:0,background:"#fff",border:0,opacity:0},d=_mobile?{position:"absolute",visibility:"hidden"}:y?w:{position:"absolute",opacity:0},ft="checkbox"==v[_type]?a.checkboxClass||"icheckbox":a.radioClass||"i"+e,b=n(_label+'[for="'+it+'"]').add(s.closest(_label)),rt=!!a.aria,ut=u+"-"+Math.random().toString(36).substr(2,6),r='<div class="'+ft+'" '+(rt?'role="'+v[_type]+'" ':"");if(rt&&b.each(function(){r+='aria-labelledby="';this.id?r+=this.id:(this.id=ut,r+=ut);r+='"'}),r=s.wrap(r+"/>")[_callback]("ifCreated").parent().append(a.insert),w=n('<ins class="'+c+'"/>').css(w).appendTo(r),s.data(u,{o:a,s:s.attr("style")}).css(d),a.inheritClass&&r[_add](v.className||""),a.inheritID&&it&&r.attr("id",u+"-"+it),"static"==r.css("position")&&r.css("position","relative"),h(s,!0,_update),b.length)b.on(_click+".i mouseover.i mouseout.i "+_touch,function(t){var u=t[_type],f=n(this);if(!v[i]){if(u==_click){if(n(t.target).is("a"))return;h(s,!1,!0)}else nt&&(/ut|nd/.test(u)?(r[_remove](p),f[_remove](k)):(r[_add](p),f[_add](k)));if(_mobile)t.stopPropagation();else return!1}});s.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",function(n){var i=n[_type];if(n=n.keyCode,i==_click)return!1;if("keydown"==i&&32==n)return v[_type]==e&&v[t]||(v[t]?f(s,t):o(s,t)),!1;"keyup"==i&&v[_type]==e?v[t]||o(s,t):/us|ur/.test(i)&&r["blur"==i?_remove:_add](tt)});w.on(_click+" mousedown mouseup mouseover mouseout "+_touch,function(n){var t=n[_type],u=/wn|up/.test(t)?g:p;if(!v[i])if(t==_click?h(s,!1,!0):(/wn|er|in/.test(t)?r[_add](u):r[_remove](u+" "+g),b.length&&nt&&u==p&&b[/ut|nd/.test(t)?_remove:_add](k)),_mobile)n.stopPropagation();else return!1})})}}(window.jQuery||window.Zepto),function(n,t){typeof define=="function"&&define.amd?define(["jquery"],function(i){return t(n,i)}):typeof module=="object"&&typeof module.exports=="object"?module.exports=t(n,require("jquery")):n.lity=t(n,n.jQuery||n.Zepto)}(typeof window!="undefined"?window:this,function(n,t){"use strict";function c(){y[e>0?"addClass":"removeClass"]("lity-active")}function a(n){var i=t.Deferred();if(l){n.one(l,i.resolve);setTimeout(i.resolve,500)}else i.resolve();return i.promise()}function f(n,i,r){if(arguments.length===1)return t.extend({},n);if(typeof i=="string"){if(typeof r=="undefined")return typeof n[i]=="undefined"?null:n[i];n[i]=r}else t.extend(n,i);return this}function v(n){for(var i=decodeURI(n).split("&"),u={},r,t=0,f=i.length;t<f;t++)i[t]&&(r=i[t].split("="),u[r[0]]=r[1]);return u}function o(n,i){return n+(n.indexOf("?")>-1?"&":"?")+t.param(i)}function d(n){return t('<span class="lity-error"/>').append(n)}function g(n){if(!p.test(n))return!1;var r=t('<img src="'+n+'">'),i=t.Deferred(),u=function(){i.reject(d("Failed loading image"))};r.on("load",function(){if(this.naturalWidth===0)return u();i.resolve(r)}).on("error",u);return i.promise()}function nt(n){var i,r;try{i=t(n)}catch(u){return!1}if(!i.length)return!1;r=t('<span style="display:none !important" class="lity-inline-placeholder"/>');return i.after(r).on("lity:ready",function(n,t){t.one("lity:remove",function(){r.before(i.addClass("lity-hide")).remove()})})}function tt(n){var i,r=n;return i=w.exec(n),i&&(r=o("https://www.youtube"+(i[2]||"")+".com/embed/"+i[4],t.extend({autoplay:1},v(i[5]||"")))),i=b.exec(n),i&&(r=o("https://player.vimeo.com/video/"+i[3],t.extend({autoplay:1},v(i[4]||"")))),i=k.exec(n),i&&(r=o("https://www.google."+i[3]+"/maps?"+i[6],{output:i[6].indexOf("layer=c")>0?"svembed":"embed"})),'<div class="lity-iframe-container"><iframe frameborder="0" allowfullscreen src="'+r+'"><\/iframe><\/div>'}function i(n){function k(n){n.keyCode===27&&v()}function p(){var n=r.documentElement.clientHeight?r.documentElement.clientHeight:Math.round(u.height());l.css("max-height",Math.floor(n)+"px").trigger("lity:resize",[i])}function g(n,r){if(i){l=t(r);u.on("resize",p);p();i.find(".lity-loader").each(function(){var n=t(this);a(n).always(function(){n.remove()})});i.removeClass("lity-loading").find(".lity-content").empty().append(l);l.removeClass("lity-hide").trigger("lity:ready",[i,n]);y.resolve()}}function nt(n,r,f,o){if(y=t.Deferred(),e++,c(),i=t(f.template).addClass("lity-loading").appendTo("body"),!!f.esc)u.on("keyup",k);setTimeout(function(){i.addClass("lity-opened lity-"+n).on("click","[data-lity-close]",function(n){t(n.target).is("[data-lity-close]")&&v()}).trigger("lity:open",[i,o]);t.when(r).always(t.proxy(g,null,o))},0)}function d(n,i,r){var e,u,f=t.extend({},s,b),c,l;return i=t.extend({},h,w,i),i.handler&&f[i.handler]?(u=f[i.handler](n,o),e=i.handler):(c={},t.each(["inline","iframe"],function(n,t){f[t]&&(c[t]=f[t]);delete f[t]}),l=function(t,i){return i?(u=i(n,o),!u?void 0:(e=t,!1)):!0},t.each(f,l),e||t.each(c,l)),u&&t.when(v()).done(t.proxy(nt,null,e,u,i,r)),!!u}function v(){if(i){var n=t.Deferred();return y.done(function(){e--;c();u.off("resize",p).off("keyup",k);l.trigger("lity:close",[i]);i.removeClass("lity-opened").addClass("lity-closed");var t=i,r=l;i=null;l=null;a(r.add(t)).always(function(){r.trigger("lity:remove",[t]);t.remove();n.resolve()})}),n.promise()}}function o(n){var i,r,u;if(!n.preventDefault)return o.open(n);(i=t(this),r=i.data("lity-target")||i.attr("href")||i.attr("src"),r)&&(u=i.data("lity-options")||i.data("lity"),d(r,u,i)&&(i.blur(),n.preventDefault()))}var w={},b={},i,l,y=t.Deferred().resolve();return o.handlers=t.proxy(f,o,b),o.options=t.proxy(f,o,w),o.open=function(n,t,i){return d(n,t,i),o},o.close=function(){return v(),o},o.options(n)}var r=n.document,u=t(n),y=t("html"),e=0,p=/(^data:image\/)|(\.(png|jpe?g|gif|svg|webp|bmp|ico|tiff?)(\?\S*)?$)/i,w=/(youtube(-nocookie)?\.com|youtu\.be)\/(watch\?v=|v\/|u\/|embed\/?)?([\w-]{11})(.*)?/i,b=/(vimeo(pro)?.com)\/(?:[^\d]+)?(\d+)\??(.*)?$/,k=/((maps|www)\.)?google\.([^\/\?]+)\/?((maps\/?)?\?)(.*)/i,s={image:g,inline:nt,iframe:tt},h={esc:!0,handler:null,template:'<div class="lity" tabindex="-1"><div class="lity-wrap" data-lity-close><div class="lity-loader">Loading...<\/div><div class="lity-container"><div class="lity-content"><\/div><button class="lity-close" type="button" title="Close (Esc)" data-lity-close>Ã<\/button><\/div><\/div><\/div>'},l=function(){var i=r.createElement("div"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t)if(i.style[n]!==undefined)return t[n];return!1}();i.version="1.6.6";i.handlers=t.proxy(f,i,s);i.options=t.proxy(f,i,h);t(r).on("click","[data-lity]",i());return i});!function(n,t){"function"==typeof define&&define.amd?define(["jQuery"],function(n){return t(n)}):"object"==typeof exports?module.exports=t(require("jQuery")):t(jQuery)}(this,function(n){function s(n){this.$container;this.constraints=null;this.__$tooltip;this.__init(n)}function e(t,i){var r=!0;return n.each(t,function(n){if(void 0===i[n]||t[n]!==i[n])return(r=!1,!1)}),r}function u(i){var r=i.attr("id"),u=r?t.window.document.getElementById(r):null;return u?u===i[0]:n.contains(t.window.document.body,i[0])}function c(){var u=f.document.body||f.document.documentElement,i=u.style,n="transition",r=["Moz","Webkit","Khtml","O","ms"],t;if("string"==typeof i[n])return!0;for(n=n.charAt(0).toUpperCase()+n.substr(1),t=0;t<r.length;t++)if("string"==typeof i[r[t]+n])return!0;return!1}var i={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:"body",plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},f=void 0!==window?window:null,t={hasTouchCapability:!!("ontouchstart"in f||f.DocumentTouch&&document instanceof DocumentTouch||navigator.maxTouchPoints),hasTransitions:c(),IE:!1,semVer:"4.0.6",window:f},h=function(){this.__$emitterPrivate=n({});this.__$emitterPublic=n({});this.__instancesLatestArr=[];this.__plugins={};this._env=t},r,o;return h.prototype={__bridge:function(t,r,u){var e,f;return r[u]||(e=function(){},e.prototype=t,f=new e,f.__init&&f.__init(r),n.each(t,function(n){0!=n.indexOf("__")&&(r[n]?i.debug&&console.log("The "+n+" method of the "+u+" plugin conflicts with another plugin or native methods"):(r[n]=function(){return f[n].apply(f,Array.prototype.slice.apply(arguments))},r[n].bridged=f))}),r[u]=f),this},__setWindow:function(n){return t.window=n,this},_getRuler:function(n){return new s(n)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(t){var i=this,r,u;if("string"==typeof t)return r=t,u=null,r.indexOf(".")>0?u=i.__plugins[r]:n.each(i.__plugins,function(n,t){if(t.name.substring(t.name.length-r.length-1)=="."+r)return(u=t,!1)}),u;if(t.name.indexOf(".")<0)throw new Error("Plugins must be namespaced");return i.__plugins[t.name]=t,t.core&&i.__bridge(t.core,i,t.name),this},_trigger:function(){var n=Array.prototype.slice.apply(arguments);return"string"==typeof n[0]&&(n[0]={type:n[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,n),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,n),this},instances:function(t){var i=[],r=t||".tooltipstered";return n(r).each(function(){var t=n(this),r=t.data("tooltipster-ns");r&&n.each(r,function(n,r){i.push(t.data(r))})}),i},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(t){var i=t?t+" ":"";return n(i+".tooltipstered").toArray()},setDefaults:function(t){return n.extend(i,t),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},n.tooltipster=new h,n.Tooltipster=function(t,i){this.__callbacks={close:[],open:[]};this.__closingTime;this.__Content;this.__contentBcr;this.__destroyed=!1;this.__destroying=!1;this.__$emitterPrivate=n({});this.__$emitterPublic=n({});this.__enabled=!0;this.__garbageCollector;this.__Geometry;this.__lastPosition;this.__namespace="tooltipster-"+Math.round(1e6*Math.random());this.__options;this.__$originParents;this.__pointerIsOverOrigin=!1;this.__previousThemes=[];this.__state="closed";this.__timeouts={close:[],open:null};this.__touchEvents=[];this.__tracker=null;this._$origin;this._$tooltip;this.__init(t,i)},n.Tooltipster.prototype={__init:function(r,u){var f=this,e;(f._$origin=n(r),f.__options=n.extend(!0,{},i,u),f.__optionsFormat(),!t.IE||t.IE>=f.__options.IEmin)?(e=null,void 0===f._$origin.data("tooltipster-initialTitle")&&(e=f._$origin.attr("title"),void 0===e&&(e=null),f._$origin.data("tooltipster-initialTitle",e)),null!==f.__options.content?f.__contentSet(f.__options.content):f.__contentSet(e),f._$origin.removeAttr("title").addClass("tooltipstered"),f.__prepareOrigin(),f.__prepareGC(),n.each(f.__options.plugins,function(n,t){f._plug(t)}),t.hasTouchCapability&&n("body").on("touchmove."+f.__namespace+"-triggerOpen",function(n){f._touchRecordEvent(n)}),f._on("created",function(){f.__prepareTooltip()})._on("repositioned",function(n){f.__lastPosition=n.position})):f.__options.disabled=!0},__contentInsert:function(){var n=this,i=n._$tooltip.find(".tooltipster-content"),t=n.__Content,r=function(n){t=n};return n._trigger({type:"format",content:n.__Content,format:r}),n.__options.functionFormat&&(t=n.__options.functionFormat.call(n,n,{origin:n._$origin[0]},n.__Content)),"string"!=typeof t||n.__options.contentAsHTML?i.empty().append(t):i.text(t),n},__contentSet:function(t){return t instanceof n&&this.__options.contentCloning&&(t=t.clone(!0)),this.__Content=t,this._trigger({type:"updated",content:t}),this},__destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.");},__geometry:function(){var e=this,c=e._$origin,y=e._$origin.is("area"),k,p,r,u,it;y&&(k=e._$origin.parent().attr("name"),c=n('img[usemap="#'+k+'"]'));var f=c[0].getBoundingClientRect(),d=n(t.window.document),g=n(t.window),l=c,i={available:{document:null,window:null},document:{size:{height:d.height(),width:d.width()}},window:{scroll:{left:t.window.scrollX||t.window.document.documentElement.scrollLeft,top:t.window.scrollY||t.window.document.documentElement.scrollTop},size:{height:g.height(),width:g.width()}},origin:{fixedLineage:!1,offset:{},size:{height:f.bottom-f.top,width:f.right-f.left},usemapImage:y?c[0]:null,windowOffset:{bottom:f.bottom,left:f.left,right:f.right,top:f.top}}};if(y&&(p=e._$origin.attr("shape"),r=e._$origin.attr("coords"),r&&(r=r.split(","),n.map(r,function(n,t){r[t]=parseInt(n)})),"default"!=p))switch(p){case"circle":var rt=r[0],ut=r[1],w=r[2],ft=ut-w,et=rt-w;i.origin.size.height=2*w;i.origin.size.width=i.origin.size.height;i.origin.windowOffset.left+=et;i.origin.windowOffset.top+=ft;break;case"rect":var nt=r[0],tt=r[1],ot=r[2],st=r[3];i.origin.size.height=st-tt;i.origin.size.width=ot-nt;i.origin.windowOffset.left+=nt;i.origin.windowOffset.top+=tt;break;case"poly":for(var o=0,s=0,a=0,v=0,b="even",h=0;h<r.length;h++)u=r[h],"even"==b?(u>a&&(a=u,0===h&&(o=a)),o>u&&(o=u),b="odd"):(u>v&&(v=u,1==h&&(s=v)),s>u&&(s=u),b="even");i.origin.size.height=v-s;i.origin.size.width=a-o;i.origin.windowOffset.left+=o;i.origin.windowOffset.top+=s}for(it=function(n){i.origin.size.height=n.height;i.origin.windowOffset.left=n.left;i.origin.windowOffset.top=n.top;i.origin.size.width=n.width},e._trigger({type:"geometry",edit:it,geometry:{height:i.origin.size.height,left:i.origin.windowOffset.left,top:i.origin.windowOffset.top,width:i.origin.size.width}}),i.origin.windowOffset.right=i.origin.windowOffset.left+i.origin.size.width,i.origin.windowOffset.bottom=i.origin.windowOffset.top+i.origin.size.height,i.origin.offset.left=i.origin.windowOffset.left+t.window.scrollX,i.origin.offset.top=i.origin.windowOffset.top+t.window.scrollY,i.origin.offset.bottom=i.origin.offset.top+i.origin.size.height,i.origin.offset.right=i.origin.offset.left+i.origin.size.width,i.available.document={bottom:{height:i.document.size.height-i.origin.offset.bottom,width:i.document.size.width},left:{height:i.document.size.height,width:i.origin.offset.left},right:{height:i.document.size.height,width:i.document.size.width-i.origin.offset.right},top:{height:i.origin.offset.top,width:i.document.size.width}},i.available.window={bottom:{height:Math.max(i.window.size.height-Math.max(i.origin.windowOffset.bottom,0),0),width:i.window.size.width},left:{height:i.window.size.height,width:Math.max(i.origin.windowOffset.left,0)},right:{height:i.window.size.height,width:Math.max(i.window.size.width-Math.max(i.origin.windowOffset.right,0),0)},top:{height:Math.max(i.origin.windowOffset.top,0),width:i.window.size.width}};"html"!=l[0].tagName.toLowerCase();){if("fixed"==l.css("position")){i.origin.fixedLineage=!0;break}l=l.parent()}return i},__optionsFormat:function(){return"number"==typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),"string"==typeof this.__options.parent&&(this.__options.parent=n(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var t=this;return t.__options.selfDestruction?t.__garbageCollector=setInterval(function(){var i=(new Date).getTime();t.__touchEvents=n.grep(t.__touchEvents,function(n){return i-n.time>6e4});u(t._$origin)||t.destroy()},2e4):clearInterval(t.__garbageCollector),t},__prepareOrigin:function(){var n=this,i;return(n._$origin.off("."+n.__namespace+"-triggerOpen"),t.hasTouchCapability&&n._$origin.on("touchstart."+n.__namespace+"-triggerOpen touchend."+n.__namespace+"-triggerOpen touchcancel."+n.__namespace+"-triggerOpen",function(t){n._touchRecordEvent(t)}),n.__options.triggerOpen.click||n.__options.triggerOpen.tap&&t.hasTouchCapability)&&(i="",n.__options.triggerOpen.click&&(i+="click."+n.__namespace+"-triggerOpen "),n.__options.triggerOpen.tap&&t.hasTouchCapability&&(i+="touchend."+n.__namespace+"-triggerOpen"),n._$origin.on(i,function(t){n._touchIsMeaningfulEvent(t)&&n._open(t)})),(n.__options.triggerOpen.mouseenter||n.__options.triggerOpen.touchstart&&t.hasTouchCapability)&&(i="",n.__options.triggerOpen.mouseenter&&(i+="mouseenter."+n.__namespace+"-triggerOpen "),n.__options.triggerOpen.touchstart&&t.hasTouchCapability&&(i+="touchstart."+n.__namespace+"-triggerOpen"),n._$origin.on(i,function(t){!n._touchIsTouchEvent(t)&&n._touchIsEmulatedEvent(t)||(n.__pointerIsOverOrigin=!0,n._openShortly(t))})),(n.__options.triggerClose.mouseleave||n.__options.triggerClose.touchleave&&t.hasTouchCapability)&&(i="",n.__options.triggerClose.mouseleave&&(i+="mouseleave."+n.__namespace+"-triggerOpen "),n.__options.triggerClose.touchleave&&t.hasTouchCapability&&(i+="touchend."+n.__namespace+"-triggerOpen touchcancel."+n.__namespace+"-triggerOpen"),n._$origin.on(i,function(t){n._touchIsMeaningfulEvent(t)&&(n.__pointerIsOverOrigin=!1)})),n},__prepareTooltip:function(){var t=this,i=t.__options.interactive?"auto":"";return t._$tooltip.attr("id",t.__namespace).css({"pointer-events":i,zIndex:t.__options.zIndex}),n.each(t.__previousThemes,function(n,i){t._$tooltip.removeClass(i)}),n.each(t.__options.theme,function(n,i){t._$tooltip.addClass(i)}),t.__previousThemes=n.merge([],t.__options.theme),t},__scrollHandler:function(i){var r=this,u,f,e,o;return r.__options.triggerClose.scroll?r._close(i):(i.target===t.window.document?r.__Geometry.origin.fixedLineage||r.__options.repositionOnScroll&&r.reposition(i):(u=r.__geometry(),f=!1,("fixed"!=r._$origin.css("position")&&r.__$originParents.each(function(t,i){var e=n(i),o=e.css("overflow-x"),s=e.css("overflow-y"),r;return("visible"!=o||"visible"!=s)&&((r=i.getBoundingClientRect(),"visible"!=o&&(u.origin.windowOffset.left<r.left||u.origin.windowOffset.right>r.right))||"visible"!=s&&(u.origin.windowOffset.top<r.top||u.origin.windowOffset.bottom>r.bottom))?(f=!0,!1):"fixed"==e.css("position")?!1:void 0}),f)?r._$tooltip.css("visibility","hidden"):(r._$tooltip.css("visibility","visible"),r.__options.repositionOnScroll)?r.reposition(i):(e=u.origin.offset.left-r.__Geometry.origin.offset.left,o=u.origin.offset.top-r.__Geometry.origin.offset.top,r._$tooltip.css({left:r.__lastPosition.coord.left+e,top:r.__lastPosition.coord.top+o}))),r._trigger({type:"scroll",event:i})),r},__stateSet:function(n){return this.__state=n,this._trigger({type:"state",state:n}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,n.each(this.__timeouts.close,function(n,t){clearTimeout(t)}),this.__timeouts.close=[],this},__trackerStart:function(){var n=this,t=n._$tooltip.find(".tooltipster-content");return n.__options.trackTooltip&&(n.__contentBcr=t[0].getBoundingClientRect()),n.__tracker=setInterval(function(){var i,r,f;u(n._$origin)&&u(n._$tooltip)?(n.__options.trackOrigin&&(i=n.__geometry(),r=!1,e(i.origin.size,n.__Geometry.origin.size)&&(n.__Geometry.origin.fixedLineage?e(i.origin.windowOffset,n.__Geometry.origin.windowOffset)&&(r=!0):e(i.origin.offset,n.__Geometry.origin.offset)&&(r=!0)),r||(n.__options.triggerClose.mouseleave?n._close():n.reposition())),n.__options.trackTooltip&&(f=t[0].getBoundingClientRect(),f.height===n.__contentBcr.height&&f.width===n.__contentBcr.width||(n.reposition(),n.__contentBcr=f))):n._close()},n.__options.trackerInterval),n},_close:function(i,r){var u=this,o=!0,f,e;if(u._trigger({type:"close",event:i,stop:function(){o=!1}}),o||u.__destroying)if(r&&u.__callbacks.close.push(r),u.__callbacks.open=[],u.__timeoutsClear(),f=function(){n.each(u.__callbacks.close,function(n,t){t.call(u,u,{event:i,origin:u._$origin[0]})});u.__callbacks.close=[]},"closed"!=u.__state){var s=!0,c=new Date,l=c.getTime(),h=l+u.__options.animationDuration[1];("disappearing"==u.__state&&h>u.__closingTime&&(s=!1),s)&&(u.__closingTime=h,"disappearing"!=u.__state&&u.__stateSet("disappearing"),e=function(){clearInterval(u.__tracker);u._trigger({type:"closing",event:i});u._$tooltip.off("."+u.__namespace+"-triggerClose").removeClass("tooltipster-dying");n(t.window).off("."+u.__namespace+"-triggerClose");u.__$originParents.each(function(t,i){n(i).off("scroll."+u.__namespace+"-triggerClose")});u.__$originParents=null;n("body").off("."+u.__namespace+"-triggerClose");u._$origin.off("."+u.__namespace+"-triggerClose");u._off("dismissable");u.__stateSet("closed");u._trigger({type:"after",event:i});u.__options.functionAfter&&u.__options.functionAfter.call(u,u,{event:i});f()},t.hasTransitions?(u._$tooltip.css({"-moz-animation-duration":u.__options.animationDuration[1]+"ms","-ms-animation-duration":u.__options.animationDuration[1]+"ms","-o-animation-duration":u.__options.animationDuration[1]+"ms","-webkit-animation-duration":u.__options.animationDuration[1]+"ms","animation-duration":u.__options.animationDuration[1]+"ms","transition-duration":u.__options.animationDuration[1]+"ms"}),u._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),u.__options.animationDuration[1]>0&&u._$tooltip.delay(u.__options.animationDuration[1]),u._$tooltip.queue(e)):u._$tooltip.stop().fadeOut(u.__options.animationDuration[1],e))}else f();return u},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(i,r){var f=this,s,h,e,o;if(!f.__destroying&&u(f._$origin)&&f.__enabled&&(s=!0,"closed"==f.__state&&(f._trigger({type:"before",event:i,stop:function(){s=!1}}),s&&f.__options.functionBefore&&(s=f.__options.functionBefore.call(f,f,{event:i,origin:f._$origin[0]}))),s!==!1&&null!==f.__Content)){if(r&&f.__callbacks.open.push(r),f.__callbacks.close=[],f.__timeoutsClear(),e=function(){"stable"!=f.__state&&f.__stateSet("stable");n.each(f.__callbacks.open,function(n,t){t.call(f,f,{origin:f._$origin[0],tooltip:f._$tooltip[0]})});f.__callbacks.open=[]},"closed"!==f.__state)h=0,"disappearing"===f.__state?(f.__stateSet("appearing"),t.hasTransitions?(f._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),f.__options.animationDuration[0]>0&&f._$tooltip.delay(f.__options.animationDuration[0]),f._$tooltip.queue(e)):f._$tooltip.stop().fadeIn(e)):"stable"==f.__state&&e();else{if(f.__stateSet("appearing"),h=f.__options.animationDuration[0],f.__contentInsert(),f.reposition(i,!0),t.hasTransitions?(f._$tooltip.addClass("tooltipster-"+f.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":f.__options.animationDuration[0]+"ms","-ms-animation-duration":f.__options.animationDuration[0]+"ms","-o-animation-duration":f.__options.animationDuration[0]+"ms","-webkit-animation-duration":f.__options.animationDuration[0]+"ms","animation-duration":f.__options.animationDuration[0]+"ms","transition-duration":f.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=f.__state&&(f._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),f.__options.animationDuration[0]>0&&f._$tooltip.delay(f.__options.animationDuration[0]),f._$tooltip.queue(e))},0)):f._$tooltip.css("display","none").fadeIn(f.__options.animationDuration[0],e),f.__trackerStart(),n(t.window).on("resize."+f.__namespace+"-triggerClose",function(n){f.reposition(n)}).on("scroll."+f.__namespace+"-triggerClose",function(n){f.__scrollHandler(n)}),f.__$originParents=f._$origin.parents(),f.__$originParents.each(function(t,i){n(i).on("scroll."+f.__namespace+"-triggerClose",function(n){f.__scrollHandler(n)})}),f.__options.triggerClose.mouseleave||f.__options.triggerClose.touchleave&&t.hasTouchCapability){f._on("dismissable",function(n){n.dismissable?n.delay?(o=setTimeout(function(){f._close(n.event)},n.delay),f.__timeouts.close.push(o)):f._close(n):clearTimeout(o)});var c=f._$origin,l="",a="",o=null;f.__options.interactive&&(c=c.add(f._$tooltip));f.__options.triggerClose.mouseleave&&(l+="mouseenter."+f.__namespace+"-triggerClose ",a+="mouseleave."+f.__namespace+"-triggerClose ");f.__options.triggerClose.touchleave&&t.hasTouchCapability&&(l+="touchstart."+f.__namespace+"-triggerClose",a+="touchend."+f.__namespace+"-triggerClose touchcancel."+f.__namespace+"-triggerClose");c.on(a,function(n){if(f._touchIsTouchEvent(n)||!f._touchIsEmulatedEvent(n)){var t="mouseleave"==n.type?f.__options.delay:f.__options.delayTouch;f._trigger({delay:t[1],dismissable:!0,event:n,type:"dismissable"})}}).on(l,function(n){!f._touchIsTouchEvent(n)&&f._touchIsEmulatedEvent(n)||f._trigger({dismissable:!1,event:n,type:"dismissable"})})}f.__options.triggerClose.originClick&&f._$origin.on("click."+f.__namespace+"-triggerClose",function(n){f._touchIsTouchEvent(n)||f._touchIsEmulatedEvent(n)||f._close(n)});(f.__options.triggerClose.click||f.__options.triggerClose.tap&&t.hasTouchCapability)&&setTimeout(function(){if("closed"!=f.__state){var i="";f.__options.triggerClose.click&&(i+="click."+f.__namespace+"-triggerClose ");f.__options.triggerClose.tap&&t.hasTouchCapability&&(i+="touchend."+f.__namespace+"-triggerClose");n("body").on(i,function(t){f._touchIsMeaningfulEvent(t)&&(f._touchRecordEvent(t),f.__options.interactive&&n.contains(f._$tooltip[0],t.target)||f._close(t))});f.__options.triggerClose.tap&&t.hasTouchCapability&&n("body").on("touchstart."+f.__namespace+"-triggerClose",function(n){f._touchRecordEvent(n)})}},0);f._trigger("ready");f.__options.functionReady&&f.__options.functionReady.call(f,f,{origin:f._$origin[0],tooltip:f._$tooltip[0]})}f.__options.timer>0&&(o=setTimeout(function(){f._close()},f.__options.timer+h),f.__timeouts.close.push(o))}return f},_openShortly:function(n){var t=this,r=!0,i;return"stable"!=t.__state&&"appearing"!=t.__state&&!t.__timeouts.open&&(t._trigger({type:"start",event:n,stop:function(){r=!1}}),r)&&(i=0==n.type.indexOf("touch")?t.__options.delayTouch:t.__options.delay,i[0]?t.__timeouts.open=setTimeout(function(){t.__timeouts.open=null;t.__pointerIsOverOrigin&&t._touchIsMeaningfulEvent(n)?(t._trigger("startend"),t._open(n)):t._trigger("startcancel")},i[0]):(t._trigger("startend"),t._open(n))),t},_optionsExtract:function(t,i){var f=this,u=n.extend(!0,{},i),r=f.__options[t];return r||(r={},n.each(i,function(n){var t=f.__options[n];void 0!==t&&(r[n]=t)})),n.each(u,function(t,i){void 0!==r[t]&&("object"!=typeof i||i instanceof Array||null==i||"object"!=typeof r[t]||r[t]instanceof Array||null==r[t]?u[t]=r[t]:n.extend(u[t],r[t]))}),u},_plug:function(t){var i=n.tooltipster._plugin(t);if(!i)throw new Error('The "'+t+'" plugin is not defined');return i.instance&&n.tooltipster.__bridge(i.instance,this,i.name),this},_touchIsEmulatedEvent:function(n){for(var i,r=!1,u=(new Date).getTime(),t=this.__touchEvents.length-1;t>=0;t--){if(i=this.__touchEvents[t],!(u-i.time<500))break;i.target===n.target&&(r=!0)}return r},_touchIsMeaningfulEvent:function(n){return this._touchIsTouchEvent(n)&&!this._touchSwiped(n.target)||!this._touchIsTouchEvent(n)&&!this._touchIsEmulatedEvent(n)},_touchIsTouchEvent:function(n){return 0==n.type.indexOf("touch")},_touchRecordEvent:function(n){return this._touchIsTouchEvent(n)&&(n.time=(new Date).getTime(),this.__touchEvents.push(n)),this},_touchSwiped:function(n){for(var i,r=!1,t=this.__touchEvents.length-1;t>=0;t--){if(i=this.__touchEvents[t],"touchmove"==i.type){r=!0;break}if("touchstart"==i.type&&n===i.target)break}return r},_trigger:function(){var t=Array.prototype.slice.apply(arguments);return"string"==typeof t[0]&&(t[0]={type:t[0]}),t[0].instance=this,t[0].origin=this._$origin?this._$origin[0]:null,t[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,t),n.tooltipster._trigger.apply(n.tooltipster,t),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,t),this},_unplug:function(t){var i=this,r;return i[t]&&(r=n.tooltipster._plugin(t),r.instance&&n.each(r.instance,function(n){i[n]&&i[n].bridged===i[t]&&delete i[n]}),i[t].__destroy&&i[t].__destroy(),delete i[t]),i},close:function(n){return this.__destroyed?this.__destroyError():this._close(null,n),this},content:function(n){var i=this,r;return void 0===n?i.__Content:(i.__destroyed?i.__destroyError():(i.__contentSet(n),null!==i.__Content)?"closed"!==i.__state&&(i.__contentInsert(),i.reposition(),i.__options.updateAnimation)&&(t.hasTransitions?(r=i.__options.updateAnimation,i._$tooltip.addClass("tooltipster-update-"+r),setTimeout(function(){"closed"!=i.__state&&i._$tooltip.removeClass("tooltipster-update-"+r)},1e3)):i._$tooltip.fadeTo(200,.5,function(){"closed"!=i.__state&&i._$tooltip.fadeTo(200,1)})):i._close(),i)},destroy:function(){var t=this;return t.__destroyed?t.__destroyError():t.__destroying||(t.__destroying=!0,t._close(null,function(){var i,r;t._trigger("destroy");t.__destroying=!1;t.__destroyed=!0;t._$origin.removeData(t.__namespace).off("."+t.__namespace+"-triggerOpen");n("body").off("."+t.__namespace+"-triggerOpen");i=t._$origin.data("tooltipster-ns");i&&(1===i.length?(r=null,"previous"==t.__options.restoration?r=t._$origin.data("tooltipster-initialTitle"):"current"==t.__options.restoration&&(r="string"==typeof t.__Content?t.__Content:n("<div><\/div>").append(t.__Content).html()),r&&t._$origin.attr("title",r),t._$origin.removeClass("tooltipstered"),t._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")):(i=n.grep(i,function(n){return n!==t.__namespace}),t._$origin.data("tooltipster-ns",i)));t._trigger("destroyed");t._off();t.off();t.__Content=null;t.__$emitterPrivate=null;t.__$emitterPublic=null;t.__options.parent=null;t._$origin=null;t._$tooltip=null;n.tooltipster.__instancesLatestArr=n.grep(n.tooltipster.__instancesLatestArr,function(n){return t!==n});clearInterval(t.__garbageCollector)})),t},disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=!1,this)},elementOrigin:function(){return this.__destroyed?void this.__destroyError():this._$origin[0]},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(n){return this.close(n)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(n){return this.__destroyed||this.__destroying?this.__destroyError():this._open(null,n),this},option:function(t,i){return void 0===i?this.__options[t]:(this.__destroyed?this.__destroyError():(this.__options[t]=i,this.__optionsFormat(),n.inArray(t,["trigger","triggerClose","triggerOpen"])>=0&&this.__prepareOrigin(),"selfDestruction"===t&&this.__prepareGC()),this)},reposition:function(n,t){var i=this;return i.__destroyed?i.__destroyError():(u(i._$tooltip)||t)&&(t||i._$tooltip.detach(),i.__Geometry=i.__geometry(),i._trigger({type:"reposition",event:n,helper:{geo:i.__Geometry}})),i},show:function(n){return this.open(n)},status:function(){return{destroyed:this.__destroyed,destroying:this.__destroying,enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},n.fn.tooltipster=function(){var t=Array.prototype.slice.apply(arguments),f="You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.",r;if(0===this.length)return this;if("string"==typeof t[0])return r="#*$~&",this.each(function(){var e=n(this).data("tooltipster-ns"),i=e?n(this).data(e[0]):null,u;if(!i)throw new Error("You called Tooltipster's \""+t[0]+'" method on an uninitialized element');if("function"!=typeof i[t[0]])throw new Error('Unknown method "'+t[0]+'"');return this.length>1&&"content"==t[0]&&(t[1]instanceof n||"object"==typeof t[1]&&null!=t[1]&&t[1].tagName)&&!i.__options.contentCloning&&i.__options.debug&&console.log(f),u=i[t[0]](t[1],t[2]),u!==i||"instance"===t[0]?(r=u,!1):void 0}),"#*$~&"!==r?r:this;n.tooltipster.__instancesLatestArr=[];var e=t[0]&&void 0!==t[0].multiple,l=e&&t[0].multiple||!e&&i.multiple,o=t[0]&&void 0!==t[0].content,u=o&&t[0].content||!o&&i.content,s=t[0]&&void 0!==t[0].contentCloning,a=s&&t[0].contentCloning||!s&&i.contentCloning,h=t[0]&&void 0!==t[0].debug,c=h&&t[0].debug||!h&&i.debug;return this.length>1&&(u instanceof n||"object"==typeof u&&null!=u&&u.tagName)&&!a&&c&&console.log(f),this.each(function(){var u=!1,f=n(this),r=f.data("tooltipster-ns"),i=null;r?l?u=!0:c&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):u=!0;u&&(i=new n.Tooltipster(this,t[0]),r||(r=[]),r.push(i.__namespace),f.data("tooltipster-ns",r),f.data(i.__namespace,i),i.__options.functionInit&&i.__options.functionInit.call(i,i,{origin:this}),i._trigger("init"));n.tooltipster.__instancesLatestArr.push(i)}),this},s.prototype={__init:function(t){this.__$tooltip=t;this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto");this.$container=n('<div class="tooltipster-ruler"><\/div>').append(this.__$tooltip).appendTo("body")},__forceRedraw:function(){var n=this.__$tooltip.parent();this.__$tooltip.detach();this.__$tooltip.appendTo(n)},constrain:function(n,t){return this.constraints={width:n,height:t},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:n}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""});this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){var n,i;if(this.__forceRedraw(),n=this.__$tooltip[0].getBoundingClientRect(),i={size:{height:n.height||n.bottom,width:n.width||n.right}},this.constraints){var r=this.__$tooltip.find(".tooltipster-content"),f=this.__$tooltip.outerHeight(),e=r[0].getBoundingClientRect(),u={height:f<=this.constraints.height,width:n.width<=this.constraints.width&&e.width>=r[0].scrollWidth-1};i.fits=u.height&&u.width}return t.IE&&t.IE<=11&&(i.size.width=Math.ceil(i.size.width)+1),i}},r=navigator.userAgent.toLowerCase(),-1!=r.indexOf("msie")?t.IE=parseInt(r.split("msie")[1]):-1!==r.toLowerCase().indexOf("trident")&&-1!==r.indexOf(" rv:11")?t.IE=11:-1!=r.toLowerCase().indexOf("edge/")&&(t.IE=parseInt(r.toLowerCase().split("edge/")[1])),o="tooltipster.sideTip",n.tooltipster._plugin({name:o,instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(n){var t=this;t.__instance=n;t.__namespace="tooltipster-sideTip-"+Math.round(1e6*Math.random());t.__previousState="closed";t.__options;t.__optionsFormat();t.__instance._on("state."+t.__namespace,function(n){"closed"==n.state?t.__close():"appearing"==n.state&&"closed"==t.__previousState&&t.__create();t.__previousState=n.state});t.__instance._on("options."+t.__namespace,function(){t.__optionsFormat()});t.__instance._on("reposition."+t.__namespace,function(n){t.__reposition(n.event,n.helper)})},__close:function(){this.__instance.content()instanceof n&&this.__instance.content().detach();this.__instance._$tooltip.remove();this.__instance._$tooltip=null},__create:function(){var t=n('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"><\/div><\/div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"><\/div><div class="tooltipster-arrow-background"><\/div><\/div><\/div><\/div>');this.__options.arrow||t.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide();this.__options.minWidth&&t.css("min-width",this.__options.minWidth+"px");this.__options.maxWidth&&t.css("max-width",this.__options.maxWidth+"px");this.__instance._$tooltip=t;this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){var t=this,i;(t.__options=t.__instance._optionsExtract(o,t.__defaults()),t.__options.position&&(t.__options.side=t.__options.position),"object"!=typeof t.__options.distance&&(t.__options.distance=[t.__options.distance]),t.__options.distance.length<4&&(void 0===t.__options.distance[1]&&(t.__options.distance[1]=t.__options.distance[0]),void 0===t.__options.distance[2]&&(t.__options.distance[2]=t.__options.distance[0]),void 0===t.__options.distance[3]&&(t.__options.distance[3]=t.__options.distance[1]),t.__options.distance={top:t.__options.distance[0],right:t.__options.distance[1],bottom:t.__options.distance[2],left:t.__options.distance[3]}),"string"==typeof t.__options.side)&&(i={top:"bottom",right:"left",bottom:"top",left:"right"},t.__options.side=[t.__options.side,i[t.__options.side]],"left"==t.__options.side[0]||"right"==t.__options.side[0]?t.__options.side.push("top","bottom"):t.__options.side.push("right","left"));6===n.tooltipster._env.IE&&t.__options.arrow!==!0&&(t.__options.arrow=!1)},__reposition:function(t,i){var r,u=this,y=u.__targetFind(i),e=[],l,a,f,h,v;u.__instance._$tooltip.detach();var s=u.__instance._$tooltip.clone(),c=n.tooltipster._getRuler(s),o=!1;switch(n.each(["window","document"],function(r,f){var a=null,r,l,h;if(u.__instance._trigger({container:f,helper:i,satisfied:o,takeTest:function(n){a=n},results:e,type:"positionTest"}),1==a||0!=a&&0==o&&("window"!=f||u.__options.viewportAware))for(r=0;r<u.__options.side.length;r++)l={horizontal:0,vertical:0},h=u.__options.side[r],"top"==h||"bottom"==h?l.vertical=u.__options.distance[h]:l.horizontal=u.__options.distance[h],u.__sideChange(s,h),n.each(["natural","constrained"],function(n,r){if(a=null,u.__instance._trigger({container:f,event:t,helper:i,mode:r,results:e,satisfied:o,side:h,takeTest:function(n){a=n},type:"positionTest"}),1==a||0!=a&&0==o){var s={container:f,distance:l,fits:null,mode:r,outerSize:null,side:h,size:null,target:y[h],whole:null},p="natural"==r?c.free():c.constrain(i.geo.available[f][h].width-l.horizontal,i.geo.available[f][h].height-l.vertical),v=p.measure();if(s.size=v.size,s.outerSize={height:v.size.height+l.vertical,width:v.size.width+l.horizontal},s.fits="natural"==r?i.geo.available[f][h].width>=s.outerSize.width&&i.geo.available[f][h].height>=s.outerSize.height?!0:!1:v.fits,"window"==f&&(s.whole=s.fits?"top"==h||"bottom"==h?i.geo.origin.windowOffset.right>=u.__options.minIntersection&&i.geo.window.size.width-i.geo.origin.windowOffset.left>=u.__options.minIntersection:i.geo.origin.windowOffset.bottom>=u.__options.minIntersection&&i.geo.window.size.height-i.geo.origin.windowOffset.top>=u.__options.minIntersection:!1),e.push(s),s.whole)o=!0;else if("natural"==s.mode&&(s.fits||s.size.width<=i.geo.available[f][h].width))return!1}})}),u.__instance._trigger({edit:function(n){e=n},event:t,helper:i,results:e,type:"positionTested"}),e.sort(function(n,t){var i,r;return n.whole&&!t.whole?-1:!n.whole&&t.whole?1:n.whole&&t.whole?(i=u.__options.side.indexOf(n.side),r=u.__options.side.indexOf(t.side),r>i?-1:i>r?1:"natural"==n.mode?-1:1):n.fits&&!t.fits?-1:!n.fits&&t.fits?1:n.fits&&t.fits?(i=u.__options.side.indexOf(n.side),r=u.__options.side.indexOf(t.side),r>i?-1:i>r?1:"natural"==n.mode?-1:1):"document"==n.container&&"bottom"==n.side&&"natural"==n.mode?-1:1}),r=e[0],r.coord={},r.side){case"left":case"right":r.coord.top=Math.floor(r.target-r.size.height/2);break;case"bottom":case"top":r.coord.left=Math.floor(r.target-r.size.width/2)}switch(r.side){case"left":r.coord.left=i.geo.origin.windowOffset.left-r.outerSize.width;break;case"right":r.coord.left=i.geo.origin.windowOffset.right+r.distance.horizontal;break;case"top":r.coord.top=i.geo.origin.windowOffset.top-r.outerSize.height;break;case"bottom":r.coord.top=i.geo.origin.windowOffset.bottom+r.distance.vertical}"window"==r.container?"top"==r.side||"bottom"==r.side?r.coord.left<0?r.coord.left=i.geo.origin.windowOffset.right-this.__options.minIntersection>=0?0:i.geo.origin.windowOffset.right-this.__options.minIntersection-1:r.coord.left>i.geo.window.size.width-r.size.width&&(r.coord.left=i.geo.origin.windowOffset.left+this.__options.minIntersection<=i.geo.window.size.width?i.geo.window.size.width-r.size.width:i.geo.origin.windowOffset.left+this.__options.minIntersection+1-r.size.width):r.coord.top<0?r.coord.top=i.geo.origin.windowOffset.bottom-this.__options.minIntersection>=0?0:i.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:r.coord.top>i.geo.window.size.height-r.size.height&&(r.coord.top=i.geo.origin.windowOffset.top+this.__options.minIntersection<=i.geo.window.size.height?i.geo.window.size.height-r.size.height:i.geo.origin.windowOffset.top+this.__options.minIntersection+1-r.size.height):(r.coord.left>i.geo.window.size.width-r.size.width&&(r.coord.left=i.geo.window.size.width-r.size.width),r.coord.left<0&&(r.coord.left=0));u.__sideChange(s,r.side);i.tooltipClone=s[0];i.tooltipParent=u.__instance.option("parent").parent[0];i.mode=r.mode;i.whole=r.whole;i.origin=u.__instance._$origin[0];i.tooltip=u.__instance._$tooltip[0];delete r.container;delete r.fits;delete r.mode;delete r.outerSize;delete r.whole;r.distance=r.distance.horizontal||r.distance.vertical;l=n.extend(!0,{},r);(u.__instance._trigger({edit:function(n){r=n},event:t,helper:i,position:l,type:"position"}),u.__options.functionPosition)&&(a=u.__options.functionPosition.call(u,u.__instance,i,l),a&&(r=a));c.destroy();"top"==r.side||"bottom"==r.side?(f={prop:"left",val:r.target-r.coord.left},h=r.size.width-this.__options.minIntersection):(f={prop:"top",val:r.target-r.coord.top},h=r.size.height-this.__options.minIntersection);f.val<this.__options.minIntersection?f.val=this.__options.minIntersection:f.val>h&&(f.val=h);v=i.geo.origin.fixedLineage?i.geo.origin.windowOffset:{left:i.geo.origin.windowOffset.left+i.geo.window.scroll.left,top:i.geo.origin.windowOffset.top+i.geo.window.scroll.top};r.coord={left:v.left+(r.coord.left-i.geo.origin.windowOffset.left),top:v.top+(r.coord.top-i.geo.origin.windowOffset.top)};u.__sideChange(u.__instance._$tooltip,r.side);i.geo.origin.fixedLineage?u.__instance._$tooltip.css("position","fixed"):u.__instance._$tooltip.css("position","");u.__instance._$tooltip.css({left:r.coord.left,top:r.coord.top,height:r.size.height,width:r.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(f.prop,f.val);u.__instance._$tooltip.appendTo(u.__instance.option("parent"));u.__instance._trigger({type:"repositioned",event:t,position:r})},__sideChange:function(n,t){n.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+t)},__targetFind:function(n){var r={},i=this.__instance._$origin[0].getClientRects(),u,t;return i.length>1&&(u=this.__instance._$origin.css("opacity"),1==u&&(this.__instance._$origin.css("opacity",.99),i=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1))),i.length<2?(r.top=Math.floor(n.geo.origin.windowOffset.left+n.geo.origin.size.width/2),r.bottom=r.top,r.left=Math.floor(n.geo.origin.windowOffset.top+n.geo.origin.size.height/2),r.right=r.left):(t=i[0],r.top=Math.floor(t.left+(t.right-t.left)/2),t=i.length>2?i[Math.ceil(i.length/2)-1]:i[0],r.right=Math.floor(t.top+(t.bottom-t.top)/2),t=i[i.length-1],r.bottom=Math.floor(t.left+(t.right-t.left)/2),t=i.length>2?i[Math.ceil((i.length+1)/2)-1]:i[i.length-1],r.left=Math.floor(t.top+(t.bottom-t.top)/2)),r}}}),n}),function(n){typeof define=="function"&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){n.extend(n.fn,{validate:function(t){if(!this.length){t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.");return}var i=n.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new n.validator(t,this[0]),n.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){i.settings.submitHandler&&(i.submitButton=t.target);n(t.target).hasClass("cancel")&&(i.cancelSubmit=!0);n(t.target).attr("formnovalidate")!==undefined&&(i.cancelSubmit=!0)}),this.submit(function(t){function r(){var u,r;return i.settings.submitHandler?(i.submitButton&&(u=n("<input type='hidden'/>").attr("name",i.submitButton.name).val(n(i.submitButton).val()).appendTo(i.currentForm)),r=i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&u.remove(),r!==undefined)?r:!1:!0}return(i.settings.debug&&t.preventDefault(),i.cancelSubmit)?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)},valid:function(){var t,i;return n(this[0]).is("form")?t=this.validate().form():(t=!0,i=n(this[0].form).validate(),this.each(function(){t=i.element(this)&&t})),t},removeAttrs:function(t){var i={},r=this;return n.each(t.split(/\s/),function(n,t){i[t]=r.attr(t);r.removeAttr(t)}),i},rules:function(t,i){var r=this[0],e,s,f,u,o,h;if(t){e=n.data(r.form,"validator").settings;s=e.rules;f=n.validator.staticRules(r);switch(t){case"add":n.extend(f,n.validator.normalizeRule(i));delete f.messages;s[r.name]=f;i.messages&&(e.messages[r.name]=n.extend(e.messages[r.name],i.messages));break;case"remove":return i?(h={},n.each(i.split(/\s/),function(t,i){h[i]=f[i];delete f[i];i==="required"&&n(r).removeAttr("aria-required")}),h):(delete s[r.name],f)}}return u=n.validator.normalizeRules(n.extend({},n.validator.classRules(r),n.validator.attributeRules(r),n.validator.dataRules(r),n.validator.staticRules(r)),r),u.required&&(o=u.required,delete u.required,u=n.extend({required:o},u),n(r).attr("aria-required","true")),u.remote&&(o=u.remote,delete u.remote,u=n.extend(u,{remote:o})),u}});n.extend(n.expr[":"],{blank:function(t){return!n.trim(""+n(t).val())},filled:function(t){return!!n.trim(""+n(t).val())},unchecked:function(t){return!n(t).prop("checked")}});n.validator=function(t,i){this.settings=n.extend(!0,{},n.validator.defaults,t);this.currentForm=i;this.init()};n.validator.format=function(t,i){return arguments.length===1?function(){var i=n.makeArray(arguments);return i.unshift(t),n.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),n.each(i,function(n,i){t=t.replace(new RegExp("\\{"+n+"\\}","g"),function(){return i})}),t)};n.extend(n.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:n([]),errorLabelContainer:n([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(n){this.lastActive=n;this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,n,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(n)))},onfocusout:function(n){!this.checkable(n)&&(n.name in this.submitted||!this.optional(n))&&this.element(n)},onkeyup:function(n,t){(t.which!==9||this.elementValue(n)!=="")&&(n.name in this.submitted||n===this.lastElement)&&this.element(n)},onclick:function(n){n.name in this.submitted?this.element(n):n.parentNode.name in this.submitted&&this.element(n.parentNode)},highlight:function(t,i,r){t.type==="radio"?this.findByName(t.name).addClass(i).removeClass(r):n(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){t.type==="radio"?this.findByName(t.name).removeClass(i).addClass(r):n(t).removeClass(i).addClass(r)}},setDefaults:function(t){n.extend(n.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:n.validator.format("Please enter no more than {0} characters."),minlength:n.validator.format("Please enter at least {0} characters."),rangelength:n.validator.format("Please enter a value between {0} and {1} characters long."),range:n.validator.format("Please enter a value between {0} and {1}."),max:n.validator.format("Please enter a value less than or equal to {0}."),min:n.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function i(t){var r=n.data(this[0].form,"validator"),u="on"+t.type.replace(/^validate/,""),i=r.settings;i[u]&&!this.is(i.ignore)&&i[u].call(r,this[0],t)}this.labelContainer=n(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||n(this.currentForm);this.containers=n(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var r=this.groups={},t;n.each(this.settings.groups,function(t,i){typeof i=="string"&&(i=i.split(/\s/));n.each(i,function(n,i){r[i]=t})});t=this.settings.rules;n.each(t,function(i,r){t[i]=n.validator.normalizeRule(r)});n(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",i).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",i);this.settings.invalidHandler&&n(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler);n(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),n.extend(this.submitted,this.errorMap),this.invalid=n.extend({},this.errorMap),this.valid()||n(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var n=0,t=this.currentElements=this.elements();t[n];n++)this.check(t[n]);return this.valid()},element:function(t){var u=this.clean(t),i=this.validationTargetFor(u),r=!0;return this.lastElement=i,i===undefined?delete this.invalid[u.name]:(this.prepareElement(i),this.currentElements=n(i),r=this.check(i)!==!1,r?delete this.invalid[i.name]:this.invalid[i.name]=!0),n(t).attr("aria-invalid",!r),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),r},showErrors:function(t){if(t){n.extend(this.errorMap,t);this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=n.grep(this.successList,function(n){return!(n.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){n.fn.resetForm&&n(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(n){var t=0,i;for(i in n)t++;return t},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(n){n.not(this.containers).text("");this.addWrapper(n).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{n(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&n.grep(this.errorList,function(n){return n.element.name===t.name}).length===1&&t},elements:function(){var t=this,i={};return n(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled], [readonly]").not(this.settings.ignore).filter(function(){return(!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!t.objectLength(n(this).rules()))?!1:(i[this.name]=!0,!0)})},clean:function(t){return n(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return n(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=n([]);this.toHide=n([]);this.currentElements=n([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(n){this.reset();this.toHide=this.errorsFor(n)},elementValue:function(t){var i,u=n(t),r=t.type;return r==="radio"||r==="checkbox"?n("input[name='"+t.name+"']:checked").val():r==="number"&&typeof t.validity!="undefined"?t.validity.badInput?!1:u.val():(i=u.val(),typeof i=="string")?i.replace(/\r/g,""):i},check:function(t){t=this.validationTargetFor(this.clean(t));var i=n(t).rules(),s=n.map(i,function(n,t){return t}).length,e=!1,h=this.elementValue(t),r,u,f;for(u in i){f={method:u,parameters:i[u]};try{if(r=n.validator.methods[u].call(this,h,t,f.parameters),r==="dependency-mismatch"&&s===1){e=!0;continue}if(e=!1,r==="pending"){this.toHide=this.toHide.not(this.errorsFor(t));return}if(!r)return this.formatAndAdd(t,f),!1}catch(o){this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+f.method+"' method.",o);throw o;}}if(!e)return this.objectLength(i)&&this.successList.push(t),!0},customDataMessage:function(t,i){return n(t).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||n(t).data("msg")},customMessage:function(n,t){var i=this.settings.messages[n];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var n=0;n<arguments.length;n++)if(arguments[n]!==undefined)return arguments[n];return undefined},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customDataMessage(t,i),!this.settings.ignoreTitle&&t.title||undefined,n.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"<\/strong>")},formatAndAdd:function(t,i){var r=this.defaultMessage(t,i.method),u=/\$?\{(\d+)\}/g;typeof r=="function"?r=r.call(this,i.parameters,t):u.test(r)&&(r=n.validator.format(r.replace(u,"{$1}"),i.parameters));this.errorList.push({message:r,element:t,method:i.method});this.errorMap[t.name]=r;this.submitted[t.name]=r},addWrapper:function(n){return this.settings.wrapper&&(n=n.add(n.parent(this.settings.wrapper))),n},defaultShowErrors:function(){for(var i,t,n=0;this.errorList[n];n++)t=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,i=this.validElements();i[n];n++)this.settings.unhighlight.call(this,i[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return n(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var u,o,e,r=this.errorsFor(t),s=this.idOrName(t),f=n(t).attr("aria-describedby");r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.html(i)):(r=n("<"+this.settings.errorElement+">").attr("id",s+"-error").addClass(this.settings.errorClass).html(i||""),u=r,this.settings.wrapper&&(u=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(u):this.settings.errorPlacement?this.settings.errorPlacement(u,n(t)):u.insertAfter(t),r.is("label")?r.attr("for",s):r.parents("label[for='"+s+"']").length===0&&(e=r.attr("id").replace(/(:|\.|\[|\])/g,"\\$1"),f?f.match(new RegExp("\\b"+e+"\\b"))||(f+=" "+e):f=e,n(t).attr("aria-describedby",f),o=this.groups[t.name],o&&n.each(this.groups,function(t,i){i===o&&n("[name='"+t+"']",this.currentForm).attr("aria-describedby",r.attr("id"))})));!i&&this.settings.success&&(r.text(""),typeof this.settings.success=="string"?r.addClass(this.settings.success):this.settings.success(r,t));this.toShow=this.toShow.add(r)},errorsFor:function(t){var r=this.idOrName(t),u=n(t).attr("aria-describedby"),i="label[for='"+r+"'], label[for='"+r+"'] *";return u&&(i=i+", #"+u.replace(/\s+/g,", #")),this.errors().filter(i)},idOrName:function(n){return this.groups[n.name]||(this.checkable(n)?n.name:n.id||n.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),n(t).not(this.settings.ignore)[0]},checkable:function(n){return/radio|checkbox/i.test(n.type)},findByName:function(t){return n(this.currentForm).find("[name='"+t+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return n("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(n,t){return this.dependTypes[typeof n]?this.dependTypes[typeof n](n,t):!0},dependTypes:{boolean:function(n){return n},string:function(t,i){return!!n(t,i.form).length},"function":function(n,t){return n(t)}},optional:function(t){var i=this.elementValue(t);return!n.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(n){this.pending[n.name]||(this.pendingRequest++,this.pending[n.name]=!0)},stopRequest:function(t,i){this.pendingRequest--;this.pendingRequest<0&&(this.pendingRequest=0);delete this.pending[t.name];i&&this.pendingRequest===0&&this.formSubmitted&&this.form()?(n(this.currentForm).submit(),this.formSubmitted=!1):!i&&this.pendingRequest===0&&this.formSubmitted&&(n(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return n.data(t,"previousValue")||n.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:n.extend(this.classRuleSettings,t)},classRules:function(t){var i={},r=n(t).attr("class");return r&&n.each(r.split(" "),function(){this in n.validator.classRuleSettings&&n.extend(i,n.validator.classRuleSettings[this])}),i},attributeRules:function(t){var u={},e=n(t),f=t.getAttribute("type"),r,i;for(r in n.validator.methods)r==="required"?(i=t.getAttribute(r),i===""&&(i=!0),i=!!i):i=e.attr(r),/min|max/.test(r)&&(f===null||/number|range|text/.test(f))&&(i=Number(i)),i||i===0?u[r]=i:f===r&&f!=="range"&&(u[r]=!0);return u.maxlength&&/-1|2147483647|524288/.test(u.maxlength)&&delete u.maxlength,u},dataRules:function(t){var i,r,u={},f=n(t);for(i in n.validator.methods)r=f.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),r!==undefined&&(u[i]=r);return u},staticRules:function(t){var i={},r=n.data(t.form,"validator");return r.settings.rules&&(i=n.validator.normalizeRule(r.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return n.each(t,function(r,u){if(u===!1){delete t[r];return}if(u.param||u.depends){var f=!0;switch(typeof u.depends){case"string":f=!!n(u.depends,i.form).length;break;case"function":f=u.depends.call(i,i)}f?t[r]=u.param!==undefined?u.param:!0:delete t[r]}}),n.each(t,function(r,u){t[r]=n.isFunction(u)?u(i):u}),n.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),n.each(["rangelength","range"],function(){var i;t[this]&&(n.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:typeof t[this]=="string"&&(i=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),n.validator.autoCreateRanges&&(t.min!=null&&t.max!=null&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength!=null&&t.maxlength!=null&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if(typeof t=="string"){var i={};n.each(t.split(/\s/),function(){i[this]=!0});t=i}return t},addMethod:function(t,i,r){n.validator.methods[t]=i;n.validator.messages[t]=r!==undefined?r:n.validator.messages[t];i.length<3&&n.validator.addClassRules(t,n.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";if(i.nodeName.toLowerCase()==="select"){var u=n(i).val();return u&&u.length>0}return this.checkable(i)?this.getLength(t,i)>0:n.trim(t).length>0},email:function(n,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(n)},url:function(n,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(n)},date:function(n,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(n).toString())},dateISO:function(n,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(n)},number:function(n,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(n)},digits:function(n,t){return this.optional(t)||/^\d+$/.test(n)},creditcard:function(n,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(n))return!1;var f=0,i=0,u=!1,r,e;if(n=n.replace(/\D/g,""),n.length<13||n.length>19)return!1;for(r=n.length-1;r>=0;r--)e=n.charAt(r),i=parseInt(e,10),u&&(i*=2)>9&&(i-=9),f+=i,u=!u;return f%10==0},minlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||u>=r},maxlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||u<=r},rangelength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||u>=r[0]&&u<=r[1]},min:function(n,t,i){return this.optional(t)||n>=i},max:function(n,t,i){return this.optional(t)||n<=i},range:function(n,t,i){return this.optional(t)||n>=i[0]&&n<=i[1]},equalTo:function(t,i,r){var u=n(r);return this.settings.onfocusout&&u.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){n(i).valid()}),t===u.val()},remote:function(t,i,r){if(this.optional(i))return"dependency-mismatch";var f=this.previousValue(i),u,e;return(this.settings.messages[i.name]||(this.settings.messages[i.name]={}),f.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=f.message,r=typeof r=="string"&&{url:r}||r,f.old===t)?f.valid:(f.old=t,u=this,this.startRequest(i),e={},e[i.name]=t,n.ajax(n.extend(!0,{url:r,mode:"abort",port:"validate"+i.name,dataType:"json",data:e,context:u.currentForm,success:function(r){var o=r===!0||r==="true",s,e,h;u.settings.messages[i.name].remote=f.originalMessage;o?(h=u.formSubmitted,u.prepareElement(i),u.formSubmitted=h,u.successList.push(i),delete u.invalid[i.name],u.showErrors()):(s={},e=r||u.defaultMessage(i,"remote"),s[i.name]=f.message=n.isFunction(e)?e(t):e,u.invalid[i.name]=!0,u.showErrors(s));f.valid=o;u.stopRequest(i,o)}},r)),"pending")}}});n.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead.";};var t={},i;n.ajaxPrefilter?n.ajaxPrefilter(function(n,i,r){var u=n.port;n.mode==="abort"&&(t[u]&&t[u].abort(),t[u]=r)}):(i=n.ajax,n.ajax=function(r){var f=("mode"in r?r:n.ajaxSettings).mode,u=("port"in r?r:n.ajaxSettings).port;return f==="abort"?(t[u]&&t[u].abort(),t[u]=i.apply(this,arguments),t[u]):i.apply(this,arguments)});n.extend(n.fn,{validateDelegate:function(t,i,r){return this.bind(i,function(i){var u=n(i.target);if(u.is(t))return r.apply(u,arguments)})}})}),function(n){function i(n,t,i){n.rules[t]=i;n.message&&(n.messages[t]=n.message)}function h(n){return n.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)}function f(n){return n.replace(/([!"#$%&'()*+,./:;<=>?@\[\\\]^`{|}~])/g,"\\$1")}function e(n){return n.substr(0,n.lastIndexOf(".")+1)}function o(n,t){return n.indexOf("*.")===0&&(n=n.replace("*.",t)),n}function c(t,i){var r=n(this).find("[data-valmsg-for='"+f(i[0].name)+"']"),u=n.parseJSON(r.attr("data-valmsg-replace"))!==!1;r.removeClass("field-validation-valid").addClass("field-validation-error");t.data("unobtrusiveContainer",r);u?(r.empty(),t.removeClass("input-validation-error").appendTo(r)):t.hide()}function l(t,i){var u=n(this).find("[data-valmsg-summary=true]"),r=u.find("ul");r&&r.length&&i.errorList.length&&(r.empty(),u.addClass("validation-summary-errors").removeClass("validation-summary-valid"),n.each(i.errorList,function(){n("<li />").html(this.message).appendTo(r)}))}function a(t){var i=t.data("unobtrusiveContainer"),r=n.parseJSON(i.attr("data-valmsg-replace"));i&&(i.addClass("field-validation-valid").removeClass("field-validation-error"),t.removeData("unobtrusiveContainer"),r&&i.empty())}function v(){var t=n(this);t.data("validator").resetForm();t.find(".validation-summary-errors").addClass("validation-summary-valid").removeClass("validation-summary-errors");t.find(".field-validation-error").addClass("field-validation-valid").removeClass("field-validation-error").removeData("unobtrusiveContainer").find(">*").removeData("unobtrusiveContainer")}function s(t){var i=n(t),r=i.data(u),f=n.proxy(v,t);return r||(r={options:{errorClass:"input-validation-error",errorElement:"span",errorPlacement:n.proxy(c,t),invalidHandler:n.proxy(l,t),messages:{},rules:{},success:n.proxy(a,t)},attachValidation:function(){i.unbind("reset."+u,f).bind("reset."+u,f).validate(this.options)},validate:function(){return i.validate(),i.valid()}},i.data(u,r)),r}var r=n.validator,t,u="unobtrusiveValidation";r.unobtrusive={adapters:[],parseElement:function(t,i){var u=n(t),f=u.parents("form")[0],r,e,o;f&&(r=s(f),r.options.rules[t.name]=e={},r.options.messages[t.name]=o={},n.each(this.adapters,function(){var i="data-val-"+this.name,r=u.attr(i),s={};r!==undefined&&(i+="-",n.each(this.params,function(){s[this]=u.attr(i+this)}),this.adapt({element:t,form:f,message:r,params:s,rules:e,messages:o}))}),n.extend(e,{__dummy__:!0}),i||r.attachValidation())},parse:function(t){var i=n(t).parents("form").andSelf().add(n(t).find("form")).filter("form");n(t).find(":input[data-val=true]").each(function(){r.unobtrusive.parseElement(this,!0)});i.each(function(){var n=s(this);n&&n.attachValidation()})}};t=r.unobtrusive.adapters;t.add=function(n,t,i){return i||(i=t,t=[]),this.push({name:n,params:t,adapt:i}),this};t.addBool=function(n,t){return this.add(n,function(r){i(r,t||n,!0)})};t.addMinMax=function(n,t,r,u,f,e){return this.add(n,[f||"min",e||"max"],function(n){var f=n.params.min,e=n.params.max;f&&e?i(n,u,[f,e]):f?i(n,t,f):e&&i(n,r,e)})};t.addSingleVal=function(n,t,r){return this.add(n,[t||"val"],function(u){i(u,r||n,u.params[t])})};r.addMethod("__dummy__",function(){return!0});r.addMethod("regex",function(n,t,i){var r;return this.optional(t)?!0:(r=new RegExp(i).exec(n),r&&r.index===0&&r[0].length===n.length)});r.addMethod("nonalphamin",function(n,t,i){var r;return i&&(r=n.match(/\W/g),r=r&&r.length>=i),r});t.addSingleVal("accept","exts").addSingleVal("regex","pattern");t.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url");t.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range");t.add("equalto",["other"],function(t){var r=e(t.element.name),u=t.params.other,s=o(u,r),h=n(t.form).find(":input[name='"+f(s)+"']")[0];i(t,"equalTo",h)});t.add("required",function(n){(n.element.tagName.toUpperCase()!=="INPUT"||n.element.type.toUpperCase()!=="CHECKBOX")&&i(n,"required",!0)});t.add("remote",["url","type","additionalfields"],function(t){var r={url:t.params.url,type:t.params.type||"GET",data:{}},u=e(t.element.name);n.each(h(t.params.additionalfields||t.element.name),function(i,e){var s=o(e,u);r.data[s]=function(){return n(t.form).find(":input[name='"+f(s)+"']").val()}});i(t,"remote",r)});t.add("password",["min","nonalphamin","regex"],function(n){n.params.min&&i(n,"minlength",n.params.min);n.params.nonalphamin&&i(n,"nonalphamin",n.params.nonalphamin);n.params.regex&&i(n,"regex",n.params.regex)});n(function(){r.unobtrusive.parse(document)})}(jQuery),function(n){function i(n,t){for(var i=window,r=(n||"").split(".");i&&r.length;)i=i[r.shift()];return typeof i=="function"?i:(t.push(n),Function.constructor.apply(null,t))}function r(n){return n==="GET"||n==="POST"}function e(n,t){r(t)||n.setRequestHeader("X-HTTP-Method-Override",t)}function o(t,i,r){var u;r.indexOf("application/x-javascript")===-1&&(u=(t.getAttribute("data-ajax-mode")||"").toUpperCase(),n(t.getAttribute("data-ajax-update")).each(function(t,r){var f;switch(u){case"BEFORE":f=r.firstChild;n("<div />").html(i).contents().each(function(){r.insertBefore(this,f)});break;case"AFTER":n("<div />").html(i).contents().each(function(){r.appendChild(this)});break;default:n(r).html(i)}}))}function u(t,u){var s,h,f,c;(s=t.getAttribute("data-ajax-confirm"),!s||window.confirm(s))&&(h=n(t.getAttribute("data-ajax-loading")),c=t.getAttribute("data-ajax-loading-duration")||0,n.extend(u,{type:t.getAttribute("data-ajax-method")||undefined,url:t.getAttribute("data-ajax-url")||undefined,beforeSend:function(n){var r;return e(n,f),r=i(t.getAttribute("data-ajax-begin"),["xhr"]).apply(this,arguments),r!==!1&&h.show(c),r},complete:function(){h.hide(c);i(t.getAttribute("data-ajax-complete"),["xhr","status"]).apply(this,arguments)},success:function(n,r,u){o(t,n,u.getResponseHeader("Content-Type")||"text/html");i(t.getAttribute("data-ajax-success"),["data","status","xhr"]).apply(this,arguments)},error:i(t.getAttribute("data-ajax-failure"),["xhr","status","error"])}),u.data.push({name:"X-Requested-With",value:"XMLHttpRequest"}),f=u.type.toUpperCase(),r(f)||(u.type="POST",u.data.push({name:"X-HTTP-Method-Override",value:f})),n.ajax(u))}function s(t){var i=n(t).data(f);return!i||!i.validate||i.validate()}var t="unobtrusiveAjaxClick",f="unobtrusiveValidation";n(document).on("click","a[data-ajax=true]",function(n){n.preventDefault();u(this,{url:this.href,type:"GET",data:[]})});n(document).on("click","form[data-ajax=true] input[type=image]",function(i){var r=i.target.name,u=n(i.target),f=u.parents("form")[0],e=u.offset();n(f).data(t,[{name:r+".x",value:Math.round(i.pageX-e.left)},{name:r+".y",value:Math.round(i.pageY-e.top)}]);setTimeout(function(){n(f).removeData(t)},0)});n(document).on("click","form[data-ajax=true] :submit",function(i){var r=i.target.name,u=n(i.target).parents("form")[0];n(u).data(t,r?[{name:r,value:i.target.value}]:[]);setTimeout(function(){n(u).removeData(t)},0)});n(document).on("submit","form[data-ajax=true]",function(i){var r=n(this).data(t)||[];(i.preventDefault(),s(this))&&u(this,{url:this.action,type:this.method||"GET",data:r.concat(n(this).serializeArray())})})}(jQuery);EasingAnimator=function(n){n=n||{};this.easingInterval=n.easingInterval;this.duration=n.duration||1e3;this.step=n.step||50;this.easingFn=n.easingFn||function(n,t,i,r){return(n/=r/2)<1?i/2*n*n*n*n+t:-i/2*((n-=2)*n*n*n-2)+t};this.callBack=n.callBack||function(){}};EasingAnimator.makeFromCallback=function(n){return new EasingAnimator({callBack:n})};EasingAnimator.prototype.easeProp=function(n,t){t=t||{};var i=this,r=0,u=JSON.parse(JSON.stringify(n));clearInterval(i.easingInterval);i.easingInterval=setInterval(function(){if(r+=i.step,r>=i.duration){clearInterval(i.easingInterval);i.callBack(t);return}var f=i.easingFn(r,0,1,i.duration);Object.keys(t).forEach(function(i){var r=n[i];u[i]=r-f*(r-t[i])});i.callBack(u)},i.step)};easingAnimator=EasingAnimator.makeFromCallback(function(n){app.tripMap.map.setCenter(n)});styler=[{featureType:"water",elementType:"geometry",stylers:[{color:"#bbbbbb"},{lightness:12}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#fcfcfc"},{lightness:20}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#333333"},{lightness:50}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#666666"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#999999"},{lightness:50}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#AAAAAA"},{lightness:50}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:21}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{elementType:"labels.text.fill",stylers:[{color:"#000000"},{lightness:0}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]}],function(){function n(n,t){var i;for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}this.ItineraryMap=function(){var i=this,t={apiKey:"AIzaSyCsSy1b7W7WoEuk_tRWAlcX-ORNbeuv2ns",wayPoints:[],itinOwlDays:null,itinOwl:null,dayChanging:!1,dayHoveredChanging:!1,maxAPIRequests:10,mapData:[]};this.options=arguments[0]&&typeof arguments[0]=="object"?n(t,arguments[0]):t};ItineraryMap.prototype.drawMapDot=function(n,t){var u=this,r,i;app.tripMap.dots=typeof app.tripMap.dots!="undefined"&&app.tripMap.dots instanceof Array?app.tripMap.dots:[];r={url:"/static/redesigned/images/circle-marker.png",size:new google.maps.Size(18,18),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(9,9)};i=app.tripMap.dots.length;app.tripMap.dots[i]={};app.tripMap.dots[i].stroke=new google.maps.Marker({position:new google.maps.LatLng(n,t),map:app.tripMap.map,zIndex:20,icon:r});google.maps.event.addListener(app.tripMap.dots[i].stroke,"mouseover",function(){$(".itineraryDay").eq(parseInt(i)).click()})};ItineraryMap.prototype.drawTripLines=function(n){var e=this,u=n.length,t=0,o=0,a=0,v=new google.maps.DirectionsService,y=new google.maps.DirectionsRenderer({map:app.tripMap.map,preserveViewport:!0}),r,f,s,h,c,l,i;for(app.tripMap.bounds=new google.maps.LatLngBounds;t<u;){for(r=[],f=0,o>0&&t--,i=0;i<e.options.maxAPIRequests;i++)if(f==0?(s=n[t].lat,c=n[t].lng):t+1==u||i+1==e.options.maxAPIRequests?(h=n[t].lat,l=n[t].lng,o++):r[r.length]={stopover:!0,location:new google.maps.LatLng(n[t].lat,n[t].lng)},t++,f++,t==u)break;v.route({origin:new google.maps.LatLng(s,c),destination:new google.maps.LatLng(h,l),waypoints:r,travelMode:google.maps.TravelMode.DRIVING},function(n,t){var u,f,e,r;if(t===google.maps.DirectionsStatus.OK){for(u=new google.maps.Polyline({strokeColor:"#619bd1",strokeOpacity:1,strokeWeight:3,geodesic:!0}),f=n.routes[0].legs,i=0;i<f.length;i++)for(e=f[i].steps,j=0;j<e.length;j++)for(r=e[j].path,k=0;k<r.length;k++)u.getPath().push(r[k]),app.tripMap.bounds.extend(r[k]);a++;u.setMap(app.tripMap.map)}else console.log("Directions request failed due to "+t)})}};ItineraryMap.prototype.drawBubble=function(n,t){var r=this,i;app.tripMap.markers=typeof app.tripMap.markers!="undefined"&&app.tripMap.markers instanceof Array?app.tripMap.markers:[];i=app.tripMap.markers.length;app.tripMap.markers[i]={};app.tripMap.markers[i]=new google.maps.Marker({position:new google.maps.LatLng(n,t),map:app.tripMap.map,zIndex:200,optimized:!1,icon:"/static/redesigned/images/gmaps-marker.png?i="+i});google.maps.event.addListener(app.tripMap.markers[i],"click",function(){$(".itineraryDay").eq(parseInt(i)).click()})};ItineraryMap.prototype.activateFirstPopup=function(){var n=this;$(window).width()>767&&$(".itineraryDay").eq(0).addClass("itineraryDay--hover").click();var t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,i=document.getElementById("map-trip-canvas"),r=new t(function(t){t.forEach(function(t){if(t.type==="childList"&&t.addedNodes.length>0){var r=t.addedNodes[0],i=$(t.addedNodes);if(i[0].nodeType===3)return!0;i[0].children.length>0&&i[0].children[0].nodeName==="IMG"&&i[0].children[0].src.indexOf("i=0")>-1&&(console.log("map changed -- trigger highlight",i[0].children[0].src),n.highlightDay(0,$(".itineraryDay").eq(0).data("day")),n.options.dayChanging=!1)}})});r.observe(i,{subtree:!0,attributes:!0,childList:!0,characterData:!0})};ItineraryMap.prototype.resizeSlider=function(){var r=this,n=this.$element.find(".owl-stage"),i=n.find(".owl-item"),t=0;i.each(function(){t+=Math.ceil($(this).outerWidth(!0))});n.width(t)};ItineraryMap.prototype.highlightDay=function(n,t){var r,u,i,f;console.log("_____ HIGHLIGHT");r=this;this.options.dayChanging=!0;app.tripMap.activeDay=n;this.itinOwlDays.trigger("to.owl.carousel",[n,300]);r.options.dayHoveredChanging?r.options.dayHoveredChanging=!1:this.itinOwl.trigger("to.owl.carousel",[n,300,!0]);u=0;$(".itineraryDayList__listerItem--hover").removeClass("itineraryDayList__listerItem--hover");$(".itineraryDayList__listerItem").eq(n).addClass("itineraryDayList__listerItem--hover");$(".itineraryDay--hover").removeClass("itineraryDay--hover");$(".itineraryDay").eq(n).addClass("itineraryDay--hover");$("img[src*='gmaps-marker\\.png?i=']").each(function(){if($(this).hasClass("big")){$('img[src*="gmaps-marker"]').off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend");$(this).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){$('img[src="'+$(this).attr("src")+'"]').off();$('img[src*="gmaps-marker"]').off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend");$(this).parent().siblings().eq(n).siblings().hide()});$(this).removeClass("big");$(this).next().length>0&&$(this).next().remove();u++}});u===0&&$("img[src*='gmaps-marker\\.png?i=']").parent().hide();t===undefined&&(t=parseInt(n+1));app.tripMap.markers[n]!=undefined&&(i=$("img[src$='gmaps-marker\\.png?i="+n+"']"),f=app.tripMap.map.getCenter(),i.each(function(){$(this).parent().show()}),setTimeout(function(){i.addClass("big")}),i.after('<div class="customMarkerLabel">'+t+"<\/div>"),easingAnimator.easeProp({lat:f.lat(),lng:f.lng()},{lat:app.tripMap.markers[n].position.lat(),lng:app.tripMap.markers[n].position.lng()}))};ItineraryMap.prototype.initMap=function(){var n=this,r,u,t,i;if(typeof generatedLocations!="undefined"&&generatedLocations.length>0&&(this.options.mapData=generatedLocations),$("#map-trip-canvas").length==0)return!1;var f=0,e=0,o,s=new google.maps.DirectionsService;for(o=new google.maps.DirectionsRenderer,this.initCarousels(),app.tripMap={},r=new google.maps.StyledMapType(styler,{name:"Styled Map"}),u={zoom:7,center:new google.maps.LatLng(52.6468,-2),streetViewControl:!1,scrollwheel:!1,navigationControl:!1,mapTypeControl:!1,scaleControl:!1,draggable:!1,disableDoubleClickZoom:!0,zoomControl:!0,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,"map_style"]}},app.tripMap.map=new google.maps.Map(document.getElementById("map-trip-canvas"),u),app.tripMap.map.mapTypes.set("map_style",r),app.tripMap.map.setMapTypeId("map_style"),app.tripMap.bounds=new google.maps.LatLngBounds,t=0;t<n.options.mapData.length;t++)app.tripMap.bounds.extend(new google.maps.LatLng(n.options.mapData[t].lat,n.options.mapData[t].lng));app.tripMap.map.fitBounds(app.tripMap.bounds);mapZoom>0?setTimeout(function(){app.tripMap.map.setZoom(mapZoom)},500):zoomChangeBoundsListener=google.maps.event.addListenerOnce(app.tripMap.map,"bounds_changed",function(){var n=this.getZoom(),t=n;n>10&&(t=10);n!=t&&this.setZoom(t)});google.maps.event.addListenerOnce(app.tripMap.map,"idle",function(){$(window).load(function(){n.activateFirstPopup()})});i=n.options.mapData;$.each(i,function(t,i){n.drawMapDot(i.lat,i.lng);n.drawBubble(i.lat,i.lng);f=i.lat;e=i.lng});n.drawTripLines(i);$("body").on("click",".itineraryDay,.itineraryDayList__listerItem",function(t){t.preventDefault();n.activeDay($(this))});$("body").on("mouseenter",".itineraryDay",function(t){t.preventDefault();n.activeDay($(this))});$("body").on("click",".DayOutingOverview__DayFlicker .next",function(t){t.preventDefault();app.itineraryDayPopup.nextInGallery();var i=app.itineraryDayPopup.modalWindow.index();n.options.dayChanging=!0;n.highlightDay(i,$(".itineraryDay").eq(i).data("day"));n.options.dayChanging=!1});$("body").on("click",".DayOutingOverview__DayFlicker .prev",function(t){t.preventDefault();app.itineraryDayPopup.prevInGallery();var i=app.itineraryDayPopup.modalWindow.index();n.options.dayChanging=!0;n.highlightDay(i,$(".itineraryDay").eq(i).data("day"));n.options.dayChanging=!1});$("body").on("click",".DayOuting .close",function(n){n.preventDefault();app.itineraryDayPopup.close()})};ItineraryMap.prototype.initCarousels=function(){var n=this;this.itinOwlDays=$(".itineraryDayList__lister").owlCarousel({items:1,mouseDrag:!1,touchDrag:!1,nav:!0,navText:['<i class="fa fa-angle-left"><\/i>','<i class="fa fa-angle-right"><\/i>'],onInitialized:function(){this.$element.find(".owl-item").first().hasClass("active")?this.$element.find(".owl-prev").hide():this.$element.find(".owl-prev").show()}});this.itinOwlDays.on("changed.owl.carousel",function(t){t.item.index==0?$(".itineraryDayList__lister .owl-prev").hide():$(".itineraryDayList__lister .owl-prev").show();t.page.count==t.page.index+1?$(".itineraryDayList__lister .owl-next").hide():$(".itineraryDayList__lister .owl-next").show();n.options.dayChanging||(app.itineraryDayPopup.close("slideLeft"),app.itineraryDayPopup.open('[data-itinerary-day="'+parseInt(t.item.index+1)+'"]',"slideLeft"),n.highlightDay(t.item.index,$(".itineraryDay").eq(t.item.index).data("day")),n.options.dayChanging=!1)});this.itinOwl=$(".itineraryDaySlider").owlCarousel({nav:!0,onResized:function(){n.resizeSlider.call(this)},navText:['<i class="fa fa-angle-left"><\/i>','<i class="fa fa-angle-right"><\/i>'],afterAction:function(){this.$owlItems.removeClass("centered");this.$owlItems.eq(this.currentItem+1).addClass("centered")},responsive:{0:{items:3},700:{items:4},950:{items:5},1200:{items:6},1400:{items:7},1700:{items:8},1950:{items:9},2200:{items:10}},onInitialized:function(){n.resizeSlider.call(this);this.$element.find(".owl-item").first().hasClass("active")?this.$element.find(".owl-prev").hide():this.$element.find(".owl-prev").show()}});this.itinOwl.on("initialized.owl.carousel resized.owl.carousel",function(t){$(t.target).toggleClass("hide-nav",t.item.count<=t.page.size);app.tripMap.activeDay==undefined?app.tripMap.map.fitBounds(app.tripMap.bounds):n.highlightDay(app.tripMap.activeDay,$(".itineraryDay").eq(app.tripMap.activeDay).data("day"))});this.itinOwl.on("changed.owl.carousel",function(t){var i=t.item.index;$(".centerItem").removeClass("centerItem");$(t.item).addClass("centerItem");$(window).width()<600&&(n.options.dayChanging||(n.highlightDay(i,$(".itineraryDay").eq(t.item.index).data("day")),n.options.dayChanging=!1));t.item.index==0?$(".itineraryDaySlider  .owl-prev").hide():$(".itineraryDaySlider  .owl-prev").show();t.item.count-(t.item.index+1)<t.page.size?$(".itineraryDaySlider  .owl-next").hide():$(".itineraryDaySlider  .owl-next").show()})};ItineraryMap.prototype.activeDay=function(n){var t=this,i=0,r;i=n.parents(".owl-item").length>0?n.parents(".owl-item:first").index()+1:n.index()+1;app.itineraryDayPopup&&(app.itineraryDayPopup.close(),app.itineraryDayPopup.open('[data-itinerary-day="'+i+'"]'));r=n.data("day");t.options.dayHoveredChanging=!0;t.highlightDay(i-1,r);t.options.dayChanging=!1}}(),function(n){n.DatesAndRatesPricePanel=function(t,i,r,u){var e=n.DatesAndRatesPricePanel.getCalendarModel(t,i,r,u),f=".calendar-modal-wrapper > .calendar-piece-confirm";e.IsAlternate?(f=".similar-trips-inner ",n(f+" .tripPage").show(),n(f+" .tripPage").attr("href",e.TripLink).show()):n(f+" .tripPage").hide();n(f+" .tripTitle").html(e.TripName);n(f+" .tripCountries").html(e.Countries);parseInt(e.Cities)>0?n(f+" .tripCities").html(e.Cities):n(f+" .tripCities").html("");n(f+" .tripDays").html(e.Days);n(f+" .destination1").html(e.StartCity+", "+e.StartCountry);n(f+" .destination2").html(e.EndCity+", "+e.EndCountry);n(f+" .startDate").html(e.StartDate);n(f+" .startDate2").html(e.StartDate);n(f+" .PaymentInfo").html(e.PaymentInfo);n(f+" .endDate").html(e.EndDate);n(f+" .priceNow").html(e.Price.GetNowFullString());n(f+" .priceWas").html(e.Price.GetWasFullString());n(f+" .priceSave").html(e.Price.GetSaveFullString());n(f+" .bookNowBtn").attr("href",e.BookNowLink).show();n(f+" .learnMoreBtn").attr("href",e.LearnMoreLink).hide();n(f+" .requestAQuoteBtn").attr({href:e.RequestAQuoteLink,rel:"nofollow"}).show();e.DiscountCode!=null&&e.DiscountCode!=""?(n(f+" .discount-code").show(),n(f+" .discount-code").html("CODE: "+e.DiscountCode)):n(f+" .discount-code").hide();e.Price.HasDiscount?(n(f+" .bookByTextPanel").show(),n(f+" .priceNow").removeClass("price__price--left"),n(f+" .priceNowPrefix").show(),n(f+" .priceWas").show(),n(f+" .priceSave").show(),n(f+" .discountDatePanel").show(),n(f+" .bookByText").show(),n(f+" .date__bookDate").text(e.PaymentDueDate),n(f+" .discountTitle").show(),e.DiscountText=="Early payment"?n(f+" .discountTitle").text("Early payment discount"):n(f+" .discountTitle").text("Last minute deals")):(n(f+" .priceNow").addClass("price__price--left"),n(f+" .priceNowPrefix").hide(),n(f+" .priceWas").hide(),n(f+" .priceSave").hide(),n(f+" .discountDatePanel").hide(),n(f+" .bookByTextPanel").hide(),n(f+" .discountTitle").hide());e.BookNowButtonState===0?(n(f+" .tripNoBooking").show(),n(f+" .calender_btnColRight").removeClass("noLeft"),n(f+" .tripUnavailable").hide(),n(f+" .call-btn").hide(),n(f+" .bookNowBtn").show(),n(f+" .requestAQuoteBtn").show(),e.IsAlternate?(n(f+" .tripPage").show(),n(f+" .requestAQuoteBtn").hide()):(n(f+" .tripPage").hide(),n(f+" .requestAQuoteBtn").show())):e.BookNowButtonState===2||e.BookNowButtonState===1||!1?(n(f+" .tripNoBooking").show(),n(f+" .calender_btnColRight").removeClass("noLeft"),n(f+" .bookNowBtn").hide(),n(f+" .requestAQuoteBtn").hide(),n(f+" .tripUnavailable").hide(),n(f+" .call-btn").css("display","inline-block"),n(f+" .bookNowBtn").hide(),n(f+" .requestAQuoteBtn").hide()):(n(f+" .tripNoBooking").hide(),n(f+" .calender_btnColRight").addClass("noLeft"),n(f+" .tripUnavailable").hide(),n(f+" .learnMoreBtn").hide(),n(f+" .bookNowBtn").hide(),n(f+" .requestAQuoteBtn").show())};n.DatesAndRatesPricePanel.getCalendarModel=function(t,i,r,u){var s=r[i],f,l,h,c;if(typeof s!="undefined"){f=r[i].departures[t];l=r[i].paymentInfo;!u||f.button.tripId==u||(h=r.find(function(n){return n.id==u}),!h||(l=h.paymentInfo,f=n.DatesAndRatesPricePanel.checkForInitialDate(h,f)));var a=f.startDate.split(/[^0-9]/),v=f.endDate.split(/[^0-9]/),y=new Date(a[0],a[1]-1,a[2]),p=new Date(v[0],v[1]-1,v[2]),o=altsJson[f.alternateLevel],e={StartDate:n.DatesAndRatesPricePanel.getFormattedDate(y),EndDate:n.DatesAndRatesPricePanel.getFormattedDate(p),StartDateObject:y,EndDateObject:p,BookNowLink:f.button.bookUrl,BookNowButtonState:f.button.state,LearnMoreLink:f.button.learnMoreUrl,RequestAQuoteLink:f.button.quoteUrl,Deposit:"",Price:n.DatesAndRatesPricePanel.getPricesContainer(f.hasDiscount,f.price,f.discountPrice,f.discountSaving),PaymentDueDate:n.DatesAndRatesPricePanel.getFormattedDate(new Date(f.paymentDueDate)),DiscountCode:f.discountCode,DiscountText:f.discountText,HasDiscount:f.hasDiscount,PaymentInfo:l};return o&&(e.TripName=o.TripName,e.Stars=o.Stars,e.Countries=o.Countries,e.Cities=o.Cities,e.StartCity=o.StartCity,e.EndCity=o.EndCity,e.StartCountry=o.StartCountry,e.EndCountry=o.EndCountry,e.Days=o.Days,e.TripLink=o.Link,e.IsAlternate=f.alternateLevel>0),c=n(".calendarLeftColumn__Upgrades input:checked").parent().parent().find("label").text().trim(),c!=="Standard"&&c!==""&&(e.TripName=c),f.alternateLevel==0&&(e.Countries=s.countries,e.Cities=s.cities,e.StartCity=s.startCity,e.EndCity=s.endCity,e.StartCountry=s.startCountry,e.EndCountry=s.endCountry,e.Days=s.days),e}return console.log(t),console.log(i),console.log(r),console.log(u),{}};n.DatesAndRatesPricePanel.checkForInitialDate=function(n,t){if(n.departures.length>0){var i=n.departures[0];!i||(t=i)}return t};n.DatesAndRatesPricePanel.getFormattedDate=function(t,i){var r;if(t==null||t==undefined||t=="")return"";r=[];i&&typeof i=="object"?r=i:(r[0]="January",r[1]="February",r[2]="March",r[3]="April",r[4]="May",r[5]="June",r[6]="July",r[7]="August",r[8]="September",r[9]="October",r[10]="November",r[11]="December");var u=r[t.getMonth()],f=t.getFullYear(),e=n.DatesAndRatesPricePanel.getOrdinal(t.getDate());return e+" "+u+" "+f};n.DatesAndRatesPricePanel.getFormattedDate2=function(t){var i=[];return i[0]="Jan",i[1]="Feb",i[2]="Mar",i[3]="Apr",i[4]="May",i[5]="Jun",i[6]="Jul",i[7]="Aug",i[8]="Sep",i[9]="Oct",i[10]="Nov",i[11]="Dec",n.DatesAndRatesPricePanel.getFormattedDate(t,i)};n.DatesAndRatesPricePanel.getOrdinal=function(n){if(parseFloat(n)==parseInt(n)&&!isNaN(n)){var t=["th","st","nd","rd"],i=n%100;return n+(t[(i-20)%10]||t[i]||t[0])}return n};n.DatesAndRatesPricePanel.getPricesContainer=function(n,t,i,r){var u={Was:"",Now:"",Save:"",HasDiscount:n,PerPerson:"",GetWasFullString:function(){return'Was: <span class="Calendar__priceRight">'+this.Was+"<span>"+this.PerPerson+"<\/span><\/span>"},GetNowFullString:function(){return'<span class="Calendar__priceRight">'+this.Now+"<span>"+this.PerPerson+"<\/span><\/span>"},GetSaveFullString:function(){return'Save: <span class="Calendar__priceRight">'+this.Save+"<span>"+this.PerPerson+"<\/span><\/span>"},GetWasFullStringTooltip:function(){return""+this.Was+"<span class='dateSelector--tooltipHTMLlowercase'>"+this.PerPerson+"<\/span>"},GetNowFullStringTooltip:function(){return this.Now+"<span class='dateSelector--tooltipHTMLlowercase'>"+this.PerPerson+"<\/span>"},GetSaveFullStringTooltip:function(){return""+this.Save+"<span class='dateSelector--tooltipHTMLlowercase'>"+this.PerPerson+"<\/span>"}},f=t.display.indexOf(".");return f==-1&&(t.display=t.display+".00"),u.PerPerson=t.per.toLowerCase()==="pp"?"per person":t.per,u.Was=t.display,n?(u.Now=i,u.Save=r):(u.Now=t.display,u.Save=0),u};n.DatesAndRatesPricePanel.RemoveDecimalPlaces=function(n){var t=n.indexOf(".");return t>0&&(n=n.substring(0,t!=-1?t:n.length)),n};n.DatesAndRatesPricePanel.prototype={}}($),function(n){n.DatesAndRatesWebservice=function(){};n.DatesAndRatesWebservice.prototype={DisplayWebserviceError:function(n){var t=this.GetRegionID(),i=this.GetSelectedCatalogueProductId(),r=this.GetWebserviceURL();this.DisplayMessage("Unable to get the departure data, please try again later and if you continue to get this message please contact us.","Unable to get the departure data for catalogue "+i+" in region "+t+". URL: "+r+". textStatus: "+n)},DisplayMessage:function(t,i){var r=n("#jsonOutput");t!=undefined&&n("#ajaxErrors").html(t);r!=null&&i!=undefined&&r.html(i)},GetWebserviceURL:function(n){return this.GetWebserviceURLById(n,this.GetSelectedCatalogueProductId())},GetWebserviceURLById:function(n,t){return n!==undefined||(n=this.GetDefiniteDeparturesOnly()),"/tripcalendar/tripdataforcatalogueproduct?catalogueProductID="+t+"&regionID="+this.GetRegionID()+"&sellingCompanyCode="+this.GetSellingCompanyCode()+"&showDefiniteOnly="+n},GetDefiniteDeparturesOnly:function(){var t;return t=n(".dateSelector").is(".hasNoTripOptions")?n(".calendar-piece-upgrades-showme .showDefiniteDeparturesOnly"):n("#calendarExtentions .showDefiniteDeparturesOnly"),t.is(":checked")},GetSellingCompanyCode:function(){return sellingCompanyCode},GetSellingCompanyID:function(){return sellingCompanyID},GetSelectedCatalogueProductId:function(){var t=n("#calendarExtentions input[name=extension]:checked");return t.length==0?currentCatalogueProductID:t.val()},GetOperatingProductId:function(){return n("#operatingProductId").val()},GetRegionID:function(){return regionID},getDepartures:function(){var n=this;addLoadingOverlay();n.DeparturesData[n.GetDefiniteDeparturesOnly()+n.GetSelectedCatalogueProductId()]!=null&&setTimeout(function(){n.CurrentData=n.DeparturesData[n.GetDefiniteDeparturesOnly()+n.GetSelectedCatalogueProductId()];n.BindCalendarWithData(n.CurrentData)},300)},loadDepartures:function(t){app.datesAndTimes.xhr&&app.datesAndTimes.xhr.abort();var i=this,r=n("#calendarExtentions input[name=extension]");r.each(function(){var r=!1,u=n(this).val();app.datesAndTimes.xhr=n.ajax({url:i.GetWebserviceURLById(r,u),dataType:"json"}).done(function(n,f,e){n.length===0?i.DisplayWebserviceError(f):(i.DisplayMessage("",e.responseText),i.DeparturesData[r+u]=n,t())}).fail(function(n,t){i.DisplayWebserviceError(t)})})},BindCalendarWithData:function(){},CurrentData:"",DataDefinite:{},DataNotDefinite:{},DeparturesData:{}}}($),function(n){n.UpdateHtmlForNewOperatingProduct=function(t,i){console.log("Updating content with data for OperatingProductID:"+t+", AJAX Url: "+i);console.log("Pulling the page");n.ajax({crossDomain:!0,url:i,success:function(t){console.log("Got data for ajax url binding it to the page");var i=n('<div class="AjaxData">'+t+"<\/div>");console.log("Response: ",i.find(".itinerarySubheading"));n([".whatsIncludedDining.visible-print",".whatsIncludedSightseeing.visible-print",".whatsIncludedTravel.visible-print"]).each(function(t,r){var u=i.find(r);u.addClass("REPLACED-FOR-PRINT");n(r).replaceWith(u)});n([".whatsIncludedDining.visible-screen",".whatsIncludedSightseeing.visible-screen",".whatsIncludedTravel.visible-screen",".itinerarySubheading.subtitle.visible-screen"]).each(function(t,r){var u=i.find(r);u.addClass("REPLACED-FOR-SCREEN");n(r).replaceWith(u)});n(["#itineraryAccordionAndMap","#mapAndItinerary1","#mapAndItinerary2","#tripOverview"]).each(function(t,r){var u=i.find(r);u.addClass("REPLACED-FOR-OTHER");n(r).replaceWith(u)});tripInit()}})};n.DatesAndRatesPricePanel.prototype={}}($);HideOptionsIfEmpty();DatesAndRatesWebservice=new $.DatesAndRatesWebservice;app.datesAndTimes.calendarDataEnd=!1;currentBrochureIndex=0;DatesAndRatesWebservice.BindCalendarWithData=function(n){var t,u,e;$("#datesAndTimesCalendar").hasClass("calendarInitialised")&&($("#datesAndTimesCalendar .ui-datepicker").slick("unslick"),$("#datesAndTimesCalendar .ui-datepicker .slick-next, #datesAndTimesCalendar .ui-datepicker .slick-prev").remove(),$("#datesAndTimesCalendar .ui-datepicker .lastCalendarTile").remove(),console.log("Destroyed the calendar carousel"));app.datesAndTimes.tripData=n;var f=this.GetOperatingProductId(),r,i=getQueryVariable("selectedDeparture");app.datesAndTimes.initialDateSet||(i?(i=i.split("+"),$.isArray(i)&&setInitialDate(i[1],getMonthFromString(i[0])-1)):f?(r=getInitialYearByOperatingProductGUID(f),r=r.split(/[^0-9]/),setInitialDate(r[0],r[1]-1)):setInitialDate());app.datesAndTimes.triggeredByDefiniteCheckbox&&(app.datesAndTimes.triggeredByDefiniteCheckbox=!1,t=getNextAvailableDate(app.datesAndTimes.year,app.datesAndTimes.month),u=getPrevAvailableDate(app.datesAndTimes.year,app.datesAndTimes.month),(t[0]!=app.datesAndTimes.year||t[1]!=app.datesAndTimes.month)&&(u[1]==!1||u[1]==undefined?t[1]==!1||t[1]==undefined||(app.datesAndTimes.datepickerJustTransitioned=!0,$("#datesAndTimesCalendar").datepicker("setDate",new Date(t[0],t[1]-1,1))):(app.datesAndTimes.datepickerJustTransitioned=!0,$("#datesAndTimesCalendar").datepicker("setDate",new Date(u[0],u[1]-1,1)))));e=$(".dateSelector").hasClass("hasNoTripOptions");hasDefiniteDeparturesOnly()?e&&$(".calendar-piece-upgrades-showme").hide():($(".calendarLeftColumn__ShowMeHeader").hide(),$(".calendarLeftColumn__ShowMe").hide(),$(".calendar-piece-upgrades-showme").hide());$("#datesAndTimesCalendar").datepicker("option",{minDate:null,maxDate:null});paintCellData(n);paintPrintData(app.datesAndTimes.tripData);console.log("finished binding data")};$("#calendarExtentions input[name=extension]").on("ifChanged",function(){UpdateDepartures()});$("#calendarExtentions .showDefiniteDeparturesOnly,.calendar-piece-upgrades-showme .showDefiniteDeparturesOnly").on("ifChanged",function(){app.datesAndTimes.triggeredByDefiniteCheckbox=!0;UpdateDepartures()});setModalPosition=debounce(function(){window.innerWidth>991?($(".calendar-modal-wrapper").appendTo(".calendarModal__desktop"),$(".itineraryChanged__inner").appendTo(".itineraryChanged__desktop")):($(".calendar-modal-wrapper").appendTo(".calendarModal__mobile"),$(".itineraryChanged__inner").appendTo(".itineraryChanged__mobile"))},250);$(document).ready(function(){var n,i,t;if(!isPageEditor()){addLoadingOverlay();app.bookingPopup=new Modal({modalContainer:"body",modalWindow:".dateSelector"});n=$(".similar-trips-wrapper").find(".similar-trips-modal");i=$(".similar-trips-wrapper").find(".similar-trips-inner");n.find(".circle-arrow").click(function(t){t.preventDefault();n.hasClass("open")&&n.removeClass("open");n.add(i).addClass("open-simTrip")});$("body").on("click",".ui-state-default",function(n){n.preventDefault()});$("body").on("click","#altTrips-modal-link",function(n){n.preventDefault();calendarModalHandler($(".altTrips-modal"));$(".calendar-mobile-link").removeClass("open")});$("body").on("click","#preRegister-modal-link",function(n){n.preventDefault();window.innerWidth<992&&($(".dateSelector").scrollTop(0),$(".calendar-piece-upgrades").hide());$(".preRegister-modal").addClass("open")});$("body").on("click","#PreRegister_registerCancel",function(n){n.preventDefault();$(".preRegister-modal").removeClass("open");document.getElementById("preRegisterForm").reset();window.innerWidth<992&&$(".calendar-piece-upgrades").show()});$("body").on("click",".seeExtensions",function(){$(".extensions-modal").addClass("open surface");$(this).parents(".calendar-piece-confirm, .similar-trips-wrapper").removeClass("surface")});$("body").on("click",".hideExtensions",function(n){n.preventDefault();$(".extensions-modal").removeClass("open");setTimeout(function(){$(this).parents(".calendar-piece-confirm, .similar-trips-wrapper").addClass("surface")},500)});$("body").on("click",".hideAltTrips",function(n){n.preventDefault();closeAllModals()});$("body").on("click",".similar-trips-modal-link",function(){calendarModalHandler($(".similar-trips-wrapper"))});$("body").on("click",".hideItineraryChanged",function(n){n.preventDefault();$(".itineraryChanged__warning-modal").removeClass("open")});$("body").on("click",".dateSelector__close",function(){$(".dateSelector").slideUp();$("body").removeClass("bookModalOpen");closeAllModals()});$("body").on("click","#PreRegister_registerSubmit",function(n){n.preventDefault();$("#preRegisterForm").validate({errorElement:"span",submitHandler:function(){requestAQuote()}})});$("body").on("click",".calendar-mobile-link",function(n){n.preventDefault();closeAllModals()});window.location.hash&&(window.location.hash=="#book-now"||window.location.hash=="#loadPrices")&&(app.bookingPopup.open(),$(window).trigger("resize.dateswindow"),setTimeout(function(){$(".tab-header:first").click()},1e3));t=new Date;$("#datesAndTimesCalendar").datepicker({minDate:t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),dateFormat:"yy-mm-dd",responsive:!1,beforeShow:function(){},onSelect:function(n,t){var u=n.split(/[^0-9]/),f=new Date(u[0],u[1]-1,u[2]),s=f.getFullYear(),h=f.getMonth()+1,c=f.getDate(),l=$('#datesAndTimesCalendar td[data-month="'+(h-1)+'"][data-year="'+s+'"] ').eq(c-1),o=l.attr("data-brochure_index"),e,i;typeof o!="undefined"&&(e=app.datesAndTimes.tripData[o],i=e.id,r!=i&&(r=i,$.UpdateHtmlForNewOperatingProduct(i,e.ajaxOperatingProductURL)),t.inline=!1,$(".ui-datepicker-calendar .ui-datepicker-current-day").removeClass("ui-datepicker-current-day").children().removeClass("ui-state-active"),$(".ui-datepicker-calendar TBODY A").each(function(){$(this).text()==t.selectedDay&&$(this).parent("td").data("month")==t.selectedMonth&&($(this).addClass("ui-state-active"),$(this).parent().addClass("ui-datepicker-current-day"))}))}});var r=operatingProductID,u=new Date($("#datesAndTimesCalendar").datepicker("getDate")),f=u.getFullYear(),e=u.getMonth()+1;preloadCalendarData(f,e);$(".tabs").length>0&&($(".tab-header").click(function(){var n=$(this).index();$(".tab-header").removeClass("active");$(this).prevAll().addClass("active");$(this).addClass("active");$(".tab").eq(n).addClass("active");$(".tab").eq(n).siblings().removeClass("active");$(".tabs").height($(".tab").eq(n).height())}),$(".continueBtn").click(function(n){n.preventDefault();var t=$(".dateSelector").offset().top;$(".tab-header:last").click();$("body, html").animate({scrollTop:t},1e3)}));setModalPosition()}});$(window).resize(function(){setModalPosition();$(".dateSelector").css("padding-top",$(".calendar-piece-title").height())});$(window).load(function(){$(".calendar-piece-confirm .PaymentInfo li:contains(Flights available)").each(function(){$(this).hide()});window.innerWidth<991&&closeAllModals();$("body").on("click",".bookModalTrigger",function(n){n.preventDefault();window.innerWidth>991&&($(".calendar-modal-wrapper > .calendar-piece-confirm").addClass("open surface"),$("td.departureTooltip[data-brochure_index='"+currentBrochureIndex+"']").first().click(),$("td.departureDateAvailable[data-brochure_index='"+currentBrochureIndex+"']").first().click());setTimeout(function(){$(".dateSelector").css("padding-top",$(".calendar-piece-title").height())},500);var t=$(".dateSelector"),i=$(".stickyNav.tripNav");t.is(":visible")||t.slideDown();$("body").addClass("bookModalOpen");$("#datesAndTimesCalendar .ui-datepicker .slick-next, #datesAndTimesCalendar .ui-datepicker .slick-prev").remove();$("#datesAndTimesCalendar .ui-datepicker").slick("reinit");setTimeout(function(){$("html, body").animate({scrollTop:t.offset().top-$(".stickyHeader").height()},500)},250)})}),function(){function n(n,t){var i;for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function t(n){var t=!1;return n.siblings("div")&&n.siblings("div").find(".menuItems").children().length>0&&(t=!0),t}function i(n){return n.is(".active")}this.MegaMenu=function(){var t=this;if((arguments[0]&&typeof arguments[0]=="object"&&(this.options=n({menuContainer:"selector"},arguments[0])),this.menu=$(this.options.menuContainer),this.menu==0)||(this.links=this.menu.find("a"),this.links.length==0))return!1;this.goBackLinks=$("body").find(".megaMenu__goBack");this.goBackLinks.length==0;this.addEventListeners()};MegaMenu.prototype.addEventListeners=function(){var n=this;this.links.click(function(r){if(!t($(this))||i($(this)))return!0;r.preventDefault();n.activeLink=$(this);n.scrubActiveLinks();$(this).addClass("active");n.goDeeper()});$("body").on("click",".megaMenu__goBack",function(){n.goBack()})};MegaMenu.prototype.goDeeper=function(){var n,t;this.currentSection=this.activeLink.siblings(".subMenuGrid,.subMenu");this.currentSection.is(".subMenuGrid")?$(".subMenuGrid").removeClass("activateSection"):this.currentSection.is(".subMenu")&&$(window).width()>991&&($(".subMenu").removeClass("activateSection"),$(".subMenuGrid").removeClass("activateSection"),this.currentSection.find(".subMenuGrid:first").addClass("activateSection"),$(".subMenu__sectionLink").removeClass("active"));this.activeLink.is(".menuItems__topLevelLink")&&this.currentSection.find(".menuItems__sub .subMenu__sectionLink:first").siblings(".activateSection").children(".menuItems").children().length>0&&(n=this.currentSection.find(".menuItems__sub .subMenu__sectionLink:first"),n.addClass("active"),t={},t.currentSection=n.next(".subMenuGrid"),this.loadImages.call(t));this.currentSection.addClass("activateSection");this.currentSection.css("margin-top",this.currentSection.closest("li").position().top*-1);this.correctSectionHeight();this.loadImages()};MegaMenu.prototype.loadImages=function(){this.currentSection.is(".subMenuGrid")&&this.currentSection.find("img").each(function(){var t=$(this),n;$(this).data("image-loaded")||$(this).data("image-loading")||!$(this).data("src")||(n=new Image,n.onload=function(){t.data("image-loaded",!0);t.get(0).src=t.data("src");setTimeout(function(){t.addClass("loaded")},300)},n.src=$(this).data("src"),$(this).data("image-loading",!0),n.complete&&$(n).trigger("load"))})};MegaMenu.prototype.correctSectionHeight=function(){var n=0;$(window).width()<992&&(this.currentSection.children().length>0?this.currentSection.children().each(function(){n+=$(this).outerHeight(!0)}):this.menu.children().each(function(){n+=$(this).outerHeight(!0)}),this.menu.height(n))};MegaMenu.prototype.goBack=function(){this.menu.find(".active").removeClass("active");this.currentSection.removeClass("activateSection");this.currentSection=this.currentSection.closest(".activateSection");this.menu.height(this.currentSection.height());this.correctSectionHeight()};MegaMenu.prototype.scrubActiveLinks=function(){this.activeLink.is(".subMenu__sectionLink")?this.menu.find(".subMenu__sectionLink.active").removeClass("active"):this.activeLink.is(".menuItems__topLevelLink")&&this.menu.find(".menuItems__topLevelLink.active").removeClass("active")}}(),function(){function n(n,t){var i;for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}this.Modal=function(){var t=this;return arguments[0]&&typeof arguments[0]=="object"&&(this.options=n({modalContainer:"body",modalWindow:"selector",dataAttribute:"itinerary-day",stopBodyScrolling:!0,customBodyClass:!1,openCallback:!1,afterOpenCallback:!1,closeCallback:!1},arguments[0])),this.container=$(this.options.modalContainer),this.modalWindow=$(this.options.modalWindow),this.modalWindow.length==0||this.container.length==0?!1:void 0};Modal.prototype.addVeil=function(){var n=this;return this.veil!=undefined?!0:(this.veil=$("<div />"),this.veil.addClass("veil"),this.container.append(this.veil),!0)};Modal.prototype.removeVeilFunctions=function(){this.veil!=undefined&&this.veil.off()};Modal.prototype.removeModalFunctions=function(){this.modalWindow!=undefined&&this.modalWindow.off()};Modal.prototype.veilOn=function(){var n=this;this.addVeil();this.veil.off();this.veil.addClass("block");setTimeout(function(){n.veil.addClass("on")},50);this.veil.click(function(){n.close()});this.options.stopBodyScrolling===!0&&$("body").addClass("stop");!this.options.customBodyClass||$("body").addClass(this.options.customBodyClass)};Modal.prototype.veilOff=function(){var n=this;this.addVeil();this.veil.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){$(this).removeClass("block");n.removeVeilFunctions();$("body").removeClass("stop")});this.veil.removeClass("on");this.options.stopBodyScrolling===!0&&$("body").removeClass("stop");!this.options.customBodyClass||$("body").removeClass(this.options.customBodyClass)};Modal.prototype.changeModalWindow=function(){this.modalWindow=$(this.options.modalWindow)};Modal.prototype.open=function(n,t){var i=this,r;if(n!=undefined&&(this.options.modalWindow=n,this.changeModalWindow(this.options.modalWindow)),this.modalWindow.length==0)return!1;if(i.removeVeilFunctions(),i.removeModalFunctions(),this.veilOn(),t==undefined){this.modalWindow.addClass("block");this.modalWindow.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){i.triggerAfterOpenCallback()});setTimeout(function(){i.modalWindow.addClass("on")},50)}else switch(t){case"slideLeft":this.modalWindow.addClass("block fromRight");this.modalWindow.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){i.triggerAfterOpenCallback()});setTimeout(function(){i.modalWindow.addClass("on")},50);break;case"slideRight":this.modalWindow.addClass("block fromLeft");this.modalWindow.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){i.triggerAfterOpenCallback()});setTimeout(function(){i.modalWindow.addClass("on")},50)}!this.options.openCallback||(r=typeof this.options.openCallback=="function"?this.options.openCallback:new Function(this.options.openCallback),r(this,t));this.modalWindow.click(function(){})};Modal.prototype.close=function(n){var t=this;if(this.veilOff(),n==undefined){this.modalWindow.removeClass("toLeft toRight fromRight fromLeft");this.modalWindow.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){$(this).removeClass("block");t.triggerCloseCallback()});setTimeout(function(n){n.removeClass("on")},50,t.modalWindow)}else switch(n){case"slideLeft":this.modalWindow.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){$(this).removeClass("block toLeft");t.triggerCloseCallback()});this.modalWindow.removeClass("toLeft toRight fromRight fromLeft");this.modalWindow.addClass("toLeft");setTimeout(function(n){n.removeClass("on")},50,t.modalWindow);break;case"slideRight":this.modalWindow.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){$(this).removeClass("block toRight");t.triggerCloseCallback()});this.modalWindow.removeClass("toLeft toRight fromRight fromLeft");this.modalWindow.addClass("toRight");setTimeout(function(n){n.removeClass("on")},50,t.modalWindow)}};Modal.prototype.triggerCloseCallback=function(){if(!!this.options.closeCallback){var n=typeof this.options.closeCallback=="function"?this.options.closeCallback:new Function(this.options.closeCallback);n(this)}};Modal.prototype.triggerAfterOpenCallback=function(){if(!!this.options.afterOpenCallback){var n=typeof this.options.afterOpenCallback=="function"?this.options.afterOpenCallback:new Function(this.options.afterOpenCallback);n(this)}};Modal.prototype.nextInGallery=function(){this.close("slideLeft");this.veilOn();var n=this.getNextInGallery();this.open(n,"slideLeft")};Modal.prototype.prevInGallery=function(){this.close("slideRight");this.veilOn();var n=this.getPrevInGallery();this.open(n,"slideRight")};Modal.prototype.getNextInGallery=function(){var n=this,r=$("[data-"+this.options.dataAttribute+"]"),u=this.modalWindow.data(this.options.dataAttribute),i=!1,t=1;return $.each(r,function(){return t>$(this).data(n.options.dataAttribute)&&(t=$(this).data(n.options.dataAttribute)),$(this).data(n.options.dataAttribute)==u+1?(n.nextModalWindow=$(this),i=!0,!1):void 0}),i==!1&&(n.nextModalWindow=$("[data-"+this.options.dataAttribute+'="'+t+'"]')),n.nextModalWindow};Modal.prototype.getPrevInGallery=function(){var n=this,r=$("[data-"+this.options.dataAttribute+"]").get().reverse(),u=this.modalWindow.data(this.options.dataAttribute),i=!1,t=0;return $.each(r,function(){return t<$(this).data(n.options.dataAttribute)&&(t=$(this).data(n.options.dataAttribute)),$(this).data(n.options.dataAttribute)==u-1?(n.nextModalWindow=$(this),i=!0,!1):void 0}),i==!1&&(n.nextModalWindow=$("[data-"+this.options.dataAttribute+'="'+t+'"]')),n.nextModalWindow}}(),function(){function n(n,t){var i;for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}this.MTSDropdown=function(){var i=this,t={dropdownContainer:".accountDropdown__slideContainer",dropdownContainerChildren:".accountDropdown__slideSection",firstPane:".accountDropdown__slideSectionFrameOne",logInPane:".accountDropdown__slideSectionLogIn",signUpPane:".accountDropdown__slideSectionSignUp",loggedInPane:".accountDropdown__slideSectionLoggedIn"};if(this.options=arguments[0]&&typeof arguments[0]=="object"?n(t,arguments[0]):t,this.container=$(this.options.dropdownContainer),this.panes=$(this.options.dropdownContainerChildren),this.$firstPane=$(this.options.firstPane),this.$logInPane=$(this.options.logInPane),this.$signUpPane=$(this.options.signUpPane),this.$loggedInPane=$(this.options.loggedInPane),this.container.length==0||this.panes.length==0)return!1;this.setFirstPane();this.addFormEvents()};MTSDropdown.prototype.isLoggedIn=function(){if(this.container.hasClass("loggedIn"))return!0};MTSDropdown.prototype.getContainerHeight=function(){this.container.show();var n=this.activePane.outerHeight();return this.container.hide(),n};MTSDropdown.prototype.openDropdown=function(){var n=this.getContainerHeight();this.container.show();this.container.height(n);$(".headerRightLower__accountDropdown").addClass("active")};MTSDropdown.prototype.closeDropdown=function(){this.setFirstPane();this.container.hide();$(".headerRightLower__accountDropdown").removeClass("active")};MTSDropdown.prototype.openLogIn=function(){this.activePane!=this.lastPane&&(this.lastPane=this.activePane);this.activePane=this.$logInPane;this.addActiveClass();this.openDropdown();this.activatePane()};MTSDropdown.prototype.openSignUp=function(){this.activePane!=this.lastPane&&(this.lastPane=this.activePane);this.activePane=this.$signUpPane;this.addActiveClass();this.openDropdown();this.activatePane()};MTSDropdown.prototype.goBack=function(){var n=this,t=this.activePane;this.activePane=this.lastPane;this.lastPane=t;setTimeout(function(){n.addActiveClass()},5);setTimeout(function(){n.activatePane()},100);this.openDropdown()};MTSDropdown.prototype.setFirstPane=function(){this.isLoggedIn()?(this.activePane=this.$loggedInPane,this.lastPane=this.$loggedInPane,this.addActiveClass()):(this.activePane=this.$firstPane,this.lastPane=this.$firstPane,this.addActiveClass())};MTSDropdown.prototype.addActiveClass=function(){var n=this;this.activePane.addClass("active");setTimeout(function(){n.activePane.siblings().removeClass("active go")},2)};MTSDropdown.prototype.activatePane=function(){var n=this;this.activePane.addClass("active go")};MTSDropdown.prototype.getPrevInGallery=function(){var n=this,r=$("[data-"+this.options.dataAttribute+"]").get().reverse(),u=this.modalWindow.data(this.options.dataAttribute),i=!1,t=0;return $.each(r,function(){return t<$(this).data(n.options.dataAttribute)&&(t=$(this).data(n.options.dataAttribute)),$(this).data(n.options.dataAttribute)==u-1?(n.nextModalWindow=$(this),i=!0,!1):void 0}),i==!1&&(n.nextModalWindow=$("[data-"+this.options.dataAttribute+'="'+t+'"]')),n.nextModalWindow};MTSDropdown.prototype.addFormEvents=function(){$(".accountDropdown__slideContainer").on("click.placeholder",".loginForms label",function(n){n.stopPropagation();$(this).addClass("hide");$(this).siblings('input:not([type="checkbox"])').focus()});$(".accountDropdown__slideContainer").on("focus.placeholder",'.loginForms input[type="text"],.loginForms input[type="password"]',function(){$(this).siblings("label").addClass("hide")});$(".accountDropdown__slideContainer").on("blur.placeholder",'.loginForms input[type="text"],.loginForms input[type="password"]',function(){$(this).val().length==0?$(this).siblings("label").removeClass("hide"):$(this).siblings("label").addClass("hide")});$('.loginForms input[type="text"],.loginForms input[type="password"]').trigger("blur")}}();MyTravelSpace={$confirm:$(".warningConfirm"),$reject:$(".warningReject"),showAccountReusePopup:function(){var n=this;$("#anotherAccountWarningContainer").length>0&&this.$mtsHelper.isLoggedInOnAnotherSiteButNotRegisteredOnThisSite(function(t){t&&(n.$mtsHelper.getRegisteredClientSites(n.$mtsHelper.email,function(n){$("<br/><ul>").appendTo("#registeredSites");for(var t=0;t<n.ClientSites.length;t++)$("<li>"+n.ClientSites[t].ClientSiteName+"<\/li>").appendTo("#registeredSites");$("<\/ul><br/>").appendTo("#registeredSites")},function(){alert("Error occured while getting registered client sites!")}),n.$confirm.click(function(){n.$mtsHelper.registerClientSite(n.$mtsHelper.email,function(){$("#anotherAccountWarningContainer").hide()},function(){$("#anotherAccountWarningContainer").hide();alert("Error occured while registering new client site")})}),n.$reject.click(function(){$("#anotherAccountWarningContainer").hide();n.$mtsHelper.logout();n.reloadIframe()}),$("#anotherAccountWarningContainer").show())})},getUserFirstName:function(n){if(n.UserInfo!==undefined)$(".helloMtsUser").html("Hi, "+n.UserInfo.FirstName),$(".loggedInMts").show(),$(".notLoggedInMts").hide(),$(".accountDropdown__slideContainer").addClass("loggedIn");else{var t=new SsoHelper({initiator:mtsConfig.initiator});t.logout();$(".loggedInMts").hide();$(".notLoggedInMts").show()}$(".accountDropdown__a").addClass("showContents")},init:function(){var n=this;$.ajax({url:mtsConfig.initializeJsSrc,dataType:"script",success:function(){n.initializeMtsSso()}})},initializeMtsSso:function(){var n=this;initializeSso({initiator:mtsConfig.initiator}).then(function(){n.initMtsHelper();n.isLoggedInToMts();n.showAccountReusePopup();n.MTSLandingRedirect()})},initMtsHelper:function(){this.$mtsHelper=new SsoHelper({initiator:mtsConfig.initiator})},isLoggedInToMts:function(){var n=this;this.$mtsHelper.isLoggedIn(function(t){t?(n.$mtsHelper.getDecryptedToken(n.getUserFirstName,function(){}),$(".registrationForm").hide(),$(".loginForm").hide(),$(".logoutMtsUser").click(function(){var n=new SsoHelper({initiator:mtsConfig.initiator});n.logout();$("body iframe:last").on("load",function(){window.location="https://"+window.location.hostname})})):$(".accountDropdown__slideSectionLogIn").length>0&&$(".accountDropdown__slideSectionSignUp").length>0?($(".accountDropdown__a").addClass("showContents"),n.registerForms()):$(".mtsLandingModule").length>0&&n.registerForms()})},registerForms:function(){var n=this;if(this.registerLoadingEvents(),n.$login===undefined?(n.loginForm(),$(".headerRightLower__accountDropdown #sso-login-email-container").attr("class",$(".loginForm__formElementContainerEmail").attr("class")).append($(".loginForm__formElementContainerEmail").children("label")).children("input").attr("placeholder",""),$(".headerRightLower__accountDropdown #sso-login-password-container").attr("class",$(".loginForm__formElementContainerPword").attr("class")).append($(".loginForm__formElementContainerPword").children("label")).children("input").attr("placeholder",""),$("#submitLogin").addClass("btn btn-ghost"),$("#sso-loginForm").addClass("loginForms"),$(".headerRightLower__accountDropdown #sso-loginForm").append('<nav class="accountDropdown__slideSectionSocialNav"><ul><\/ul><\/nav>'),$(".headerRightLower__accountDropdown #sso-loginForm .accountDropdown__slideSectionSocialNav ul").append(" <li> <\/li> ").find("li:last").append($("#facebookLoginButton").addClass("accountDropdown__slideSectionSocialLink accountDropdown__slideSectionSocialFacebook")),$(".headerRightLower__accountDropdown #sso-loginForm .accountDropdown__slideSectionSocialNav ul").append(" <li> <\/li> ").find("li:last").append($("#googleLoginButton").addClass("accountDropdown__slideSectionSocialLink accountDropdown__slideSectionSocialGooglePlus")),$(".headerRightLower__accountDropdown #sso-loginForm .accountDropdown__slideSectionSocialNav ul").append(" <li> <\/li> ").find("li:last").append($("#twitterLoginButton").addClass("accountDropdown__slideSectionSocialLink accountDropdown__slideSectionSocialTwitter")),$(".headerRightLower__accountDropdown #sso-loginForm").prepend($(".accountDropdown__slideSectionLogIn .orSignUpWithBox")),$(".headerRightLower__accountDropdown #sso-loginForm .orSignUpWithBox .socialContainer").append($("#sso-loginForm .accountDropdown__slideSectionSocialNav"))):n.$login.clear(),n.$registered===undefined?(n.registerForm(),$(".headerRightLower__accountDropdown #sso-reg-firstName-container").attr("class",$(".signupForm__formElementContainerFname").attr("class")).append($(".signupForm__formElementContainerFname").children("label")).children("input").attr("placeholder",""),$(".headerRightLower__accountDropdown #sso-reg-lastname-container").attr("class",$(".signupForm__formElementContainerSname").attr("class")).append($(".signupForm__formElementContainerSname").children("label")).children("input").attr("placeholder",""),$(".headerRightLower__accountDropdown #sso-reg-email-container").attr("class",$(".signupForm__formElementContainerEmail").attr("class")).append($(".signupForm__formElementContainerEmail").children("label")).children("input").attr("placeholder",""),$(".headerRightLower__accountDropdown #sso-reg-password-container").attr("class",$(".signupForm__formElementContainerPword").attr("class")).append($(".signupForm__formElementContainerPword").children("label")).children("input").attr("placeholder",""),$("#submitRegistration").addClass("btn btn-ghost"),$("#sso-regForm").addClass("loginForms"),$(".headerRightLower__accountDropdown #sso-regForm").append('<nav class="accountDropdown__slideSectionSocialNav"><ul><\/ul><\/nav>'),$(".headerRightLower__accountDropdown #sso-regForm .accountDropdown__slideSectionSocialNav ul").append(" <li> <\/li> ").find("li:last").append($("#facebookRegisterButton").addClass("accountDropdown__slideSectionSocialLink accountDropdown__slideSectionSocialFacebook")),$(".headerRightLower__accountDropdown #sso-regForm .accountDropdown__slideSectionSocialNav ul").append(" <li> <\/li> ").find("li:last").append($("#googleRegisterButton").addClass("accountDropdown__slideSectionSocialLink accountDropdown__slideSectionSocialGooglePlus")),$(".headerRightLower__accountDropdown #sso-regForm .accountDropdown__slideSectionSocialNav ul").append(" <li> <\/li> ").find("li:last").append($("#twitterRegisterButton").addClass("accountDropdown__slideSectionSocialLink accountDropdown__slideSectionSocialTwitter")),$("#sso-regForm").prepend($(".accountDropdown__slideSectionSignUp .orSignUpWithBox")),$("#sso-regForm .orSignUpWithBox .socialContainer").append($("#sso-regForm .accountDropdown__slideSectionSocialNav"))):n.$registered.clear(),$(".validation-error").hide(),$(".registrationForm").show(),$(".loginForm").hide(),$(".headerRightLower__accountDropdown").length>0){var t=$(".accountDropdown__slideContainer").get(0),i=new MutationObserver(function(n){n.forEach(function(n){if(n.type=="attributes"&&($(n.target).hasClass("validation-error")||$(n.target).hasClass("sso-error-container")||$(n.target).is("#sso-reg-emailsent"))){var t=app.MTSDropdown.activePane.outerHeight();app.MTSDropdown.container.height(t)}})});i.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}},registerForm:function(){var n=this;this.$registered=new SsoRegistration({emailConfirmationReturnUrl:mtsConfig.emailConfirmationReturnUrl,socialLoginReturnUrl:mtsConfig.socialLoginReturnUrl,container:".mtsRegisterFormContainer",success:function(){n.hideLoadingSymbol()},fail:function(){n.hideLoadingSymbol()}})},loginForm:function(){var n=this;this.$login=new SsoLogin({emailConfirmationReturnUrl:mtsConfig.emailConfirmationReturnUrl,passwordResetReturnUrl:mtsConfig.passwordResetReturnUrl,socialLoginReturnUrl:mtsConfig.socialLoginReturnUrl,container:".mtsLoginFormContainer",success:function(){window.location=mtsConfig.socialLoginReturnUrl},fail:function(){console.log("failed to log in");n.hideLoadingSymbol()}})},managmentForm:function(){this.$management=new SsoManagement({container:"#managementWidgetContainer",changeEmailReturnUrl:mtsConfig.changeEmailReturnUrl,changePasswordReturnUrl:mtsConfig.changePasswordReturnUrl})},registerLoadingEvents:function(){var n=this;$("body").on("submit","#sso-loginForm",function(){$(this).find(".input.error").length==0&&n.showLoadingSymbol()});$("body").on("submit","#sso-regForm",function(){$(this).find("input.error").length==0&&n.showLoadingSymbol()});if($(".headerRightLower__accountDropdown").length>0){var t=$(".accountDropdown__slideContainer").get(0),i=new MutationObserver(function(t){t.forEach(function(t){$(t.target).is(":visible")&&$(t.target).is("input")&&t.type=="attributes"&&$(t.target).hasClass("error")&&n.hideLoadingSymbol()})});i.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}},showLoadingSymbol:function(){$(".mtsModulesWrap").addClass("loading loading-on")},hideLoadingSymbol:function(){$(".mtsModulesWrap .loading--overlay").on("transitionend oTransitionEnd webkitTransitionEnd",function(){$(".mtsModulesWrap").removeClass("loading-on")});$(".mtsModulesWrap").removeClass("loading")},activate:function(){this.init()},MTSLandingRedirect:function(){this.$mtsHelper.isLoggedIn(function(n){document.querySelector(".mtsLandingModule")&&n&&(window.location.href=mtsConfig.customerPortalUrl)})}};MyTravelSpace.init(),function(n){function r(r,u){this.element=r;this.options=n.extend({},i,u);this._defaults=i;this._name=t;this.init()}var t="accordion",i={linkClass:null,linkActiveClass:null,contentClass:null,contentActiveClass:null};r.prototype.init=function(){var t=this,i=n(t.element);n("."+t.options.linkClass).length>0&&n("."+t.options.linkClass).click(function(){var i=n(this),r=i.next("."+t.options.contentClass);i.hasClass(t.options.linkActiveClass)?(i.removeClass(t.options.linkActiveClass),r.slideUp(function(){r.removeClass(t.options.contentActiveClass)})):(i.addClass(t.options.linkActiveClass),r.slideDown(function(){r.addClass(t.options.contentActiveClass)}))})};n.fn[t]=function(i){return this.each(function(){n.data(this,"plugin_"+t)||n.data(this,"plugin_"+t,new r(this,i))})}}(jQuery,window,document),function(n){function t(t,u){this.element=t;this.options=n.extend({},r,u);this._defaults=r;this._name=i;this.init()}var i="newsletterForm",r={url:null,terms:null,form:null};t.prototype.init=function(){var t=this,i=n(t.element);t.form=i.find("form");t.form.length>0&&(n.validator.unobtrusive.parse(t.form),t.showTerms(),t.attachHandlers())};t.prototype.showTerms=function(){var n=this,t=n.form.find("input[type='text'], input[type='email']"),i;n.options.terms!=null&&n.options.terms.length>0&&(i=n.options.terms.is(":hidden"),t.length>0&&i&&t.focus(function(){n.options.terms.slideDown()}))};t.prototype.attachHandlers=function(){var t=this;t.form.submit(function(i){if(i.result){t.form.attr("data-js-action")&&(t.options.url=t.form.data("js-action"));var r=t.form.serialize();n.ajax({method:"POST",url:t.options.url,data:r}).done(function(i){n(t.element).replaceWith(i);n("#newslettter_lightbox_btn-close").length&&lightboxInitializeClose("#newslettter_lightbox_btn-close");t.runAfterUpdate()}).fail(function(n){console.log(n)})}i.preventDefault()})};t.prototype.runAfterUpdate=function(){n(".newsletter-form").newsletterForm({terms:n(".mainFooter-newsletter-terms")});n(".newsletter-form form")[0].hasAttribute("data-js-lightbox-on-success")&&n(".newsletter-form form .lightbox-popup").show();n("input").iCheck({checkboxClass:"icheckbox_minimal-red",radioClass:"iradio_minimal-red",increaseArea:"20%"})};n.fn[i]=function(r){return this.each(function(){n.data(this,"plugin_"+i)||n.data(this,"plugin_"+i,new t(this,r))})}}(jQuery,window,document),function(n){function t(t,u){this.element=t;this.options=n.extend({},r,u);this._defaults=r;this._name=i;this.init()}var i="popupNewsletterForm",r={url:null,terms:null,form:null,veil:null,delay:7e3,showTerms:null};t.prototype.init=function(){var t=this,i=n(t.element);t.form=i.find("form");t.veil=n(t.options.veil);t.container=i;t.closeButton=i.find(".newsletterPopup__Close");t.form.length>0&&(n.validator.unobtrusive.parse(t.form),t.showTerms(),t.attachHandlers());setTimeout(function(){t.openPopup()},t.options.delay)};t.prototype.showTerms=function(){var n=this,t=n.form.find("input[type='text'], input[type='email']"),i;n.options.terms!=null&&n.options.terms.length>0&&(i=n.options.terms.is(":hidden"),t.length>0&&i&&!!n.options.showTerms&&t.focus(function(){n.options.terms.slideDown()}))};t.prototype.attachHandlers=function(){var t=this;t.form.submit(function(i){if(i.result){t.form.attr("data-js-action")&&(t.options.url=t.form.data("js-action"));var r=t.form.serialize();n.ajax({method:"POST",url:t.options.url,data:r}).done(function(i){n(t.element).find(".newsletterPopup__form").replaceWith(n(i).find(".alert-success"));t.runAfterUpdate();n(i).find(".alert-success")&&setTimeout(function(){t.closePopup()},t.container.data("hide-after")*1e3)}).fail(function(n){console.log(n)})}i.preventDefault()});t.closeButton.click(function(){t.closePopup()});!t.veil||t.veil.click(function(){t.closePopup()})};t.prototype.runAfterUpdate=function(){n(".newsletterPopup").popupNewsletterForm({terms:n(".popup-newsletter-terms")});n("input").iCheck({checkboxClass:"icheckbox_minimal-red",radioClass:"iradio_minimal-red",increaseArea:"20%"})};t.prototype.openPopup=function(){var n=this;n.veil.length>0&&n.veil.stop().fadeIn();n.container.stop().fadeIn()};t.prototype.closePopup=function(){var n=this;n.veil.length>0&&n.veil.stop().fadeOut(200);n.container.stop().fadeOut(200)};n.fn[i]=function(r){return this.each(function(){n.data(this,"plugin_"+i)||n.data(this,"plugin_"+i,new t(this,r))})}}(jQuery,window,document);$("document").ready(function(){isPageEditor()||$('.TextModule.bullet-list div[class*="col-"]').each(function(n,t){var i=$(t).find(".TextModule--description"),r=i.find("p");$(r).each(function(n,t){$(t).replaceWith("<li><p>"+$(t).html()+"<\/p><\/li>")});i.replaceWith('<ul class="TextModule--description">'+i.html()+"<\/ul>")})}),function(){var n="https://api.feefo.com/api/10/reviews/",t="/api/sitecore/feefo/getcatalogproductcode?";app.feefoFunctions={getRating:function(t,i,r){var u,f=n+t+"?merchant_identifier="+i;return r&&(f+="&product_sku="+r),app.feefoFunctions.ajaxRequest(f,function(n){u=n}),u},getReviews:function(t,i,r,u,f,e,o,s){var c,h=n+t+"?merchant_identifier="+i;return r&&(h+="&product_sku="+r),u&&(h+="&sort="+u),f&&(h+="&rating="+f),e&&(h+="&page="+e),o&&(h+="&page_size="+o),s&&(h+="&full_thread="+s),app.feefoFunctions.ajaxRequest(h,function(n){c=n}),c},getProductSku:function(n){var i,r=t+"tripname="+n;return app.feefoFunctions.ajaxRequest(r,function(n){i=n}),i},ajaxRequest:function(n,t){$.ajax({method:"GET",url:n,dataType:"json",async:!1}).done(function(n){t(n)}).fail(function(n,t){console.log("AJAX status: ",n);console.log("AJAX error: ",t)})},renderStars:function(n,t,i){for(var r="",f,u=0;u<n;u++)r+="<img src='"+t+"'/>";for(f=n;f<5;f++)r+="<img src='"+i+"'/>";return r},truncateToNearestWordAndMaxLength:function(n,t){return(t-=3,t<=0)?"":n.length<=t?n:n.charAt(t)===" "?n.substring(0,t)+"...":(n=n.substring(0,t),n.indexOf(" ")===-1)?n+"...":n.substring(0,n.lastIndexOf(" "))+"..."},truncateToMaxWords:function(n,t){var i=n.match(/[\S]+\s*/g,"");return i&&i.length>t?{text:i.splice(0,t).join(""),hiddenText:i.join(""),truncated:!0}:{text:n,truncated:!1}}}}();$(document).ready(function(){function u(n){$("#reviewPageReviewsList").html("");r=0;f(n)}function o(n){var t=app.feefoFunctions.getReviews(n,merchantIdentifier,productCode,"-updated_date","1,2,3,4,5",1,numberOfReviews,"exclude");t.reviews.length===0&&inheritedFromProductCode&&(t=app.feefoFunctions.getReviews(n,merchantIdentifier,inheritedFromProductCode,"-updated_date","1,2,3,4,5",1,numberOfReviews,"exclude"));t.reviews.length>0&&(function(){var i,n;if(t.reviews.length<numberOfReviews)for(i=numberOfReviews-t.reviews.length,n=0;n<i;n++)$(".feefoReview__itemReview:last").remove()}(),function(){var n=0;t.reviews.forEach(function(t){var i=t.products[0].rating.rating,r=t.service.rating.rating,u="Service: "+t.service.review+" Product: "+t.products[0].review;$("#feefoReview__itemReview"+n+" #feefoReview__tripStars").html(app.feefoFunctions.renderStars(i,"/static/redesigned/images/star-desktop-date-selectorA.png","/static/redesigned/images/star-desktop-date-selector.png"));$("#feefoReview__itemReview"+n+" #feefoReview__serviceStars").html(app.feefoFunctions.renderStars(r,"/static/redesigned/images/star-desktop-date-selectorA.png","/static/redesigned/images/star-desktop-date-selector.png"));$("#feefoReview__itemReview"+n+" .feefoReview__Blurb").html(app.feefoFunctions.truncateToNearestWordAndMaxLength(u,297));n++});$("#tripPageReviewsList").css("display","block")}())}function f(n){function s(){return'<span class="readMore">... <a href="#" class="readMoreBtn"><i class="fa fa-caret-down" aria-hidden="true"><\/i> Read More<\/a><\/span>'}function h(n){return'<span class="hiddenText" style="display:none">'+n+"<\/span>"}function c(n){$("#reviewPageReviewsList").append('<div class="reviewPageReview" id="reviewPageReview'+n+'">'+$("#reviewPageReviewTemplate").html()+"<\/div>")}var o=++r,u=app.feefoFunctions.getReviews(n,merchantIdentifier,productCode,i,t,o,numberOfReviews,"include");u.reviews.length===0&&inheritedFromProductCode&&(u=app.feefoFunctions.getReviews(n,merchantIdentifier,inheritedFromProductCode,i,t,o,numberOfReviews,"include"));u.reviews.length>0?function(){var t=numberOfReviews*(r-1);if(u.reviews.forEach(function(i){var v,u,y,f,o,r,a,l,p;if(c(t),v=i.products[0].rating.rating,u=i.products[0].review,u=app.feefoFunctions.truncateToMaxWords(u,50),u.truncated&&(u.text=u.text+s()+h(u.hiddenText)),n==="all"){if(y=i.service.rating.rating,f=i.service.review,f=app.feefoFunctions.truncateToMaxWords(f,50),f.truncated&&(f.text=f.text+s()+h(f.hiddenText)),o=i.service.thread,o&&o[0].comment){r=o[0].comment;r=app.feefoFunctions.truncateToMaxWords(r,50);r.truncated&&(r.text=r.text+s()+h(r.hiddenText));var w=o[0].author,b=o[0].created_at,k=e(new Date-new Date(b))}a=i.service.title}var d=i.products_purchased,g=i.last_updated_date,nt=e(new Date-new Date(g));a&&$("#reviewPageReview"+t+" .feefoReviewPage__quote").html('<i class="fa fa-quote-left" aria-hidden="true"><\/i> '+a);l=$("#reviewPageReview"+t+" .feefoReviewPage__product");p=l.attr("href");l.attr("href",p+"?code="+i.products[0].product.sku+"&name="+i.products[0].product.title);l.html(d);$("#reviewPageReview"+t+" .feefoReviewPage__time").html("<i class='fa fa-clock-o' aria-hidden='true'><\/i> "+nt);$("#reviewPageReview"+t+" .feefoReviewPage__tripStars").html(app.feefoFunctions.renderStars(v,"/static/redesigned/images/star-desktop-date-selectorA.png","/static/redesigned/images/star-desktop-date-selector.png"));$("#reviewPageReview"+t+" .feefoReviewPage__tripText").html(u.text);n==="all"?($("#reviewPageReview"+t+" .feefoReviewPage__serviceStars").html(app.feefoFunctions.renderStars(y,"/static/redesigned/images/star-desktop-date-selectorA.png","/static/redesigned/images/star-desktop-date-selector.png")),$("#reviewPageReview"+t+" .feefoReviewPage__serviceText").html(f.text)):$("#reviewPageReview"+t+" .serviceReview").css("display","none");r?($("#reviewPageReview"+t+" .feefoReviewPage__answer .author").html(w),$("#reviewPageReview"+t+" .feefoReviewPage__answer .time").html(k),$("#reviewPageReview"+t+" .feefoReviewPage__answer .comment").html(r.text)):$("#reviewPageReview"+t+" .feefoReviewPage__answer").css("display","none");$("#reviewPageReview"+t+" .feefoReviewPage__moreReviews").attr("href",window.location.href.split(/[?#]/)[0]+"?catalogueProductCode="+i.products[0].product.sku+"&name="+i.products[0].product.title);t++}),$(" .readMoreBtn").click(function(n){n.preventDefault();$(this).parent(".readMore").css("display","none");$(this).parent(".readMore").next().css("display","inline")}),u.summary.meta.count>o*numberOfReviews){$("#reviewPageReviewsList").append("<div class='text-center paddingVertical loadMoreReviews'><a href='#' class='btn btn-ghost loadMore'>See More<\/a><\/div>");$("#reviewPageReviewsList .loadMore").on("click",function(t){t.preventDefault();$("#reviewPageReviewsList .loadMoreReviews").remove();f(n)})}}():$("#reviewPageReviewsList").html("<p id='review-error'>There are currently no reviews available for the specified trip or ratings filter.<\/p>");$("#reviewPageReviewsList").css("display","block")}function e(n){var r=Math.floor(n/36e5),t,i,u;return r<1?"A moment ago":(t=Math.floor(r/24),t<1)?r+(r===1?" hour ago":" hours ago"):(i=Math.floor(t/30),i<1)?t+(t===1?" day ago":" days ago"):(u=Math.floor(i/12),u<1)?i+(i===1?" month ago":" months ago"):u+(u===1?" year ago":" years ago")}var r=0,n="all",i="-updated_date",t="1,2,3,4,5";$("#tripPageReviewsList").length&&o(n);$("#reviewPageReviewsList").length&&f(n);$("#feefo-dropdown__sortby").on("selectric-change",function(){var t=$(this).val();t!==i&&(i=t,u(n))});$("#feefo-dropdown__filterby").on("selectric-change",function(){var i=$(this).val();i!==t&&(n=i==="1,2,3,4,5"?"all":"product",t=i,u(n))});$(".Review-Page .hasFeefoReviews .bar-rating-item").each(function(){$(this).addClass("smoothScrollLink");$(this).on("click",function(){var i=$(this).data("filter");i!==t&&(n=i==="1,2,3,4,5"?"all":"product",t=i,u(n),$("#feefo-dropdown__filterby").val(i).selectric("refresh"))})})});!function(){"use strict";function n(r){if(!r)throw new Error("No options passed to Waypoint constructor");if(!r.element)throw new Error("No element option passed to Waypoint constructor");if(!r.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+i;this.options=n.Adapter.extend({},n.defaults,r);this.element=this.options.element;this.adapter=new n.Adapter(this.element);this.callback=r.handler;this.axis=this.options.horizontal?"horizontal":"vertical";this.enabled=this.options.enabled;this.triggerPoint=null;this.group=n.Group.findOrCreate({name:this.options.group,axis:this.axis});this.context=n.Context.findOrCreateByElement(this.options.context);n.offsetAliases[this.options.offset]&&(this.options.offset=n.offsetAliases[this.options.offset]);this.group.add(this);this.context.add(this);t[this.key]=this;i+=1}var i=0,t={};n.prototype.queueTrigger=function(n){this.group.queueTrigger(this,n)};n.prototype.trigger=function(n){this.enabled&&this.callback&&this.callback.apply(this,n)};n.prototype.destroy=function(){this.context.remove(this);this.group.remove(this);delete t[this.key]};n.prototype.disable=function(){return this.enabled=!1,this};n.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this};n.prototype.next=function(){return this.group.next(this)};n.prototype.previous=function(){return this.group.previous(this)};n.invokeAll=function(n){var r=[],u,i,f;for(u in t)r.push(t[u]);for(i=0,f=r.length;f>i;i++)r[i][n]()};n.destroyAll=function(){n.invokeAll("destroy")};n.disableAll=function(){n.invokeAll("disable")};n.enableAll=function(){n.invokeAll("enable")};n.refreshAll=function(){n.Context.refreshAll()};n.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight};n.viewportWidth=function(){return document.documentElement.clientWidth};n.adapters=[];n.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0};n.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}};window.Waypoint=n}(),function(){"use strict";function f(n){window.setTimeout(n,1e3/60)}function n(n){this.element=n;this.Adapter=t.Adapter;this.adapter=new this.Adapter(n);this.key="waypoint-context-"+r;this.didScroll=!1;this.didResize=!1;this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()};this.waypoints={vertical:{},horizontal:{}};n.waypointContextKey=this.key;i[n.waypointContextKey]=this;r+=1;this.createThrottledScrollHandler();this.createThrottledResizeHandler()}var r=0,i={},t=window.Waypoint,u=window.onload;n.prototype.add=function(n){var t=n.options.horizontal?"horizontal":"vertical";this.waypoints[t][n.key]=n;this.refresh()};n.prototype.checkEmpty=function(){var n=this.Adapter.isEmptyObject(this.waypoints.horizontal),t=this.Adapter.isEmptyObject(this.waypoints.vertical);n&&t&&(this.adapter.off(".waypoints"),delete i[this.key])};n.prototype.createThrottledResizeHandler=function(){function i(){n.handleResize();n.didResize=!1}var n=this;this.adapter.on("resize.waypoints",function(){n.didResize||(n.didResize=!0,t.requestAnimationFrame(i))})};n.prototype.createThrottledScrollHandler=function(){function i(){n.handleScroll();n.didScroll=!1}var n=this;this.adapter.on("scroll.waypoints",function(){(!n.didScroll||t.isTouch)&&(n.didScroll=!0,t.requestAnimationFrame(i))})};n.prototype.handleResize=function(){t.Context.refreshAll()};n.prototype.handleScroll=function(){var u={},i={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},r,f,s;for(r in i){var n=i[r],h=n.newScroll>n.oldScroll,c=h?n.forward:n.backward;for(f in this.waypoints[r]){var t=this.waypoints[r][f],e=n.oldScroll<t.triggerPoint,o=n.newScroll>=t.triggerPoint,l=e&&o,a=!e&&!o;(l||a)&&(t.queueTrigger(c),u[t.group.id]=t.group)}}for(s in u)u[s].flushTriggers();this.oldScroll={x:i.horizontal.newScroll,y:i.vertical.newScroll}};n.prototype.innerHeight=function(){return this.element==this.element.window?t.viewportHeight():this.adapter.innerHeight()};n.prototype.remove=function(n){delete this.waypoints[n.axis][n.key];this.checkEmpty()};n.prototype.innerWidth=function(){return this.element==this.element.window?t.viewportWidth():this.adapter.innerWidth()};n.prototype.destroy=function(){var t=[],i,r,n,u;for(i in this.waypoints)for(r in this.waypoints[i])t.push(this.waypoints[i][r]);for(n=0,u=t.length;u>n;n++)t[n].destroy()};n.prototype.refresh=function(){var o,u=this.element==this.element.window,l=u?void 0:this.adapter.offset(),f={},e,i,a;this.handleScroll();o={horizontal:{contextOffset:u?0:l.left,contextScroll:u?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:u?0:l.top,contextScroll:u?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(e in o){i=o[e];for(a in this.waypoints[e]){var v,s,h,y,p,n=this.waypoints[e][a],r=n.options.offset,w=n.triggerPoint,b=0,c=null==w;n.element!==n.element.window&&(b=n.adapter.offset()[i.offsetProp]);"function"==typeof r?r=r.apply(n):"string"==typeof r&&(r=parseFloat(r),n.options.offset.indexOf("%")>-1&&(r=Math.ceil(i.contextDimension*r/100)));v=i.contextScroll-i.contextOffset;n.triggerPoint=b+v-r;s=w<i.oldScroll;h=n.triggerPoint>=i.oldScroll;y=s&&h;p=!s&&!h;!c&&y?(n.queueTrigger(i.backward),f[n.group.id]=n.group):!c&&p?(n.queueTrigger(i.forward),f[n.group.id]=n.group):c&&i.oldScroll>=n.triggerPoint&&(n.queueTrigger(i.forward),f[n.group.id]=n.group)}}return t.requestAnimationFrame(function(){for(var n in f)f[n].flushTriggers()}),this};n.findOrCreateByElement=function(t){return n.findByElement(t)||new n(t)};n.refreshAll=function(){for(var n in i)i[n].refresh()};n.findByElement=function(n){return i[n.waypointContextKey]};window.onload=function(){u&&u();n.refreshAll()};t.requestAnimationFrame=function(n){var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||f;t.call(window,n)};t.Context=n}(),function(){"use strict";function i(n,t){return n.triggerPoint-t.triggerPoint}function u(n,t){return t.triggerPoint-n.triggerPoint}function n(n){this.name=n.name;this.axis=n.axis;this.id=this.name+"-"+this.axis;this.waypoints=[];this.clearTriggerQueues();r[this.axis][this.name]=this}var r={vertical:{},horizontal:{}},t=window.Waypoint;n.prototype.add=function(n){this.waypoints.push(n)};n.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}};n.prototype.flushTriggers=function(){var n,t,e,r,o,f;for(n in this.triggerQueues)for(t=this.triggerQueues[n],e="up"===n||"left"===n,t.sort(e?u:i),r=0,o=t.length;o>r;r+=1)f=t[r],(f.options.continuous||r===t.length-1)&&f.trigger([n]);this.clearTriggerQueues()};n.prototype.next=function(n){this.waypoints.sort(i);var r=t.Adapter.inArray(n,this.waypoints),u=r===this.waypoints.length-1;return u?null:this.waypoints[r+1]};n.prototype.previous=function(n){this.waypoints.sort(i);var r=t.Adapter.inArray(n,this.waypoints);return r?this.waypoints[r-1]:null};n.prototype.queueTrigger=function(n,t){this.triggerQueues[t].push(n)};n.prototype.remove=function(n){var i=t.Adapter.inArray(n,this.waypoints);i>-1&&this.waypoints.splice(i,1)};n.prototype.first=function(){return this.waypoints[0]};n.prototype.last=function(){return this.waypoints[this.waypoints.length-1]};n.findOrCreate=function(t){return r[t.axis][t.name]||new n(t)};t.Group=n}(),function(){"use strict";function n(n){this.$element=t(n)}var t=window.jQuery,i=window.Waypoint;t.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(t,i){n.prototype[i]=function(){var n=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,n)}});t.each(["extend","inArray","isEmptyObject"],function(i,r){n[r]=t[r]});i.adapters.push({name:"jquery",Adapter:n});i.Adapter=n}(),function(){"use strict";function n(n){return function(){var r=[],i=arguments[0];return n.isFunction(arguments[0])&&(i=n.extend({},arguments[1]),i.handler=arguments[0]),this.each(function(){var u=n.extend({},i,{element:this});"string"==typeof u.context&&(u.context=n(this).closest(u.context)[0]);r.push(new t(u))}),r}}var t=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=n(window.jQuery));window.Zepto&&(window.Zepto.fn.waypoint=n(window.Zepto))}();!function(){"use strict";function n(r){this.options=t.extend({},i.defaults,n.defaults,r);this.element=this.options.element;this.$element=t(this.element);this.createWrapper();this.createWaypoint()}var t=window.jQuery,i=window.Waypoint;n.prototype.createWaypoint=function(){var n=this.options.handler;this.waypoint=new i(t.extend({},this.options,{element:this.wrapper,handler:t.proxy(function(t){var i=this.options.direction.indexOf(t)>-1,r=i?this.$element.outerHeight(!0):"";this.$wrapper.height(r);this.$element.toggleClass(this.options.stuckClass,i);n&&n.call(this,t)},this)}))};n.prototype.createWrapper=function(){this.options.wrapper&&this.$element.wrap(this.options.wrapper);this.$wrapper=this.$element.parent();this.wrapper=this.$wrapper[0]};n.prototype.destroy=function(){this.$element.parent()[0]===this.wrapper&&(this.waypoint.destroy(),this.$element.removeClass(this.options.stuckClass),this.options.wrapper&&this.$element.unwrap())};n.defaults={wrapper:'<div class="sticky-wrapper" />',stuckClass:"stuck",direction:"down right"};i.Sticky=n}(),function(){"use strict";function t(){}function n(t){this.options=i.Adapter.extend({},n.defaults,t);this.axis=this.options.horizontal?"horizontal":"vertical";this.waypoints=[];this.element=this.options.element;this.createWaypoints()}var i=window.Waypoint;n.prototype.createWaypoints=function(){for(var t={vertical:[{down:"enter",up:"exited",offset:"100%"},{down:"entered",up:"exit",offset:"bottom-in-view"},{down:"exit",up:"entered",offset:0},{down:"exited",up:"enter",offset:function(){return-this.adapter.outerHeight()}}],horizontal:[{right:"enter",left:"exited",offset:"100%"},{right:"entered",left:"exit",offset:"right-in-view"},{right:"exit",left:"entered",offset:0},{right:"exited",left:"enter",offset:function(){return-this.adapter.outerWidth()}}]},r,n=0,i=t[this.axis].length;n<i;n++)r=t[this.axis][n],this.createWaypoint(r)};n.prototype.createWaypoint=function(n){var t=this;this.waypoints.push(new i({context:this.options.context,element:this.options.element,enabled:this.options.enabled,handler:function(n){return function(i){t.options[n[i]].call(t,i)}}(n),offset:n.offset,horizontal:this.options.horizontal}))};n.prototype.destroy=function(){for(var n=0,t=this.waypoints.length;n<t;n++)this.waypoints[n].destroy();this.waypoints=[]};n.prototype.disable=function(){for(var n=0,t=this.waypoints.length;n<t;n++)this.waypoints[n].disable()};n.prototype.enable=function(){for(var n=0,t=this.waypoints.length;n<t;n++)this.waypoints[n].enable()};n.defaults={context:window,enabled:!0,enter:t,entered:t,exit:t,exited:t};i.Inview=n}();$("document").ready(function(){function i(){$('<label for="sso-reg-showPassword">Show<\/label>').insertAfter(".mtsLandingModule #sso-reg-showPassword");$(".mtsLandingModule__socialRegister ul").append(" <li><p>Sign up using <strong>Facebook<\/strong><\/p><\/li> ").find("li:last").append($(".mtsLandingModule #facebookRegisterButton").addClass("mtsLandingModule__slideSectionSocialFacebook").val(""));$(".mtsLandingModule__socialRegister ul").append(" <li><p>Sign up using <strong>Twitter<\/strong><\/p><\/li> ").find("li:last").append($(".mtsLandingModule #twitterRegisterButton").addClass("mtsLandingModule__slideSectionSocialTwitter").val(""));$(".mtsLandingModule__socialRegister ul").append(" <li><p>Sign up using <strong>Google<\/strong><\/p><\/li> ").find("li:last").append($(".mtsLandingModule #googleRegisterButton").addClass("mtsLandingModule__slideSectionSocialGooglePlus").val(""));$(".mtsLandingModule #sso-reg-showPassword").iCheck({checkboxClass:"icheckbox_minimal-red"});$(".mtsLandingModule #sso-reg-showPassword").on("ifChanged",function(n){$(n.target).trigger("change")})}function r(){$('<label for="sso-login-showPassword">Show<\/label>').insertAfter(".mtsLandingModule #sso-login-showPassword");$(".mtsLandingModule__socialLogin ul").append(" <li><p>Log in using <strong>Facebook<\/strong><\/p><\/li> ").find("li:last").append($(".mtsLandingModule #facebookLoginButton").addClass("mtsLandingModule__slideSectionSocialFacebook").val(""));$(".mtsLandingModule__socialLogin ul").append(" <li><p>Log in using <strong>Twitter<\/strong><\/p><\/li> ").find("li:last").append($(".mtsLandingModule #twitterLoginButton").addClass("mtsLandingModule__slideSectionSocialTwitter").val(""));$(".mtsLandingModule__socialLogin ul").append(" <li><p>Log in using <strong>Google<\/strong><\/p><\/li> ").find("li:last").append($(".mtsLandingModule #googleLoginButton").addClass("mtsLandingModule__slideSectionSocialGooglePlus").val(""));$(".mtsLandingModule #sso-login-showPassword").iCheck({checkboxClass:"icheckbox_minimal-red"});$(".mtsLandingModule #sso-login-showPassword").on("ifChanged",function(n){$(n.target).trigger("change")})}$(".mtsLandingModule__formWrapper .tabgroup > div").hide();$(".mtsLandingModule__formWrapper .tabgroup > div:first-of-type").show();$(".mtsLandingModule__formWrapper .tabs a").click(function(n){n.preventDefault();var t=$(this),i="#"+t.parents(".tabs").data("tabgroup"),r=t.siblings("a"),u=t.attr("href");r.removeClass("active");t.addClass("active");$(i).children("div").hide();$(u).show()});var n=setInterval(function(){$("#sso-loginForm").length>0&&(clearInterval(n),r())},250),t=setInterval(function(){$("#sso-regForm").length>0&&(clearInterval(t),i())},250);$("body").on("click",".mtsLandingModule__socialRegister p, .mtsLandingModule__socialLogin p",function(){$(this).siblings().trigger("click")})});var EasyAutocomplete=function(n){return n.Configuration=function(n){function r(){var i,r;if("xml"===n.dataType&&(n.getValue||(n.getValue=function(n){return $(n).text()}),n.list||(n.list={}),n.list.sort||(n.list.sort={}),n.list.sort.method=function(t,i){return t=n.getValue(t),i=n.getValue(i),i>t?-1:t>i?1:0},n.list.match||(n.list.match={}),n.list.match.method=function(n,t){return n.search(t)>-1}),void 0!==n.categories&&n.categories instanceof Array){for(var f=[],u=0,e=n.categories.length;e>u;u+=1){i=n.categories[u];for(r in t.categories[0])void 0===i[r]&&(i[r]=t.categories[0][r]);f.push(i)}n.categories=f}}function u(){function i(n,t){var u=n||{},r;for(r in n)void 0!==t[r]&&null!==t[r]&&("object"!=typeof t[r]||t[r]instanceof Array?u[r]=t[r]:i(n[r],t[r]));return void 0!==t.data&&null!==t.data&&"object"==typeof t.data&&(u.data=t.data),u}t=i(t,n)}function f(){var i,r,u;"list-required"!==t.url&&"function"!=typeof t.url&&(i=t.url,t.url=function(){return i});void 0!==t.ajaxSettings.url&&"function"!=typeof t.ajaxSettings.url&&(i=t.ajaxSettings.url,t.ajaxSettings.url=function(){return i});"string"==typeof t.listLocation&&(r=t.listLocation,t.listLocation="XML"===t.dataType.toUpperCase()?function(n){return $(n).find(r)}:function(n){return n[r]});"string"==typeof t.getValue&&(u=t.getValue,t.getValue=function(n){return n[u]});void 0!==n.categories&&(t.categoriesAssigned=!0)}function e(){t.ajaxSettings=void 0!==n.ajaxSettings&&"object"==typeof n.ajaxSettings?n.ajaxSettings:{}}function o(n){return void 0!==t[n]&&null!==t[n]}function i(n,i){function r(t,i){for(var u in i)void 0===t[u]&&n.log("Property '"+u+"' does not exist in EasyAutocomplete options API."),"object"==typeof t[u]&&-1===$.inArray(u,s)&&r(t[u],i[u])}r(t,i)}var t={data:"list-required",url:"list-required",dataType:"json",listLocation:function(n){return n},xmlElementName:"",getValue:function(n){return n},autocompleteOff:!0,placeholder:!1,ajaxCallback:function(){},matchResponseProperty:!1,list:{sort:{enabled:!1,method:function(n,i){return n=t.getValue(n),i=t.getValue(i),i>n?-1:n>i?1:0}},maxNumberOfElements:6,hideOnEmptyPhrase:!0,match:{enabled:!1,caseSensitive:!1,method:function(n,t){return n.search(t)>-1}},showAnimation:{type:"normal",time:400,callback:function(){}},hideAnimation:{type:"normal",time:400,callback:function(){}},onClickEvent:function(){},onSelectItemEvent:function(){},onLoadEvent:function(){},onChooseEvent:function(){},onKeyEnterEvent:function(){},onMouseOverEvent:function(){},onMouseOutEvent:function(){},onShowListEvent:function(){},onHideListEvent:function(){}},highlightPhrase:!0,theme:"",cssClasses:"",minCharNumber:0,requestDelay:0,adjustWidth:!0,ajaxSettings:{},preparePostData:function(n){return n},loggerEnabled:!0,template:"",categoriesAssigned:!1,categories:[{maxNumberOfElements:4}]},s=["ajaxSettings","template"];this.get=function(n){return t[n]};this.equals=function(n,i){return!(!o(n)||t[n]!==i)};this.checkDataUrlProperties=function(){return"list-required"!==t.url||"list-required"!==t.data};this.checkRequiredProperties=function(){for(var n in t)if("required"===t[n])return logger.error("Option "+n+" must be defined"),!1;return!0};this.printPropertiesThatDoesntExist=function(n,t){i(n,t)};r();u();t.loggerEnabled===!0&&i(console,n);e();f()},n}(EasyAutocomplete||{}),EasyAutocomplete=function(n){return n.Logger=function(){this.error=function(n){console.log("ERROR: "+n)};this.warning=function(n){console.log("WARNING: "+n)}},n}(EasyAutocomplete||{}),EasyAutocomplete=function(n){return n.Constans=function(){var n={CONTAINER_CLASS:"easy-autocomplete-container",CONTAINER_ID:"eac-container-",WRAPPER_CSS_CLASS:"easy-autocomplete"};this.getValue=function(t){return n[t]}},n}(EasyAutocomplete||{}),EasyAutocomplete=function(n){return n.ListBuilderService=function(n,t){function i(t,i){function f(){var r,u={};return void 0!==t.xmlElementName&&(u.xmlElementName=t.xmlElementName),void 0!==t.listLocation?r=t.listLocation:void 0!==n.get("listLocation")&&(r=n.get("listLocation")),void 0!==r?"string"==typeof r?u.data=$(i).find(r):"function"==typeof r&&(u.data=r(i)):u.data=i,u}function e(){var n={};return void 0!==t.listLocation?"string"==typeof t.listLocation?n.data=i[t.listLocation]:"function"==typeof t.listLocation&&(n.data=t.listLocation(i)):n.data=i,n}var r={},u;return(r="XML"===n.get("dataType").toUpperCase()?f():e(),void 0!==t.header&&(r.header=t.header),void 0!==t.maxNumberOfElements&&(r.maxNumberOfElements=t.maxNumberOfElements),void 0!==n.get("list").maxNumberOfElements&&(r.maxListSize=n.get("list").maxNumberOfElements),void 0!==t.getValue)?"string"==typeof t.getValue?(u=t.getValue,r.getValue=function(n){return n[u]}):"function"==typeof t.getValue&&(r.getValue=t.getValue):r.getValue=n.get("getValue"),r}function r(t){var i=[];return void 0===t.xmlElementName&&(t.xmlElementName=n.get("xmlElementName")),$(t.data).find(t.xmlElementName).each(function(){i.push(this)}),i}this.init=function(t){var r=[],i={};return i.data=n.get("listLocation")(t),i.getValue=n.get("getValue"),i.maxListSize=n.get("list").maxNumberOfElements,r.push(i),r};this.updateCategories=function(t,r){var u,f;if(n.get("categoriesAssigned"))for(t=[],u=0;u<n.get("categories").length;u+=1)f=i(n.get("categories")[u],r),t.push(f);return t};this.convertXml=function(t){if("XML"===n.get("dataType").toUpperCase())for(var i=0;i<t.length;i+=1)t[i].data=r(t[i]);return t};this.processData=function(i,r){for(var u=0,f=i.length;f>u;u+=1)i[u].data=t(n,i[u],r);return i};this.checkIfDataExists=function(n){for(var t=0,i=n.length;i>t;t+=1)if(void 0!==n[t].data&&n[t].data instanceof Array&&n[t].data.length>0)return!0;return!1}},n}(EasyAutocomplete||{}),EasyAutocomplete=function(n){return n.proccess=function(t,i,r){function e(n,i){var u=[],e="",r,o;if(t.get("list").match.enabled)for(r=0,o=n.length;o>r;r+=1)e=t.get("getValue")(n[r]),f(e,i)&&u.push(n[r]);else u=n;return u}function f(n,i){return t.get("list").match.caseSensitive||("string"==typeof n&&(n=n.toLowerCase()),i=i.toLowerCase()),!!t.get("list").match.method(n,i)}function o(n){return void 0!==i.maxNumberOfElements&&n.length>i.maxNumberOfElements&&(n=n.slice(0,i.maxNumberOfElements)),n}function s(n){return t.get("list").sort.enabled&&n.sort(t.get("list").sort.method),n}n.proccess.match=f;var u=i.data,h=r;return u=e(u,h),u=o(u),u=s(u)},n}(EasyAutocomplete||{}),EasyAutocomplete=function(n){return n.Template=function(n){var t={basic:{type:"basic",method:function(n){return n},cssClass:""},description:{type:"description",fields:{description:"description"},method:function(n){return n+" - description"},cssClass:"eac-description"},iconLeft:{type:"iconLeft",fields:{icon:""},method:function(n){return n},cssClass:"eac-icon-left"},iconRight:{type:"iconRight",fields:{iconSrc:""},method:function(n){return n},cssClass:"eac-icon-right"},links:{type:"links",fields:{link:""},method:function(n){return n},cssClass:""},custom:{type:"custom",method:function(){},cssClass:""}},i=function(n){var r,i=n.fields;return"description"===n.type?(r=t.description.method,"string"==typeof i.description?r=function(n,t){return n+" - <span>"+t[i.description]+"<\/span>"}:"function"==typeof i.description&&(r=function(n,t){return n+" - <span>"+i.description(t)+"<\/span>"}),r):"iconRight"===n.type?("string"==typeof i.iconSrc?r=function(n,t){return n+"<img class='eac-icon' src='"+t[i.iconSrc]+"' />"}:"function"==typeof i.iconSrc&&(r=function(n,t){return n+"<img class='eac-icon' src='"+i.iconSrc(t)+"' />"}),r):"iconLeft"===n.type?("string"==typeof i.iconSrc?r=function(n,t){return"<img class='eac-icon' src='"+t[i.iconSrc]+"' />"+n}:"function"==typeof i.iconSrc&&(r=function(n,t){return"<img class='eac-icon' src='"+i.iconSrc(t)+"' />"+n}),r):"links"===n.type?("string"==typeof i.link?r=function(n,t){return"<a href='"+t[i.link]+"' >"+n+"<\/a>"}:"function"==typeof i.link&&(r=function(n,t){return"<a href='"+i.link(t)+"' >"+n+"<\/a>"}),r):"custom"===n.type?n.method:t.basic.method},r=function(n){return n&&n.type&&n.type&&t[n.type]?i(n):t.basic.method},u=function(n){var i=function(){return""};return n&&n.type&&n.type&&t[n.type]?function(){var i=t[n.type].cssClass;return function(){return i}}():i};this.getTemplateClass=u(n);this.build=r(n)},n}(EasyAutocomplete||{}),EasyAutocomplete=function(n){return n.main=function(t,i){function d(){return 0===u.length?void a.error("Input field doesn't exist."):r.checkDataUrlProperties()?r.checkRequiredProperties()?(w(),void g()):void a.error("Will not work without mentioned properties."):void a.error("One of options variables 'data' or 'url' must be defined.")}function w(){function n(){var i=$("<div>"),n=s.getValue("WRAPPER_CSS_CLASS");r.get("theme")&&""!==r.get("theme")&&(n+=" eac-"+r.get("theme"));r.get("cssClasses")&&""!==r.get("cssClasses")&&(n+=" "+r.get("cssClasses"));""!==p.getTemplateClass()&&(n+=" "+p.getTemplateClass());i.addClass(n);u.wrap(i);r.get("adjustWidth")===!0&&t()}function t(){var n=u.outerWidth();u.parent().css("width",n)}function i(){u.unwrap()}function o(){var n=$("<div>").addClass(s.getValue("CONTAINER_CLASS"));n.attr("id",b()).prepend($("<ul>")),function(){n.on("show.eac",function(){var t,i;switch(r.get("list").showAnimation.type){case"slide":t=r.get("list").showAnimation.time;i=r.get("list").showAnimation.callback;n.find("ul").slideDown(t,i);break;case"fade":t=r.get("list").showAnimation.time;i=r.get("list").showAnimation.callback;n.find("ul").fadeIn(t);i;break;default:n.find("ul").show()}r.get("list").onShowListEvent()}).on("hide.eac",function(){var t,i;switch(r.get("list").hideAnimation.type){case"slide":t=r.get("list").hideAnimation.time;i=r.get("list").hideAnimation.callback;n.find("ul").slideUp(t,i);break;case"fade":t=r.get("list").hideAnimation.time;i=r.get("list").hideAnimation.callback;n.find("ul").fadeOut(t,i);break;default:n.find("ul").hide()}r.get("list").onHideListEvent()}).on("selectElement.eac",function(){n.find("ul li").removeClass("selected");n.find("ul li").eq(f).addClass("selected");r.get("list").onSelectItemEvent()}).on("loadElements.eac",function(t,i,o){var y="",v=n.find("ul"),h,c,b;v.empty().detach();e=[];for(var w=0,s=0,k=i.length;k>s;s+=1)if(h=i[s].data,0!==h.length)for(void 0!==i[s].header&&i[s].header.length>0&&v.append("<div class='eac-category' >"+i[s].header+"<\/div>"),c=0,b=h.length;b>c&&w<i[s].maxListSize;c+=1)y=$("<li><div class='eac-item'><\/div><\/li>"),function(){var t=c,n=w,e=i[s].getValue(h[t]);y.find(" > div").on("click",function(){u.val(e).trigger("change");f=n;l(n);r.get("list").onClickEvent();r.get("list").onChooseEvent()}).mouseover(function(){f=n;l(n);r.get("list").onMouseOverEvent()}).mouseout(function(){r.get("list").onMouseOutEvent()}).html(p.build(a(e,o),h[t]))}(),v.append(y),e.push(h[c]),w+=1;n.append(v);r.get("list").onLoadEvent()})}();u.after(n)}function h(){u.next("."+s.getValue("CONTAINER_CLASS")).remove()}function a(n,t){return r.get("highlightPhrase")&&""!==t?y(n,t):n}function v(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function y(n,t){var i=v(t);return(n+"").replace(new RegExp("("+i+")","gi"),"<b>$1<\/b>")}u.parent().hasClass(s.getValue("WRAPPER_CSS_CLASS"))&&(h(),i());n();o();c=$("#"+b());r.get("placeholder")&&u.attr("placeholder",r.get("placeholder"))}function b(){var n=u.attr("id");return s.getValue("CONTAINER_ID")+n}function g(){function n(){tt("autocompleteOff",!0)&&b();t();i();s();c();p();w()}function t(){u.focusout(function(){var t,i=u.val(),n,o;for(r.get("list").match.caseSensitive||(i=i.toLowerCase()),n=0,o=e.length;o>n;n+=1)if(t=r.get("getValue")(e[n]),r.get("list").match.caseSensitive||(t=t.toLowerCase()),t===i)return f=n,void l(f)})}function i(){u.off("keyup").keyup(function(n){function i(n){function e(){var t={},i=r.get("ajaxSettings")||{},n;for(n in i)t[n]=i[n];return t}function s(n,t){return r.get("matchResponseProperty")!==!1?"string"==typeof r.get("matchResponseProperty")?t[r.get("matchResponseProperty")]===n:"function"==typeof r.get("matchResponseProperty")?r.get("matchResponseProperty")(t)===n:!0:!0}var f,i,t;n.length<r.get("minCharNumber")||("list-required"!==r.get("data")&&(f=r.get("data"),i=o.init(f),i=o.updateCategories(i,f),i=o.processData(i,n),k(i,n),u.parent().find("li").length>0?v():h()),t=e(),void 0!==t.url&&""!==t.url||(t.url=r.get("url")),void 0!==t.dataType&&""!==t.dataType||(t.dataType=r.get("dataType")),void 0!==t.url&&"list-required"!==t.url&&(t.url=t.url(n),t.data=r.get("preparePostData")(t.data,n),$.ajax(t).done(function(t){var i=o.init(t);i=o.updateCategories(i,t);i=o.convertXml(i);s(n,t)&&(i=o.processData(i,n),k(i,n));o.checkIfDataExists(i)&&u.parent().find("li").length>0?v():h();r.get("ajaxCallback")()}).fail(function(){a.warning("Fail to load response data")}).always(function(){})))}switch(n.keyCode){case 27:h();nt();break;case 38:n.preventDefault();e.length>0&&f>0&&(f-=1,u.val(r.get("getValue")(e[f])),l(f));break;case 40:n.preventDefault();e.length>0&&f<e.length-1&&(f+=1,u.val(r.get("getValue")(e[f])),l(f));break;default:if(n.keyCode>40||8===n.keyCode){var t=u.val();r.get("list").hideOnEmptyPhrase!==!0||8!==n.keyCode||""!==t?r.get("requestDelay")>0?(void 0!==y&&clearTimeout(y),y=setTimeout(function(){i(t)},r.get("requestDelay"))):i(t):h()}}})}function s(){u.on("keydown",function(n){n=n||window.event;var t=n.keyCode;if(38===t)return(suppressKeypress=!0,!1)}).keydown(function(n){13===n.keyCode&&f>-1&&(u.val(r.get("getValue")(e[f])),r.get("list").onKeyEnterEvent(),r.get("list").onChooseEvent(),f=-1,h(),n.preventDefault())})}function c(){u.off("keypress")}function p(){u.focus(function(){""!==u.val()&&e.length>0&&(f=-1,v())})}function w(){u.blur(function(){setTimeout(function(){f=-1;h()},250)})}function b(){u.attr("autocomplete","off")}n()}function v(){c.trigger("show.eac")}function h(){c.trigger("hide.eac")}function l(n){c.trigger("selectElement.eac",n)}function k(n,t){c.trigger("loadElements.eac",[n,t])}function nt(){u.trigger("blur")}var y,s=new n.Constans,r=new n.Configuration(i),a=new n.Logger,p=new n.Template(i.template),o=new n.ListBuilderService(r,n.proccess),tt=r.equals,u=t,c="",e=[],f=-1;n.consts=s;this.getConstants=function(){return s};this.getConfiguration=function(){return r};this.getContainer=function(){return c};this.getSelectedItemIndex=function(){return f};this.getItems=function(){return e};this.getItemData=function(n){return e.length<n||void 0===e[n]?-1:e[n]};this.getSelectedItemData=function(){return this.getItemData(f)};this.build=function(){w()};this.init=function(){d()}},n.eacHandles=[],n.getHandle=function(t){return n.eacHandles[t]},n.inputHasId=function(n){return void 0!==$(n).attr("id")&&$(n).attr("id").length>0},n.assignRandomId=function(t){var i="";do i="eac-"+Math.floor(1e4*Math.random());while(0!==$("#"+i).length);elementId=n.consts.getValue("CONTAINER_ID")+i;$(t).attr("id",i)},n.setHandle=function(t,i){n.eacHandles[i]=t},n}(EasyAutocomplete||{});!function(n){n.fn.easyAutocomplete=function(t){return this.each(function(){var i=n(this),r=new EasyAutocomplete.main(i,t);EasyAutocomplete.inputHasId(i)||EasyAutocomplete.assignRandomId(i);r.init();EasyAutocomplete.setHandle(r,i.attr("id"))})};n.fn.getSelectedItemIndex=function(){var t=n(this).attr("id");return void 0!==t?EasyAutocomplete.getHandle(t).getSelectedItemIndex():-1};n.fn.getItems=function(){var t=n(this).attr("id");return void 0!==t?EasyAutocomplete.getHandle(t).getItems():-1};n.fn.getItemData=function(t){var i=n(this).attr("id");return void 0!==i&&t>-1?EasyAutocomplete.getHandle(i).getItemData(t):-1};n.fn.getSelectedItemData=function(){var t=n(this).attr("id");return void 0!==t?EasyAutocomplete.getHandle(t).getSelectedItemData():-1}}(jQuery),function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?n(require("jquery")):n(jQuery)}(function(n){function i(n){return t.raw?n:encodeURIComponent(n)}function f(n){return t.raw?n:decodeURIComponent(n)}function e(n){return i(t.json?JSON.stringify(n):String(n))}function o(n){n.indexOf('"')===0&&(n=n.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return n=decodeURIComponent(n.replace(u," ")),t.json?JSON.parse(n):n}catch(i){}}function r(i,r){var u=t.raw?i:o(i);return n.isFunction(r)?r(u):u}var u=/\+/g,t=n.cookie=function(u,o,s){var y,a,h,v,c,p;if(o!==undefined&&!n.isFunction(o))return s=n.extend({},t.defaults,s),typeof s.expires=="number"&&(y=s.expires,a=s.expires=new Date,a.setTime(+a+y*864e5)),document.cookie=[i(u),"=",e(o),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("");for(h=u?undefined:{},v=document.cookie?document.cookie.split("; "):[],c=0,p=v.length;c<p;c++){var w=v[c].split("="),b=f(w.shift()),l=w.join("=");if(u&&u===b){h=r(l,o);break}u||(l=r(l))===undefined||(h[b]=l)}return h};t.defaults={};n.removeCookie=function(t,i){return n.cookie(t)===undefined?!1:(n.cookie(t,"",n.extend({},i,{expires:-1})),!n.cookie(t))}});gaTracking=function(n){"use strict";var u=n("body"),r=function(n,t,i){ga("send","event",{eventCategory:n,eventAction:t,eventLabel:i});console.log("GA Event - Category: "+n+", Action: "+t+", Label: "+i)},e=function(n,t,i){ga("send","event",{eventCategory:t||"Unspecified",eventAction:"Share",eventLabel:n+" ("+i+")"})},f=function(n,t){setTimeout(function(){window.location.href=n.attr("href")},100);t.preventDefault()},o=function(n,t){setTimeout(function(){n.closest("form").submit()},100);t.preventDefault()},s=function(t,i){var u=/(\w|[\-.])+$/.exec(t.href),e=/[^\.]+$/.exec(u)[0],o=n(t);return/(zip|ZIP|pdf|PDF|csv|CSV|doc*|DOC*|xls*|XLS*)+$/.test(e)?(r("Download","."+e+" download",u),f(o,i),!0):!1},t=function(n){var t=n.data("category")||"",i=n.data("label")||"",u=n.data("action")||"click";r(t,u,i)},h=function(){var n,t=setInterval(function(){typeof FB!="undefined"&&FB.Event&&FB.Event.subscribe?(FB.Event.subscribe("edge.create",function(n){ga("send","social","facebook","like",n)}),FB.Event.subscribe("edge.remove",function(n){ga("send","social","facebook","unlike",n)}),clearInterval(t)):n>100?clearInterval(t):n+=1},100)},c=function(){return{__utma:n.cookie("__utma")||"",__utmb:n.cookie("__utmb")||"",__utmc:n.cookie("__utmc")||"",__utmz:n.cookie("__utmz")||""}},l=function(){var i,r;u.on("click","button.js-trackevent-linkthrough",function(i){var r=n(this);t(r);o(r,i)});u.on("click","[data-category]",function(i){if(n(i.currentTarget).prop("tagName")!=="BUTTON"){var r=n(this),u=s(this,i);!u&&r.hasClass("js-trackevent")?(t(r),i.preventDefault()):!u&&r.hasClass("js-trackevent-linkthrough")?(t(r),f(r,i)):t(r)}});if(i=n(".js-sendGaEvent"),i.length&&i.each(function(){t(n(this))}),r=n(".js-trackevent-button"),r.length)r.on("click",function(i){i.preventDefault();t(n(this))});h()},i=function(){};return i.prototype.activate=function(){l()},i.prototype.sendShare=function(n,t,i){e(n.toLowerCase(),t,i)},i.prototype.trackCustomEvent=function(n){n.length&&t(n)},i.prototype.sendEvent=function(n,t,i){r(n,t,i)},i.prototype.getTrackingParams=function(){return c()},new i}(jQuery);isPageEditor=function(){return typeof Sitecore=="undefined"?!1:!!(Sitecore&&Sitecore.PageModes&&Sitecore.PageModes.PageEditor)};app.closeMenu=function(){$(".topMenu").removeClass("topMenu--on");$("body").removeClass("stop open");$(".mobile-trigger, .sticky-trigger, .stickyContainer__copy").removeClass("is-active")};app.closeAgentMenu=function(){console.log("closeAgentMenu");$(".agentHeaderRightLower__listItem").removeClass("agentHeaderRightLower__listItem--showSubMenu");$(".mobile-trigger, .sticky-trigger, .stickyContainer__copy").removeClass("is-active")};app.closeSubscribeModal=function(){$("subscribePopup__formInputVeil").hide();$(".subscribePopup__formInputContainer").hide()},function(n){if(!n.fn.style){var t=function(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},i=!!CSSStyleDeclaration.prototype.getPropertyValue;i||(CSSStyleDeclaration.prototype.getPropertyValue=function(n){return this.getAttribute(n)},CSSStyleDeclaration.prototype.setProperty=function(n,i,r){if(this.setAttribute(n,i),r=typeof r!="undefined"?r:"",r!==""){var u=new RegExp(t(n)+"\\s*:\\s*"+t(i)+"(\\s*;)?","gmi");this.cssText=this.cssText.replace(u,n+": "+i+" !"+r+";")}},CSSStyleDeclaration.prototype.removeProperty=function(n){return this.removeAttribute(n)},CSSStyleDeclaration.prototype.getPropertyPriority=function(n){var i=new RegExp(t(n)+"\\s*:\\s*[^\\s]*\\s*!important(\\s*;)?","gmi");return i.test(this.cssText)?"important":""});n.fn.style=function(n,t,i){var u=this.get(0),r;return typeof u=="undefined"?this:(r=this.get(0).style,typeof n!="undefined"?typeof t!="undefined"?(i=typeof i!="undefined"?i:"",r.setProperty(n,t,i),this):r.getPropertyValue(n):r)}}}(jQuery);var $document=$(document),$element=$(".socialWidget"),className="hasScrolled";$(window).load(function(){$(".stickyNav.tripNav").parent(".sticky-wrapper").addClass("tripNav-wrapper")});$(window).scroll(function(){var n=$(window).scrollTop();n>80?$(".images-module-container").addClass("scrolled"):$(".images-module-container").removeClass("scrolled")});$(document).ready(function(){function w(n,t,i){var r;return function(){var u=this,f=arguments,e=function(){r=null;i||n.apply(u,f)},o=i&&!r;clearTimeout(r);r=setTimeout(e,t);o&&n.apply(u,f)}}function c(){var n=$(".menuCarousel__image");n.length>0&&n.each(function(n,t){var i=$(t),r=i.closest(".menuCarousel__image_wrapper"),u=r.width(),f=r.height(),e=i.get(0).naturalWidth,o=i.get(0).naturalHeight,s=e/u,h=o/f;h>s&&i.addClass("menuCarousel__image--vertical_align")})}function l(){var n=$(".mightBeOfInterest");n.hasClass("closed")?(n.slideDown(),n.removeClass("closed")):(n.slideUp(),n.addClass("closed"))}function n(n,t){var r=document.querySelectorAll(n),u=[],i=0,f;if(t===!0)for(i=0;i<r.length;i++)r[i].style.height="auto";for(i=0;i<r.length;i++)f=r[i].clientHeight,u.push(f);for(i=0;i<r.length;i++)r[i].style.height=Math.max.apply(Math,u)+"px"}var r=$(".feefo-rating-tabs ul li a"),t,o,b,k,a,y,p,u,s,f,e,h;r.parent("li").removeClass("active");r.parent("li").first().addClass("active");$(".feefo-rating-box-inner-wrapper").find(".feefo-rating-box-inner ").removeClass("open");$(".feefo-rating-box-inner-wrapper").find(".feefo-rating-box-inner ").first().addClass("open");r.click(function(n){var t=$(this).parent("li").attr("data-tab");n.preventDefault();$(".feefo-rating-box-inner").removeClass("open");$("#"+t).addClass("open");$(this).parent("li").addClass("active");r.not(this).parent("li").removeClass("active")});window.location.search.indexOf("sc_debug=1")>0&&$("body").addClass("is-debug-mode");$(".feefo-rating-stars").each(function(){var n=$(this).find(".feefo-rating-value").text();$(this).find(".global-header-rating-statistics-short-stars-inner").css({width:n+"%"})});$(".bar-rating-item .bar-control").each(function(){var n=$(this).find(".bar-control-percentage").text();$(this).find(".bar-control-fill").css({width:n+"%"})});$(".rich-text-module").each(function(){$(this).parents(".flex-container").length&&$(this).addClass("flex-item")});$("#newslettter_lightbox_btn-close").length&&lightboxInitializeClose("#newslettter_lightbox_btn-close");$(".hotlink").click(function(){window.location=$(this).find(".link").attr("href")});$(".close-popup-icon").click(function(n){n.preventDefault();$(this).parent().hide()});$(".smoothScrollLink").smoothScroll();$("[data-action='print']").click(function(){window.print()});/(iphone|ipod|ipad)/.test(navigator.userAgent.toLowerCase())&&$("#videoPoster").hide();isPageEditor()&&$("body").addClass("is-page-editor");app.autoComplete.autoCompleteSearchUrl=$("#heroBanner__whereTo").data("search-url");app.autoComplete.autoCompleteTermsUrl=$("#heroBanner__whereTo").data("terms-url");$("body").keydown(function(n){var t,i;if(!!app.keyDebounce)return!1;n.keyCode===37?$(".DayOuting.block.on .prev").is(":visible")&&(app.itineraryDayPopup.prevInGallery(),t=app.itineraryDayPopup.modalWindow.index(),app.itineraryMap.highlightDay(t,$(".itineraryDay").eq(t).data("day")),keyDownDebounce()):n.keyCode===39?$(".DayOuting.block.on .next").is(":visible")&&(app.itineraryDayPopup.nextInGallery(),i=app.itineraryDayPopup.modalWindow.index(),app.itineraryMap.highlightDay(i,$(".itineraryDay").eq(i).data("day")),keyDownDebounce()):n.keyCode===27&&(!app.itineraryDayPopup||app.itineraryDayPopup.close(),!app.bookingPopup||app.bookingPopup.close(),$(".topMenu .close").is(":visible")&&app.closeMenu(),app.closeAgentMenu(),$(".subscribePopup__formInputWindow .close").is(":visible")&&app.closeSubscribeModal(),keyDownDebounce())});$("body").on("click",".openInWindow",function(n){n.preventDefault();window.open(jQuery(this).attr("href"),"newwindow","width=700, height=443")});$("body").on("click.removeAutoComplete",function(){removeAutoCompleteResults()});$("body").on("click.removeAutoComplete",".selectric-wrapper",function(){removeAutoCompleteResults()});if($("#heroBanner__formCTA, #agentHeroBanner__formCTA").click(function(n){var t,i,r;n.preventDefault();t=$("#Filter_SelectedDeparture option")[$(".heroBanner__form div.selectric-items .selected").data("index")].value;t=cleanSearchParameters(t);i=$("#heroBanner__whereTo").val();i=cleanSearchParameters(i);r=app.autoComplete.autoCompleteSearchUrl+"?Filter.SearchTerm="+i+"&Filter.SelectedDeparture="+t;window.location=r}),navigator.userAgent.match(/Trident\/7\./)&&$("body").addClass("disableBackgroundFixed"),$("#heroBanner__whereTo").keyup(function(){var n,t;removeAutoCompleteResults();app.autoComplete.autoCompleteInterval!=null&&(clearInterval(app.autoComplete.autoCompleteInterval),app.autoComplete.autoCompleteInterval=null);n=$(this).val().toLowerCase();n.length>2&&(typeof autocompleteCache!="undefined"?(t={},t.searchTerm=n,t.terms=autocompleteCache.terms.filter(startsWith.bind(this,n)).slice(0,3),t.featured=autocompleteCache.featured.filter(startsWith.bind(this,n)).slice(0,2),printAutoCompleteData(t)):$.ajax({url:app.autoComplete.autoCompleteTermsUrl,dataType:"json",data:{searchTerm:n},type:"get",success:function(n){clearInterval(app.autoComplete.autoCompleteInterval);app.autoComplete.autoCompleteInterval=null;app.autoComplete.autoCompleteInterval=setInterval(function(){app.autoComplete.autoCompleteTermLength===0&&printAutoCompleteData(n)},100)}}))}),/(iphone|ipod|ipad).* os 8_/.test(navigator.userAgent.toLowerCase())){$(".stickyContainer").find("#sticky__whereTo,.inputContainerTwo").on("touchstart",function(n){n.stopPropagation();$("html,body").animate({scrollTop:0},500);$(this).is(".inputContainerTwo")?setTimeout(function(){$("#heroBanner__whereTo").blur();$("#Filter_SelectedDeparture").selectric("open");$("#Sticky_SelectedDeparture").selectric("close")},500):$(this).is("#sticky__whereTo")&&(n.preventDefault(),$("#heroBanner__whereTo").click().trigger("touchstart"))});$("#heroBanner__whereTo").on("touchstart",function(){$(this).focus()})}/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)?($("body").addClass("mobile"),$("video").addClass("play"),$("#c").length>0&&$("#c").attr("style","background-image:"+$("#c").data("poster-mobile"))):$("#c").length>0&&$("#c").attr("style","background-image:"+$("#c").data("poster-desktop"));t=document.getElementById("v");t!=null&&(t.onloadeddata=function(){videoHandler()},t.readyState===4||t.readyState===3,videoHandler(),v.load());$(".itineraryFallback__accordion").length>0&&$(".itineraryFallback__accordion").accordion({linkClass:"itineraryFallback__accordionSectionHeader",linkActiveClass:"itineraryFallback__accordionSectionHeader--active",contentClass:"itineraryFallback__accordionSectionContent",contentActiveClass:"itineraryFallback__accordionSectionContent--active"});$(".upperFooter").length>0&&$(".upperFooter").accordion({linkClass:"footer__accordionSectionHeader",linkActiveClass:"footer__accordionSectionHeader--active",contentClass:"upperFooter__columnContent",contentActiveClass:"footer__accordionSectionContent--active"});$(".calendarExtentions__accordion").length>0&&$(".calendarExtentions__accordion").accordion({linkClass:"calendarExtentions__accordionSectionHeader",linkActiveClass:"calendarExtentions__accordionSectionHeader--active",contentClass:"calendarExtentions__accordionSectionContent",contentActiveClass:"calendarExtentions__accordionSectionContent--active"});$(".menuCarousel__container").length>0&&$(".menuCarousel__container").owlCarousel({margin:1,nav:!0,onResized:function(){resizeSlider.call(this);c()},navText:['<i class="fa fa-angle-left"><\/i>','<i class="fa fa-angle-right"><\/i>'],onInitialized:function(){resizeSlider.call(this);c()}});$(".landingArticleLister").length>0&&$(".landingArticleLister").owlCarousel({autoWidth:!0,items:1,nav:!0,mouseDrag:!0,dots:!0,responsive:{0:{nav:!1},481:{nav:!0}}});$(".newsletter-form").length>0&&$(".newsletter-form").newsletterForm({terms:$(".mainFooter-newsletter-terms")});$(".newsletterPopup").length>0&&$(".newsletterPopup").popupNewsletterForm({terms:$(".popup-newsletter-terms"),veil:$(".newsletterPopupVeil")});$("select").length>0&&$("select").selectric({disableOnMobile:!1});$("input").length>0&&$("input").length>0&&(o=[],$("input").each(function(n,t){!$(t).closest("#SSOTA_App").length>0&&o.push($(t))}),$(o).iCheck({checkboxClass:"icheckbox_minimal-red",radioClass:"iradio_minimal-red",increaseArea:"20%"}));$(".heroBanner__form").length&&$.getScript("//"+window.location.host+"/autocomplete/default").fail(function(){});$(".reviewsHeroBanner__form").length&&$.getScript("//"+window.location.host+"/reviewsautocomplete/default").done(function(){}).fail(function(){});$(".tooltip").each(function(n,t){var i="";i=$(t).hasClass("tooltipBottom")?"bottom":"top";$(t).tooltipster({delayTouch:[0,2e3],theme:["tooltipster-noir","tooltipster-noir-customized"],side:i,functionInit:function(n,t){var i=$(t.origin).find(".tooltip_content").detach();i.length>0&&n.content(i)}})});$(".subscribePopup__form").submit(function(){var n=!0;return $("input").each(function(){$.trim($(this).val()).length===0?($(this).addClass("highlight"),$(this).prev(".subscribePopup__formError").css("display","block"),n=!1):$(this).removeClass("highlight")}),n&&($(".subscribePopup__form .input-group").hide(),$(".subscribePopup__formConfirmation").show()),n});$(".headerRightLower__searchIcon, .headerRightMobile__searchIcon, .stickyContainer__searchTrigger").click(function(n){n.preventDefault();n.stopPropagation();$("body").toggleClass("searchOn");$("body").removeClass("agentMenuOpen");$(".header__searchContainer").toggleClass("on");$(".accountDropdown__ul--nonMts").removeClass("open");app.MTSDropdown.closeDropdown();app.closeAgentMenu();$("body").hasClass("surfaceSearch")?setTimeout(function(){$("body").toggleClass("surfaceSearch")},550):$("body").toggleClass("surfaceSearch");setTimeout(function(){$("body").hasClass("searchOn")&&$(".header__searchInput").trigger("focus")},550)});$(".header__searchInput,.header__searchSubmit").click(function(n){n.stopPropagation()});$(".accountDropdown__ul--nonMts").click(function(n){n.stopPropagation();$(".accountDropdown__ul--nonMts").toggleClass("open");$(".header__searchContainer ").removeClass("on")});$("body").on("click.removedropdowns",function(n){$(".accountDropdown__ul--nonMts").removeClass("open");$(".headerRightLower__accountDropdown").removeClass("open");var t=!$(n.target).hasClass("accountDropdown__a")&&!$(n.target).hasClass("helloMtsUser")&&!$(n.target).hasClass("fa")&&$(n.target).parents(".accountDropdown__slideContainer").length===0&&!$(n.target).hasClass("accountDropdown__aInner")&&!$(n.target).hasClass("headerRightMobile__user")&&!$(n.target).hasClass("headerRightMobile__userIcon");t&&app.MTSDropdown.closeDropdown();$(".header__searchContainer ").removeClass("on");$("body").removeClass("searchOn surfaceSearch")});$(".headerVisitCountryContainer .close").click(function(){$(".headerVisitCountryRow").slideUp();$(".headerContainer, .topMenu, .heroBanner--overlay,body").removeClass("regionTeaserActive")});$(".headerVisitCountryContainer").length!==0&&$(".headerContainer, .topMenu, .heroBanner--overlay,body").addClass("regionTeaserActive");$(".topMenu .close").click(function(){app.closeMenu();app.closeAgentMenu()});$(".topMenu .closeTopMenuOnHash").click(function(n){$(this).attr("href").indexOf("#")>-1&&(n.preventDefault(),$(".topMenu .close").trigger("click"),window.location=$(this).attr("href"))});$("body").on("click",".mobile-trigger, .sticky-trigger, .stickyContainer__copy.menu",function(){$(this).toggleClass("is-active");$(".topMenu").toggleClass("topMenu--on");$(".topMenu").is(".topMenu--on")?setTimeout(function(){$(".menuItems__top").addClass("menuItems--show")},50):setTimeout(function(){$(".menuItems__top").removeClass("menuItems--show")},50);$("body").toggleClass("stop open");$(this).parent().hasClass("agentHeaderRightLower")||app.megaMenu.loadImages();$(".headerRightMobile__searchIcon").toggleClass("menu--on");$(".header__searchContainer").removeClass("on");$("body").removeClass("searchOn surfaceSearch");$("body").removeClass("agentMenuOpen");resizeMenu()});$("body").on("click",".agentProfileMenu__button",function(){var n=window.innerWidth;n<991&&($(".topMenu").removeClass("topMenu--on"),$(".mobile-trigger").removeClass("is-active"),$("body").removeClass("searchOn surfaceSearch stop open"),$("body").toggleClass("agentMenuOpen"))});$(".region__link").click(function(){$(".regionSelector").css("max-height","none");var n=$(document).height();return $(".regionSelector").css("max-height","0px"),$(".regionSelector").toggleClass("open"),$("html,body").animate({scrollTop:n},"slow"),!1});$(".regionSelector__close").click(function(){$(".regionSelector").removeClass("open")});$(".nextSection").click(function(){var n=0;n=$(this).parents(".landPageTemplate").length?$(this).parents(".landPageTemplate").position().top+$(this).parents(".landPageTemplate").height()+-80:$(this).parents("section").position().top+$(this).parents("section").height();$("html,body").animate({scrollTop:n+"px"},700)});app.MTSDropdown=new MTSDropdown;$(".headerRightLower__accountDropdown .loggedInMts .accountDropdown__a,\t.headerRightLower__accountDropdown .notLoggedInMts .accountDropdown__a").click(function(n){n.preventDefault();app.MTSDropdown.setFirstPane();app.MTSDropdown.openDropdown()});$(".headerRightMobile__user").length>0&&$(".headerRightMobile__user").click(function(n){n.preventDefault();$(".headerRightLower__accountDropdown").hasClass("active")?app.MTSDropdown.closeDropdown():(app.closeMenu(),app.MTSDropdown.setFirstPane(),app.closeAgentMenu(),app.MTSDropdown.openDropdown())});app.megaMenu=new MegaMenu({menuContainer:".menuItems__top"});$(".headerRightLower__navLink").click(function(n){$(this).attr("href")==="#"&&(n.preventDefault(),$(".mobile-trigger").click(),$(".menuItems__topLevelLink").eq($(this).parent().index()).click())});app.itineraryDayPopup=new Modal({modalContainer:".itineraryDayPopupContainer",modalWindow:".DayOuting",stopBodyScrolling:!1,customBodyClass:"itinerarySectionActive",openCallback:function(){var n=app.itineraryDayPopup.options.modalWindow;$.type(app.itineraryDayPopup.options.modalWindow)=="string"&&(n=$(app.itineraryDayPopup.options.modalWindow));$(".DayOuting__container").nanoScroller();n.find(".scroll-icon").stop().css("display","none");n.find(".scrollDownDay").hide();n.find(".DayOutingOverview").removeClass("noScrollShroud");n.find(".DayOutingOverview__DayFlickerContainer").removeClass("scrollable")},afterOpenCallback:function(){$(".DayOuting__container").nanoScroller();var n=app.itineraryDayPopup.options.modalWindow;if($.type(app.itineraryDayPopup.options.modalWindow)=="string"&&(n=$(app.itineraryDayPopup.options.modalWindow)),n.find(".nano-pane").css("display")=="block"){n.find(".scroll-icon").stop().fadeIn(300);n.find(".scrollDownDay").stop().fadeIn(300);n.find(".DayOutingOverview__DayFlickerContainer").addClass("scrollable");n.find(".nano-content > .DayOutingOverview:last-child").addClass("scrollPadding");n.on("mousemove.removescrollshroud",function(){t.apply($(this))});setTimeout($.proxy(t,n),1800);function t(){this.find(".DayOutingOverview").addClass("noScrollShroud");this.find(".scroll-icon").stop().fadeOut(300);this.off("mousemove.removescrollshroud")}}else n.find(".DayOutingOverview").addClass("noScrollShroud")},closeCallback:function(){}});$(".scrollDownDay").click(function(){var n=$(this),t=n.closest(".DayOuting"),i=t.find(".nano-content");return i.animate({scrollTop:1e4},1e3),!1});$(".mightBeOfInterest").length>0&&($(".notSureWhatTrip__text a").click(function(n){n.preventDefault();var t=$(".mightBeOfInterestWrap").offset().top;console.log(t);$(".mightBeOfInterest").hasClass("closed")&&$("html,body").animate({scrollTop:t-$(".tripNav").height()},500);l()}),$(".mightBeOfInterest__close, .mightBeOfInterest_CloseBtn").click(function(n){n.preventDefault();l()}));$(".tripNav").length>0&&(b=new Waypoint.Sticky({element:$(".tripNav").get(0)}));$(".shareWidget").length>0&&(k=new Waypoint.Sticky({element:$(".shareWidget")[0],wrapper:'<div class="sm-sticky-wrapper" />'}));initCarousels();$(".tripListingCarousel").length>0&&(a=window.innerWidth,a>991&&(n(".tripListingCarousel__shortDescription",!1),n(".tripListingCarousel__itemTitle",!1),n(".tripListingCarousel__reviewStars",!1)),$(window).resize(function(){var t=window.innerWidth,i=w(function(){n(".tripListingCarousel__shortDescription",!0);n(".tripListingCarousel__itemTitle",!0);n(".tripListingCarousel__reviewStars",!0)},250);t>991&&i()}));isPageEditor()||$(".cardBanner__contentInner").dotdotdot({watch:"window"});var i="#subscribePopup__formInputContent",d=$(document).height(),g=$(window).width();$(".subscribePopup__formInputVeil").css({width:g,height:d});$(".subscribePopup__formInputVeil").fadeIn(200);$(".subscribePopup__formInputVeil").fadeTo("slow",.7);y=$(window).height();p=$(window).width();$(i).css("top",y/2-$(i).height()/2);$(i).css("left",p/2-$(i).width()/2);$(i).fadeIn(1e3);$(".subscribePopup__formInputWindow .close").click(function(n){n.preventDefault();app.closeSubscribeModal()});$(".subscribePopup__formInputVeil, .subscribePopup__close").click(function(){$(this).hide();$(".subscribePopup__formInputContainer").hide()});$(".container").filter(function(){var n=!0;return $(this).parents(".container").length>0&&(n=!1),n}).each(function(){$(this).find('.latestDealsCard,[data-control="UI015_Trip_Sale_Promo"] .latestDeals__holidayPrice,.content-banner-lite,.cardBanner').each(function(n){$(this).addClass("delay-"+n)})});u=$(".textblock_content,.latestDealsCard,.latestDeals__holidayPrice,.content-banner-lite,.cardBanner");u.length>0&&(u.parents(".row-component").attr("style","overflow:hidden !important;"),u.each(function(){var n=new Waypoint.Inview({element:$(this).get(0),enter:function(){$(this.element).addClass("appear")}})}));s=$(".TextModule .content");s.length>0&&s.each(function(){var n=new Waypoint.Inview({element:$(this).get(0),enter:function(){$(this.element).addClass("appear")}})});$(".headerRightUpper__agentsPhone,.headerRightUpper__agentsLogin").on("mouseenter",function(){$(this).hasClass("active")||$(".headerRightUpper__agentsPhone span,.headerRightUpper__agentsLogin span").stop().toggle({effect:"slide",direction:"left",duration:400});$(this).addClass("active");$(this).siblings().removeClass("active")});mtsMenuHandler();$("img.lazyLoadMe").lazyload({threshold:200});$(window).trigger("resize.megamenu");$(window).trigger("resize.hero");$("body").on("focusin",".form-box form .form-field.text",function(){$(this).addClass("focused")});$("body").on("focusout",".form-box form .form-field.text",function(){var n=$(this);n.find("input").val().length<1&&n.removeClass("focused")});$("body").on("click",".form-box form .form-field.text label",function(){$(this).parents("div").hasClass("focused")||$(this).siblings("input").focus()});$(".downloadLink").on("click",function(n){typeof this.download=="undefined"&&(n.preventDefault(),window.open($(this).attr("href")))});$(".toggleAccordion").on("click",function(n){n.preventDefault();$(this).toggleClass("open");var r=$(".itineraryFallback__accordionSectionContent").length,t=$(".itineraryFallback__accordionSectionContent--active").length,i=$('.itineraryFallback__accordionSectionContent:not(".itineraryFallback__accordionSectionContent--active")').length;t==0||i==0?$(".itineraryFallback__accordionSectionHeader").trigger("click"):t>i?$('.itineraryFallback__accordionSectionHeader:not(".itineraryFallback__accordionSectionHeader--active")').trigger("click"):t<i&&$(".itineraryFallback__accordionSectionHeader--active").trigger("click")});if($(".tripHeader").length>0){$(".alwaysIncluded li").length>3&&(f=!0,$(".alwaysIncluded li:gt(2)").hide(),$(".alwaysIncluded .showMore").removeClass("hidden"));$(".alwaysIncluded .showMore").on("click",function(n){n.preventDefault();f===!0?(f=!1,$(".alwaysIncluded li:gt(2)").show(),$(".alwaysIncluded .showMore").html("Less...")):(f=!0,$(".alwaysIncluded li:gt(2)").hide(),$(".alwaysIncluded .showMore").html("More..."))});$(".sightseeingHighlights li").length>3&&(e=!0,$(".sightseeingHighlights li:gt(2)").hide(),$(".sightseeingHighlights .showMore").removeClass("hidden"));$(".sightseeingHighlights .showMore").on("click",function(n){n.preventDefault();e===!0?(e=!1,$(".sightseeingHighlights li:gt(2)").show(),$(".sightseeingHighlights .showMore").html("Less...")):(e=!0,$(".sightseeingHighlights li:gt(2)").hide(),$(".sightseeingHighlights .showMore").html("More..."))});$("#upgrades").length>0&&($(".tripHeader .check-availability-btn").attr("href","#upgrades"),$(".aboutTrip .book-now-btn").attr("href","#upgrades"))}if($("form.calendarLeftColumn__Upgrades input[type=radio]").length>0){h="departures__";$("form.calendarLeftColumn__Upgrades input[type=radio]").on("ifChecked",function(){var n=h+$(this).val();toggleAgentTripDepartures(n)});$("form.calendarLeftColumn__Upgrades input[type=radio]:checked").length>0&&toggleAgentTripDepartures(h+$("form.calendarLeftColumn__Upgrades input[type=radio]:checked").val())}GaTracking.activate();addGAAttribute(".bookNowBtn");addGAAttribute(".dealsList__book .book");addGAAttribute(".tripTable-link .btn.btn-block.btn-ghost")});$(window).load(function(){$(".stickyNav.tripNav").parent(".sticky-wrapper").addClass("tripNav-wrapper")});$(window).scroll(function(){var n=$(window).scrollTop();n>80?$(".images-module-container").addClass("scrolled"):$(".images-module-container").removeClass("scrolled");$(".stickyHeader").length>0&&window.innerWidth>767&&($(window).scrollTop()>$(".headerContainer").height()?($("body").addClass("stickyHeader--on"),$(".scWebEditRibbon").height()===26||$(".scWebEditRibbon").height()===27?$(".stickyHeader").addClass("stickyHeader--show_pe_small"):$(".scWebEditRibbon").height()===102?$(".stickyHeader").addClass("stickyHeader--show_pe"):$(".stickyHeader").addClass("stickyHeader--show")):($("body").removeClass("stickyHeader--on"),$(".stickyHeader").removeClass("stickyHeader--show_pe"),$(".stickyHeader").removeClass("stickyHeader--show_pe_small"),$(".stickyHeader").removeClass("stickyHeader--show")))});$(window).on("resize.dateswindow",function(){$(".calendarColumnContent,calendarLeftColumn__rightBorder").css("height","auto");var n=$(".calendarColumnContent").height()>$(".calendarLeftColumn__rightBorder").height()?$(".calendarColumnContent").height():$(".calendarLeftColumn__rightBorder").height();$(".calendarColumnContent,calendarLeftColumn__rightBorder").height(n)});$(window).on("resize.inspiration",function(){initCarousels()});$(window).on("resize.menuRedesign",function(){window.innerWidth>768&&window.innerWidth<991?$("body").addClass("noTransition"):$("body").removeClass("noTransition");window.innerWidth>768&&$("body").removeClass("stickyHeader--on");$(window).width()>991&&$("body").removeClass("agentMenuOpen")});$(window).on("resize.tripmap",function(){!app.tripMap.contentHeightTimeout||(clearTimeout(app.tripMap.contentHeightTimeout),app.tripMap.contentHeightTimeout=undefined)});$(window).on("resize.video",function(){if(!$(".heroBanner__videoContainer").length)return!1;app.elements.canvas.width=$("#c").width();app.elements.canvas.height=$("#c").height()});$(window).on("resize.megamenu",function(){$(window).width()>991?($(".topMenu").find(".activateSection").length<2&&($(".topMenu").find(".activateSection").removeClass("activateSection"),$(".topMenu").find(".menuItems__topLevelLink:first").addClass("active"),$(".topMenu").find(".menuItems__sub .subMenu__sectionLink:first").addClass("active"),$(".topMenu").find(".subMenuGrid:first").addClass("activateSection"),$(".topMenu").find(".subMenu:first").addClass("activateSection"),app.megaMenu.currentSection=$(".topMenu").find(".subMenuGrid:first")),resizeMenu()):$(".topMenu").find(".activateSection").removeClass("activateSection");resizeMenu()});$(window).on("resize.orientation",function(){app.oldOrientation=app.orientation;app.orientation=$(window).width()>$(window).height()?"landscape":"portrait"});$(window).on("resize.hero",function(){if($(window).width()<768&&$(".heroBanner").length>0){if(app.elements.heroHeight===undefined||app.orientation!==app.oldOrientation){$(".tripHero,.heroBanner--videoContainer, .heroBanner--mobileFallback, .heroBanner--overlay").css("height","auto");$(".heroBanner--overlay").css("min-height","");var n=$(".heroBanner--overlay").height()+$(".heroBanner--overlay").offset().top+50;$(".tripHero,.heroBanner--videoContainer, .heroBanner--mobileFallback").style("height",n+"px","important");$(".heroBanner--overlay").style("height",$(".heroBanner--overlay").outerHeight()+"px","important");$(".heroBanner--overlay").css("min-height","unset");$(".heroBanner--darkBacking").css("height",n);app.elements.heroHeight=n}}else $(".tripHero,.heroBanner--videoContainer, .heroBanner--mobileFallback, .heroBanner--overlay").css("height",""),$(".heroBanner--darkBacking").css("height","")});$(window).on("resize.moveMTSMenu",function(){mtsMenuHandler()})